.\" $Revision$
.TH MODERATORS 5
.SH NAME
moderators \- submission addresses for moderated newsgroups
.SH DESCRIPTION
When an unapproved article is posted locally to a moderated newsgroup,
it is not passed off to
.IR innd (8)
for normal handling; instead it's instead sent via e-mail to the submission
address for that newsgroup.  The file
.I <pathetc in inn.conf>/moderators
lists the submission addresses for moderated newsgroups.
This file is used by
.IR nnrpd "(8), " inews (1),
and any other program that uses the GetModeratorAddress() routine (see
.IR libinn (3)).
.PP
The moderators file is a list of associations between
.IR uwildmat(3)
patterns matching newsgroups and the submission address for those
newsgroups.
Blank lines and lines starting with a number sign (``#'') are ignored.
All other lines should consist of two fields separated by a colon.
.PP
The first field specifies the group or groups to match using
.IR uwildmat(3).
The first matching line is used, so more specific patterns should occur
earlier than general patterns.
.PP
The second field, the submission address, may have at most one
.I %s
anywhere in it; if present, this will be replaced by the name of the
newsgroup with periods replaced by dashes.  If there is a literal ``%'' in
the submission address, it must be written as ``%%'' (even if not followed
by an ``s'').
.PP
Here is a sample file:
.RS
.nf

example.important:announce-request@example.com
example.*:%s@smtp.example.com
gnu.*:%s@prep.ai.mit.edu
*:%s@moderators.isc.org

.fi
.RE
Using the above file, postings to the moderated newsgroup in the left
column will be sent to the address shown in the right column:
.RS
.nf

.ta \w'example.x.announce   'u
example.important	announce-request@example.com
example.x.announce	example-x-announce@smtp.example.com
gnu.emacs.sources	gnu-emacs-sources@prep.ai.mit.edu
comp.sources.unix	comp-sources-unix@moderators.isc.org

.fi
.RE
Periods are converted to dashes for historical reasons, from back in the
days when periods in the local part of addresses were not always handled
correctly.  It's probably no longer necessary, but so much now depends on
it that it can't be easily changed.
.PP
It's intended that the sample moderators file included in the INN
distribution always be sufficient for all world-wide newsgroups.  The
hosts behind moderators.isc.org have graciously volunteered to handle
forwarding tasks for all world-wide newsgroups so that individual sites
don't have to keep track of the submission addresses for moderated groups.
The forwarding database used by moderators.isc.org is coordinated by
moderators-request@isc.org; if you know of a world-wide newsgroup
hierarchy that is not correctly handled by moderators.isc.org, please send
the details to that address.
.PP
Given that, the only thing you should have to add to the sample file under
normal circumstances are the forwarding addresses for local or 
limited-distribution moderated groups.
.SH HISTORY
Written by Rich $alz <rsalz@uunet.uu.net> for InterNetNews.
.de R$
This is revision \\$3, dated \\$4.
..
.R$ $Id$
.SH "SEE ALSO"
inews(1), inn.conf(5), libinn(3), uwildmat(3).
