.\" $Revision$
.TH MAKEDBZ 8
.SH NAME
makedbz \- rebuild dbz files
.SH SYNOPSIS
.B makedbz
[
.BI \-f " filename"
]
[
.B \-i
]
[
.B \-o
]
[
.BI \-s " size"
]
.SH DESCRIPTION
.PP
.I Makedbz
rebuilds
.IR dbz (3)
database.
The default name of the text file is
.IR <pathdb\ in\ inn.conf>/history ;
to specify a different name, use the ``\fB\-f\fP'' flag.
.SH OPTIONS
.TP
.B \-f file
If the ``\fB\-f\fP'' flag is used, then the database files are named
.IR file.dir ,
.IR file.index ,
and
.IR file.hash .
If the ``\fB\-f\fP'' flag is not used, then a temporary link to the name
.I history.n
is made and the database files are written as
.I history.n.index
,
.I history.n.hash
and
.IR history.n.dir .
.TP
.B \-i
To ignore the old database use the ``\fB\-i\fP'' flag.
Using the ``\fB\-o\fP'' or ``\fB\-s\fP'' flags implies the ``\fB\-i\fP'' flag.
.TP
.B \-o
If the ``\fB\-o\fP'' flag is used, then the link is not made and any existing
history files are overwritten.
If the old database exists,
.I makedbz
will use it to determine the size of the new database.
.TP
.B \-s size
The program will also ignore any old database if the ``\fB\-s\fP'' flag is used
to specify the approximate number of entries in the new database.
Accurately specifying the size is an optimization that will create a more
efficient database.  Size is measured in key-value pairs (i.e., lines).
(The size should be the estimated eventual size of the file, typically
the size of the old file.)
For more information, see the discussion of
.I dbzfresh
and
.I dbzsize
in
.IR dbz (3).
.SH HISTORY
Written by Katsuhiro Kondou <kondou@nec.co.jp> for InterNetNews.
.de R$
This is revision \\$3, dated \\$4.
..
.R$ $Id$
.SH "SEE ALSO"
dbz(3),
history(5),
inn.conf(5).
