Tue Aug 24 00:23:48 1999 David C Lawrence <tale>

  * nnrpd/misc.c (1.28.2.5):
    Made 2 digit years in NEWGROUPS/NEWNEWS compatible with the draft NNTP
    standard.

Mon Aug 23 23:13:19 1999 David C Lawrence <tale>

  * samples/mod-active.in (1.1.2.2):
    made the flag for a short diff listing more portable

Sun Aug 22 06:25:10 1999 Russ Allbery <rra>

  * frontends/inews.c (1.15.2.5):
    Fixes for several potential buffer overflows, some more likely than
    others.
    Various sanity checks added to ensure strings aren't longer than
    working
    buffers.  I *think* all strcpy() and sprintf() calls are now okay, but
    the
    code should really be rewritten to make better use of dynamic buffers.

Sat Aug 21 04:35:18 1999 Russ Allbery <rra>

  * frontends/inews.c (1.15.2.4):
    Jeff King <peff@dbd.com>:
    There is no bounds-checking on "from" headers given on the command
    line;
    when copied into SMBUF-sized buffers, an overflow can occur and
    arbitrary
    code can be executed.

Wed Aug 11 12:06:09 1999  <kondou>

  * nnrpd/newnews.c (1.9.2.2):
    nnrpd/newnews.c:
	    - reported by Markus Stumpf <maex@Space.Net>
	    - the result of newnews includes trailing '\t' for traditional

Sun Aug 08 21:56:53 1999  <kondou>

  * innd/art.c (1.90.2.9):
    innd/art.c:
	    - reported by news@hammer.msfc.nasa.gov
	    - 'AC' for junk didn't work

Wed Aug 04 03:22:12 1999  <kondou>

  * samples/parsecontrol.in (1.18.2.2):
    samples/parsecontrol.in:
	    - checkgroups failed for non-controlchan

Wed Jul 14 13:27:07 1999  <kondou>

  * nnrpd/post.c (1.28.2.8):
    nnrpd/post.c
	    - don't append fromhost for X-Complaints-To, if NEWSMASTER
    includes '@'

Tue Jul 13 01:42:59 1999  <kondou>

  * samples/control.ctl (1.10.2.3):
    samples/control.ctl:
	    - reported by Alexander Koch <efraim@argh.org>
	    - fixed typo

Thu Jul 08 21:18:34 1999  <kondou>

  * innd/cc.c (1.47.2.6):
  * innd/innd.c (1.40.2.3):
    innd/cc.c:
    innd/innd.c:
	    - invalid string was showed at syslog()

Wed Jul 07 21:37:47 1999  <kondou>

  * samples/newsfeeds.in (1.3.2.3):
    samples/newsfeeds.in:
	    - From: Robert Kiessling <robert@easynet.de>
	    - Update the flag description in file newsfeeds

Wed Jul 07 18:50:38 1999 David C Lawrence <tale>

  * lib/makedir.c (1.3.2.1):
    MakeDir() should have its errno determined by mkdir().  Cases where
    mkdir() failed resulted in errno having the value of a subsequent
    stat().  This fix was made earlier to the CURRENT branch by someone
    else (I did not check who) and I am just applying it in 2.2's STABLE
    as a bug fix.

Tue Jul 06 13:38:41 1999  <kondou>

  * backends/inndf.c (1.4.2.1):
    backends/inndf.c:
	    - written by Uwe Ohse <uwe-nsn19990706@ohse.de>
	    - patch for glibc 2.1

Wed Jun 30 03:53:36 1999  <kondou>

  * samples/control.ctl (1.10.2.2):
    samples/control.ctl:
	    - replaced with ftp://ftp.isc.org/pub/usenet/CONFIG/control.ctl

Wed Jun 30 02:01:43 1999  <kondou>

  * samples/innreport_inn.pm (1.5.2.5):
    samples/innreport_inn.pm:
	    - From: Fabien Tassin <fta@oleane.net>
	    - innreport failed to run for Perl 5.005_57

Mon Jun 28 09:32:31 1999  <kondou>

  * samples/nntpsend.in (1.11.2.1):
    samples/nntpsend.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - don't sort the batch file if using the storageapi. It doesn't
	      necessarily help and causes out-of-order articles when using
	      master-slave mode. The sorting is legacy from trad spool.

Sat Jun 26 00:35:07 1999  <kondou>

  * storage/interface.c (1.35.2.3):
    storage/interface.c:
	    - From: George Lindholm <lindholm@ucs.ubc.ca>
	    - trailing ',' in storage.conf would cause SIGSEGV

Sat Jun 26 00:33:19 1999  <kondou>

  * doc/cycbuff.conf.5 (1.1.2.2):
    doc/cycbuff.conf.5
	    - From: George Lindholm <lindholm@ucs.ubc.ca>
	    - some grammer were wrong

Sat Jun 26 00:31:25 1999  <kondou>

  * README.perl_hook (1.9.2.3):
    README.perl_hook:
	    - From: George Lindholm <lindholm@ucs.ubc.ca>
	    - typo fixed

Fri Jun 25 07:57:16 1999  <kondou>

  * samples/parsecontrol.in (1.18.2.1):
    samples/parsecontrol.in:
	    - From: Benedict Lofstedt <benedict@daimi.au.dk>
	    - there is no input, so the grep will always fail

Fri Jun 25 05:52:45 1999  <kondou>

  * innd/perl.c (1.7.2.2):
    innd/perl.c:
	    - From: Russ Allbery <rra@stanford.edu>
	    - Let 2.2 STABLE compile against the current development Perl
    and the
	      forthcoming Perl 5.006.

Fri Jun 25 03:16:09 1999  <kondou>

  * nnrpd/perl.c (1.8.2.1):
    nnrpd/perl.c:
	    - From: "Edward S. Marshall" <emarshal@xnet.com>
	    - Here's a patch that fixes up innd and nnrpd as well. This
    gives a
	      working INN installation for me, using Perl 5.005_57, the
    latest CVS
	      version of INN, Solaris 7, egcs 1.1.2, largefile support in
    both INN
	      and Perl.

Fri Jun 25 03:16:00 1999  <kondou>

  * lib/perl.c (1.7.2.1):
    lib/perl.c:
	    - From: "Edward S. Marshall" <emarshal@xnet.com>
	    - Here's a patch that fixes up innd and nnrpd as well. This
    gives a
	      working INN installation for me, using Perl 5.005_57, the
    latest CVS
	      version of INN, Solaris 7, egcs 1.1.2, largefile support in
    both INN
	      and Perl.

Fri Jun 25 03:15:51 1999  <kondou>

  * innd/cc.c (1.47.2.5):
    innd/cc.c:
	    - From: "Edward S. Marshall" <emarshal@xnet.com>
	    - Here's a patch that fixes up innd and nnrpd as well. This
    gives a
	      working INN installation for me, using Perl 5.005_57, the
    latest CVS
	      version of INN, Solaris 7, egcs 1.1.2, largefile support in
    both INN
	      and Perl.

Thu Jun 24 22:06:41 1999  <kondou>

  * nnrpd/nnrpd.c (1.49.2.8):
    nnrpd/nnrpd.c:
	    - From: Robert Kiessling <robert@easynet.de>
	    - On some combinations of IRIX and gcc, inet_ntoa does not work
	      properly. Squid therefore integrated a test for a working
    inet_ntoa,
	      which would be a good idea to also include in INN.

Tue Jun 22 19:59:14 1999 James Brister <brister>

  * ChangeLog (1.1.2.2):
    Updates for post Oct 21 1998

Tue Jun 22 01:01:49 1999  <kondou>

  * nnrpd/group.c (1.32.2.3):
    nnrpd/group.c:
	    - reported by Kjetil Torgrim Homme <kjetilho@ifi.uio.no>
	    - aliased group name was not showed correctly

Mon Jun 21 22:02:35 1999  <kondou>

  * ltconfig (1.2.2.2):
    ltconfig:
	    - reported by Matus fantomas Uhlar <uhlar@fantomas.sk>
	    - fix for FreeBSD4

Mon Jun 21 00:58:42 1999 David C Lawrence <tale>

  * samples/innmail.in (1.9.2.1):
    trimming trailing newlines off of the subject; the controlchan
    handler scripts variously send the subject with or without a
    newline, so this clears it all up in one place.

Sun Jun 20 21:56:36 1999  <kondou>

  * innd/status.c (1.12.2.1):
    innd/status.c:
	    - From: Russ Allbery <rra@stanford.edu>
	    - typo fixed

Tue Jun 15 21:54:23 1999  <kondou>

  * samples/cnfsstat.in (1.3.2.5):
    samples/cnfsstat.in:
	    - From: Marg Suarez <marg@columbia.edu>
	    - fixed the bug in cnfsstat where it printed the wrong date in
    the case
	      when a msgid was missing from the history file.

  * doc/wildmat.3 (1.1.2.1):
  * doc/writelog.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/wildmat.3 (1.1):
    file wildmat.3 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:10 1999  <kondou>

  * doc/writelog.8 (1.1):
    file writelog.8 was initially added on branch STABLE-2_2.

  * doc/tally.control.8 (1.1.2.1):
  * doc/tally.unwanted.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:23:09 1999  <kondou>

  * doc/tally.unwanted.8 (1.1):
    file tally.unwanted.8 was initially added on branch STABLE-2_2.

  * doc/strcasecmp.3 (1.1.2.1):
  * doc/subst.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/subst.1 (1.1):
    file subst.1 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:08 1999  <kondou>

  * doc/tally.control.8 (1.1):
    file tally.control.8 was initially added on branch STABLE-2_2.

  * doc/storage.ctl.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/storage.ctl.5 (1.1):
    file storage.ctl.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:07 1999  <kondou>

  * doc/strcasecmp.3 (1.1):
    file strcasecmp.3 was initially added on branch STABLE-2_2.

  * doc/startinnfeed.1 (1.1.2.1):
  * doc/storage.conf.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/startinnfeed.1 (1.1):
    file startinnfeed.1 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:06 1999  <kondou>

  * doc/storage.conf.5 (1.1):
    file storage.conf.5 was initially added on branch STABLE-2_2.

  * doc/simpleftp.1 (1.1.2.1):
  * doc/sm.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:23:05 1999  <kondou>

  * doc/sm.8 (1.1):
    file sm.8 was initially added on branch STABLE-2_2.

  * doc/shlock.1 (1.1.2.1):
  * doc/shrinkfile.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/shrinkfile.1 (1.1):
    file shrinkfile.1 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:04 1999  <kondou>

  * doc/simpleftp.1 (1.1):
    file simpleftp.1 was initially added on branch STABLE-2_2.

  * doc/send-uucp.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/send-uucp.8 (1.1):
    file send-uucp.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:03 1999  <kondou>

  * doc/shlock.1 (1.1):
    file shlock.1 was initially added on branch STABLE-2_2.

  * doc/rnews.1 (1.1.2.1):
  * doc/scanlogs.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:23:02 1999  <kondou>

  * doc/scanlogs.8 (1.1):
    file scanlogs.8 was initially added on branch STABLE-2_2.

  * doc/pullnews.8 (1.1.2.1):
  * doc/qio.3 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/qio.3 (1.1):
    file qio.3 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:01 1999  <kondou>

  * doc/rnews.1 (1.1):
    file rnews.1 was initially added on branch STABLE-2_2.

  * doc/prunehistory.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/prunehistory.8 (1.1):
    file prunehistory.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:23:00 1999  <kondou>

  * doc/pullnews.8 (1.1):
    file pullnews.8 was initially added on branch STABLE-2_2.

  * doc/passwd.nntp.5 (1.1.2.1):
  * doc/pgpverify.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/passwd.nntp.5 (1.1):
    file passwd.nntp.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:59 1999  <kondou>

  * doc/pgpverify.8 (1.1):
    file pgpverify.8 was initially added on branch STABLE-2_2.

  * doc/overview.fmt.5 (1.1.2.1):
  * doc/parsedate.3 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:58 1999  <kondou>

  * doc/parsedate.3 (1.1):
    file parsedate.3 was initially added on branch STABLE-2_2.

  * doc/overchan.8 (1.1.2.1):
  * doc/overview.ctl.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/overview.ctl.5 (1.1):
    file overview.ctl.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:57 1999  <kondou>

  * doc/overview.fmt.5 (1.1):
    file overview.fmt.5 was initially added on branch STABLE-2_2.

  * doc/nntpsend.ctl.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:56 1999  <kondou>

  * doc/overchan.8 (1.1):
    file overchan.8 was initially added on branch STABLE-2_2.

  * doc/nntpsend.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/nntpsend.8 (1.1):
    file nntpsend.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:55 1999  <kondou>

  * doc/nntpsend.ctl.5 (1.1):
    file nntpsend.ctl.5 was initially added on branch STABLE-2_2.

  * doc/nnrpd.track.5 (1.1.2.1):
  * doc/nntpget.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/nnrpd.track.5 (1.1):
    file nnrpd.track.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:54 1999  <kondou>

  * doc/nntpget.1 (1.1):
    file nntpget.1 was initially added on branch STABLE-2_2.

  * doc/nnrp.access.5 (1.1.2.1):
  * doc/nnrpd.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:53 1999  <kondou>

  * doc/nnrpd.8 (1.1):
    file nnrpd.8 was initially added on branch STABLE-2_2.

  * doc/newsrequeue.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/newsrequeue.8 (1.1):
    file newsrequeue.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:52 1999  <kondou>

  * doc/nnrp.access.5 (1.1):
    file nnrp.access.5 was initially added on branch STABLE-2_2.

  * doc/newslog.5 (1.1.2.1):
  * doc/newslog.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/newslog.5 (1.1):
    file newslog.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:51 1999  <kondou>

  * doc/newslog.8 (1.1):
    file newslog.8 was initially added on branch STABLE-2_2.

  * doc/news2mail.8 (1.1.2.1):
  * doc/newsfeeds.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:50 1999  <kondou>

  * doc/newsfeeds.5 (1.1):
    file newsfeeds.5 was initially added on branch STABLE-2_2.

  * doc/news.daily.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/news.daily.8 (1.1):
    file news.daily.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:49 1999  <kondou>

  * doc/news2mail.8 (1.1):
    file news2mail.8 was initially added on branch STABLE-2_2.

  * doc/motd.news.5 (1.1.2.1):
  * doc/news-recovery.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/motd.news.5 (1.1):
    file motd.news.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:48 1999  <kondou>

  * doc/news-recovery.8 (1.1):
    file news-recovery.8 was initially added on branch STABLE-2_2.

  * doc/mod-active.8 (1.1.2.1):
  * doc/moderators.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:47 1999  <kondou>

  * doc/moderators.5 (1.1):
    file moderators.5 was initially added on branch STABLE-2_2.

  * doc/makehistory.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/makehistory.8 (1.1):
    file makehistory.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:46 1999  <kondou>

  * doc/mod-active.8 (1.1):
    file mod-active.8 was initially added on branch STABLE-2_2.

  * doc/mailpost.8 (1.1.2.1):
  * doc/makeactive.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/mailpost.8 (1.1):
    file mailpost.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:45 1999  <kondou>

  * doc/makeactive.8 (1.1):
    file makeactive.8 was initially added on branch STABLE-2_2.

  * doc/libinn.3 (1.1.2.1):
  * doc/libstorage.3 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:44 1999  <kondou>

  * doc/libstorage.3 (1.1):
    file libstorage.3 was initially added on branch STABLE-2_2.

  * doc/installit.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/installit.1 (1.1):
    file installit.1 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:43 1999  <kondou>

  * doc/libinn.3 (1.1):
    file libinn.3 was initially added on branch STABLE-2_2.

  * doc/innxbatch.8 (1.1.2.1):
  * doc/innxmit.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/innxbatch.8 (1.1):
    file innxbatch.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:42 1999  <kondou>

  * doc/innxmit.8 (1.1):
    file innxmit.8 was initially added on branch STABLE-2_2.

  * doc/innwatch.8 (1.1.2.1):
  * doc/innwatch.ctl.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:41 1999  <kondou>

  * doc/innwatch.ctl.5 (1.1):
    file innwatch.ctl.5 was initially added on branch STABLE-2_2.

  * doc/innstat.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/innstat.8 (1.1):
    file innstat.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:40 1999  <kondou>

  * doc/innwatch.8 (1.1):
    file innwatch.8 was initially added on branch STABLE-2_2.

  * doc/innlog.pl.8 (1.1.2.1):
  * doc/innreport.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/innlog.pl.8 (1.1):
    file innlog.pl.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:39 1999  <kondou>

  * doc/innreport.8 (1.1):
    file innreport.8 was initially added on branch STABLE-2_2.

  * doc/innfeed.conf.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:38 1999  <kondou>

  * doc/innfeed.conf.5 (1.1):
    file innfeed.conf.5 was initially added on branch STABLE-2_2.

  * doc/inndf.8 (1.1.2.1):
  * doc/innfeed.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/inndf.8 (1.1):
    file inndf.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:37 1999  <kondou>

  * doc/innfeed.1 (1.1):
    file innfeed.1 was initially added on branch STABLE-2_2.

  * doc/innd.8 (1.1.2.1):
  * doc/inndcomm.3 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:36 1999  <kondou>

  * doc/inndcomm.3 (1.1):
    file inndcomm.3 was initially added on branch STABLE-2_2.

  * doc/innconfval.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/innconfval.1 (1.1):
    file innconfval.1 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:35 1999  <kondou>

  * doc/innd.8 (1.1):
    file innd.8 was initially added on branch STABLE-2_2.

  * doc/inn.conf.5 (1.1.2.1):
  * doc/inncheck.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:34 1999  <kondou>

  * doc/inncheck.8 (1.1):
    file inncheck.8 was initially added on branch STABLE-2_2.

  * doc/inews.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/inews.1 (1.1):
    file inews.1 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:33 1999  <kondou>

  * doc/inn.conf.5 (1.1):
    file inn.conf.5 was initially added on branch STABLE-2_2.

  * doc/history.5 (1.1.2.1):
  * doc/incoming.conf.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/history.5 (1.1):
    file history.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:32 1999  <kondou>

  * doc/incoming.conf.5 (1.1):
    file incoming.conf.5 was initially added on branch STABLE-2_2.

  * doc/getlist.1 (1.1.2.1):
  * doc/grephistory.1 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:31 1999  <kondou>

  * doc/grephistory.1 (1.1):
    file grephistory.1 was initially added on branch STABLE-2_2.

  * doc/filechan.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/filechan.8 (1.1):
    file filechan.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:30 1999  <kondou>

  * doc/getlist.1 (1.1):
    file getlist.1 was initially added on branch STABLE-2_2.

  * doc/expirerm.8 (1.1.2.1):
  * doc/fastrm.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/expirerm.8 (1.1):
    file expirerm.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:29 1999  <kondou>

  * doc/fastrm.8 (1.1):
    file fastrm.8 was initially added on branch STABLE-2_2.

  * doc/expireindex.8 (1.1.2.1):
  * doc/expireover.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:28 1999  <kondou>

  * doc/expireover.8 (1.1):
    file expireover.8 was initially added on branch STABLE-2_2.

  * doc/expire.ctl.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/expire.ctl.5 (1.1):
    file expire.ctl.5 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:27 1999  <kondou>

  * doc/expireindex.8 (1.1):
    file expireindex.8 was initially added on branch STABLE-2_2.

  * doc/distrib.pats.5 (1.1.2.1):
  * doc/expire.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:26 1999  <kondou>

  * doc/expire.8 (1.1):
    file expire.8 was initially added on branch STABLE-2_2.

  * doc/dbz.3 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/dbz.3 (1.1):
    file dbz.3 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:25 1999  <kondou>

  * doc/distrib.pats.5 (1.1):
    file distrib.pats.5 was initially added on branch STABLE-2_2.

  * doc/cycbuff.conf.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:24 1999  <kondou>

  * doc/cycbuff.conf.5 (1.1):
    file cycbuff.conf.5 was initially added on branch STABLE-2_2.

  * doc/ctlinnd.8 (1.1.2.1):
  * doc/cvtbatch.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:23 1999  <kondou>

  * doc/cvtbatch.8 (1.1):
    file cvtbatch.8 was initially added on branch STABLE-2_2.

  * doc/convdate.1 (1.1.2.1):
  * doc/crosspost.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/crosspost.8 (1.1):
    file crosspost.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:22 1999  <kondou>

  * doc/ctlinnd.8 (1.1):
    file ctlinnd.8 was initially added on branch STABLE-2_2.

  * doc/controlchan.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/controlchan.8 (1.1):
    file controlchan.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:21 1999  <kondou>

  * doc/convdate.1 (1.1):
    file convdate.1 was initially added on branch STABLE-2_2.

  * doc/cnfsstat.8 (1.1.2.1):
  * doc/control.ctl.5 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:20 1999  <kondou>

  * doc/control.ctl.5 (1.1):
    file control.ctl.5 was initially added on branch STABLE-2_2.

  * doc/clientlib.3 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/clientlib.3 (1.1):
    file clientlib.3 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:19 1999  <kondou>

  * doc/cnfsstat.8 (1.1):
    file cnfsstat.8 was initially added on branch STABLE-2_2.

  * doc/batcher.8 (1.1.2.1):
  * doc/buffchan.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/batcher.8 (1.1):
    file batcher.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:18 1999  <kondou>

  * doc/buffchan.8 (1.1):
    file buffchan.8 was initially added on branch STABLE-2_2.

  * doc/actsyncd.8 (1.1.2.1):
  * doc/archive.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:17 1999  <kondou>

  * doc/archive.8 (1.1):
    file archive.8 was initially added on branch STABLE-2_2.

  * doc/actsync.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

  * doc/actsync.8 (1.1):
    file actsync.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:16 1999  <kondou>

  * doc/actsyncd.8 (1.1):
    file actsyncd.8 was initially added on branch STABLE-2_2.

  * doc/active.5 (1.1.2.1):
  * doc/actived.8 (1.1.2.1):
    doc/*:
	    - all man pages are backed to original directory

Sat Jun 12 08:22:15 1999  <kondou>

  * doc/actived.8 (1.1):
    file actived.8 was initially added on branch STABLE-2_2.

Sat Jun 12 08:22:14 1999  <kondou>

  * doc/active.5 (1.1):
    file active.5 was initially added on branch STABLE-2_2.

Fri Jun 11 03:19:34 1999  <kondou>

  * innd/nc.c (1.37.2.5):
    innd/nc.c:
	    - innd responds an illegal NNTP code for non streaming even if
    the
	      article is accepted, after messageid filter rejects a messge

Wed Jun 02 02:48:49 1999  <kondou>

  * samples/inncheck.in (1.22.2.6):
    samples/inncheck.in:
	    - checking inndstart mode was wrong

Mon May 31 03:30:56 1999  <kondou>

  * nnrpd/nnrpd.c (1.49.2.7):
    nnrpd/nnrpd.c:
	    - NEWSGRP should be used for news group

Mon May 31 03:30:41 1999  <kondou>

  * innd/inndstart.c (1.16.2.2):
    innd/inndstart.c:
	    - NEWSGRP should be used for news group

Thu May 20 14:59:02 1999 David C Lawrence <tale>

  * samples/pgpverify.in (1.19.2.3):
    upgraded to pgpverify 1.12.  support for gnu pgp, more diddling with
    syslogging

Tue May 18 21:45:30 1999  <kondou>

  * storage/overview.c (1.32.4.1):
    storage/overview.c:
	    - reported by root@news.netmar.com
	    - If someone enters an empty word in the overview.ctl file,
	      (e.g. "1:alt*,biz*," or "1:,alt*" etc), you segfault.

Tue May 18 09:35:51 1999  <kondou>

  * samples/news2mail.in (1.1.2.2):
    samples/news2mail.in:
	    - From: SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>
	    - News2mail only preserve 'From', 'Subject', 'Date',
    'Organization',
	      'Message-ID' headers, but when multipart/mixed article are
    sent by
	      news2mail, 'MIME-Version', 'Content-Type' are disappeared and
    the mail
	      received looks broken.

Thu May 13 22:05:50 1999  <kondou>

  * nnrpd/nnrpd.c (1.49.2.6):
    nnrpd/nnrpd.c:
	    - pathrun must not be owned by root
	    - ensure pathrun owner is NEWSUSER

Thu May 13 22:05:38 1999  <kondou>

  * innd/inndstart.c (1.16.2.1):
    innd/inndstart.c:
	    - pathrun must not be owned by root
	    - ensure pathrun owner is NEWSUSER

Wed May 12 21:22:44 1999  <kondou>

  * innd/cc.c (1.47.2.4):
    innd/cc.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - cleanup code

Wed May 12 00:56:34 1999  <kondou>

  * innd/cc.c (1.47.2.3):
    innd/cc.c:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - CCaddhist() uses OVERsetoffset() instead of OVERmaketoken()

Wed May 12 00:51:15 1999  <kondou>

  * INSTALL (1.19.2.6):
    INSTALL:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - INSTALL talks about a 'domainname' inn.conf parameter. It
    should be
	      'domain'.

Wed May 12 00:49:18 1999  <kondou>

  * README (1.5.2.4):
    README:
	    - From: Russ Allbery <rra@stanford.edu>
	    - INN's README has always struck me as extremely sparse.  One
    of the
	      major things it feels like it lacks is some general overview
    for
	      someone who may not be entirely sure what a news server is or
    what
	      INN consists of.

Tue May 11 21:53:00 1999  <kondou>

  * samples/mailpost.in (1.1.2.3):
    samples/mailpost.in:
	    - From: Vladimir Litovka <doka@triton.kiev.sovam.com>
	    - inews always rejects messages if there are duplicate headers
    in
	      message and it's right. But this is often error due to errors
    in
	      sender's setup or errors in mailing software. For avoiding
    this
	      problem I've patched mailpost to remove duplicate headers
    from
	      message before passing it to inews.

Tue May 11 03:15:57 1999  <kondou>

  * lib/getconfig.c (1.48.2.6):
    lib/getconfig.c:
	    - argument of RENEW() which calls realloc() should not be null
    for
	      SunOS4.1.4

Mon May 10 22:36:19 1999  <kondou>

  * nnrpd/commands.c (1.20.2.5):
    nnrpd/commands.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - If there is a single dot on a line in the newsgroups file
    etc., at
	      the moment INN's nnrpd happily sends it to the client. The
    client on
	      the other hand gets confused because there is additional data
    after
	      the single dot, violating the NNTP protocol.

Mon May 10 22:33:22 1999  <kondou>

  * lib/getconfig.c (1.48.2.5):
    lib/getconfig.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - INN says "Must set 'domain' in inn.conf" even if the domain
    is set,
	      but the FQDN of the machine does not resolve to a valid IP
    address
	      (e.g. if you call your machine "foo" in domain "bar.com" and
    fail to
	      add "foo" to your DNS zone or /etc/hosts file, there is no
    use
	      setting "domain: bar.com" in inn.conf, the error message
    given by INN
	      will stay the same). This is very confusing

Sun May 09 00:36:53 1999  <kondou>

  * samples/innreport.in (1.16.2.3):
    samples/innreport.in:
	    - From: Fabien Tassin <fta@oleane.net>
	    - I prefer to 'localize' $/ instead.  I've also changed '' to
    undef.

Sat May 08 05:16:53 1999  <kondou>

  * README.perl_hook (1.9.2.2):
    README.perl_hook:
	    - From: Russ Allbery <rra@stanford.edu>
	    - a complete replacement for the current README.perl_hook. 
    It's
	      expanded, clarified, and updated from the existing one and I
    believe
	      it comes close to fully documenting the current interface. 
    While I
	      was at it, I reformatted the text into roughly the same style
    used in
	      README and INSTALL.

Sat May 08 05:03:35 1999  <kondou>

  * samples/innreport.in (1.16.2.2):
    samples/innreport.in:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - When the 'html_header' or 'html_footer' options are turned on
    in
	      innreport.conf, innreport fails to update innreport.db and
    the
	      index.html files correctly.  The problem is that the code to
    read in
	      the html headers/footers sets $/ to '' to read in the
    headers/footers
	      all at once, and fails to set $/ back to newline afterwards.

Fri May 07 23:47:27 1999  <kondou>

  * Makefile (1.18.2.4):
    Makefile:
	    - The patchlevel of the stable code was set to 0.

Fri May 07 23:32:44 1999  <kondou>

  * CONTRIBUTORS (1.13.2.2):
    CONTRIBUTORS:
	    - From: Russ Allbery <rra@stanford.edu>
	    - Clean up some typos, grammar problems, and wrapping
    inconsistencies
	      in CONTRIBUTORS.

Fri May 07 23:29:40 1999  <kondou>

  * samples/checkgroups.pl.in (1.8.2.1):
  * samples/controlchan.in (1.21.2.2):
    samples/checkgroups.pl.in:
    samples/controlchan.in:
	    - From: Russ Allbery <rra@stanford.edu>
	    - A doit (or a successful verify-*) action on a checkgroups
    message is
	      fairly pointless unless the output goes somewhere.  The
    logical place
	      to send the output if no log file or anything is specified is
    a mail
	      message to the news administartor.  This patch implements
    that for
	      the controlchan checkgroups.pl.

Tue May 04 00:02:09 1999  <kondou>

  * storage/interface.c (1.35.2.2):
    storage/interface.c:
	    - break line was dropped for case '@' in MatchGroups()

Mon May 03 23:58:11 1999  <kondou>

  * innd/art.c (1.90.2.8):
    innd/art.c:
	    - drop article with null character in it (to avoid EOF before
    end of
	      post)

Wed Apr 28 01:12:55 1999  <kondou>

  * configure (1.104.2.6):
  * configure.in (1.106.2.6):
    configure.in:
    configure:
	    - MANDIR should be set to same as mandir

Wed Apr 28 01:11:05 1999  <kondou>

  * innd/innd.c (1.40.2.2):
    innd/innd.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Active has
	      misc.jobs 00'+,'/0)* 0000000001 y
	      after ``ctlinnd renumber'' if .overview.index is bad.
	      I know that misc.jobs is wrong newsgroup

Mon Apr 26 08:40:47 1999  <kondou>

  * frontends/inews.c (1.15.2.3):
    frontends/inews.c
	    - previous patch includes unwanted line which led to
    compilation error

Mon Apr 26 07:08:34 1999  <kondou>

  * frontends/inews.c (1.15.2.2):
    frontends/inews.c:
	    - From: Christian Kurz <shorty@jupiter.rhein-neckar.de>
	    - It seems, as inews doesn't accept lines longer than 512
    characters,
	      if I'm not missing something. I have here an article, with a
    Reference
	      line of 660 chars and the standard inews from 1.7.2 gives the
	      following error:
    
	      shorty@jupiter% inews -h < /home/shorty/dead.letter
	      "References" header is too long.
	      (Article not posted.)
    
	      After I changed the inews source, the article will be
    acceppted by
	      inews and posted.

Mon Apr 19 07:05:23 1999  <kondou>

  * ltconfig (1.2.2.1):
    ltconfig:
	    - From: "Boyd Lynn Gerber (801) 250-O795 Work"
    <gerberb@zenez.com>
	    - Here is a patch for your libtool when you use SCO OpenServer
    5.0.X.  I
	      have tested this on inn-2.1 and 2.2.  I do not get any errors
    once
	      this has been applied on both version of inn.

Mon Apr 19 06:56:47 1999  <kondou>

  * nnrpd/article.c (1.57.2.7):
    nnrpd/article.c:
	    - article check was always done regardless of nnrpdcheckart

Mon Apr 19 06:54:46 1999  <kondou>

  * innd/site.c (1.22.2.1):
    innd/site.c:
	    - drop 'DEBUG' message

Thu Apr 15 07:01:40 1999  <kondou>

  * innd/cc.c (1.47.2.2):
    innd/cc.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - This fixes a logic bug when possibly setting/unsetting a
    reason
	      for preventing readers. When we set/unset NNRPReason, we want
    to
	      check that readerswhenstopped in _not_ set. NNRPReason being
	      set prevents readers connecting when innd is paused.

Thu Apr 15 07:00:40 1999  <kondou>

  * samples/mailpost.in (1.1.2.2):
    samples/mailpost.in:
	    - From: Geoff Gibbs <ggibbs@hgmp.mrc.ac.uk>
	    - There is a bug in mailpost, which produces the error message
    
	      "First line with leading whitespace!"
    
	      when it is fed an e-mail, where the body of the message
    starts with
	      a space. (i.e. headers,blank line,space ...)
    
	      The bug is in the code for handling header continuation
    lines. I
	      believe that the following patch fixes the problem, although
    you may
	      well be able to improve the Perl ;-)

Mon Apr 12 16:14:24 1999  <kondou>

  * samples/inncheck.in (1.22.2.5):
    samples/inncheck.in:
	    - checking inndstart mode was incorrect

Mon Apr 12 16:12:23 1999  <kondou>

  * innd/art.c (1.90.2.7):
    innd/art.c:
	    - show meaningful message, if article is not stored because it
    does not
	      match any entry in storage.conf

Wed Apr 07 08:05:00 1999  <kondou>

  * backends/actsyncd.sh.in (1.3.2.2):
    backends/actsyncd.sh.in:
	    - tried to remove directory where actsyncd sits

Fri Mar 26 00:40:56 1999  <kondou>

  * lib/getconfig.c (1.48.2.4):
    lib/getconfig.c:
	    - reported by "Matthew Emmerton" <mattemme@enoreo.on.ca>
	    - tmpdir should not be DISPOSED(), since handed area is used by
	      putenv() for some OSes

Thu Mar 18 04:17:23 1999  <kondou>

  * backends/actsync.c (1.18.2.1):
    backends/actsync.c:
	    - From: Thomas Mike Michlmayr <mike@cosy.sbg.ac.at>
	    - fixes a problem when syncing to a collabra-server, who
    returns
	      "yg" as flag for a newsgroup (at least secnews.netscape.com).

Tue Mar 16 02:30:25 1999  <kondou>

  * samples/moderators (1.2.4.1):
    samples/moderators:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - moderators.isc.org don't have all fido7.* aliases (at least).
	      I (as fido7.* supporter) have many question about it.

Mon Mar 15 05:29:02 1999  <kondou>

  * nnrpd/post.c (1.28.2.7):
    nnrpd/post.c:
	    - reported by Pavel Gulchouck <gul@lucky.net>
	    - inews and nnrpd dumps core if size of posting article more
    then
	      local size limit. It happans because in inews.c line 1316 and
	      in nnrpd/post.c line 955 pointer p is out of core. I think
	      atoi(p) should be changed to innconf->localmaxartsize in
	      these lines.

Mon Mar 15 05:28:40 1999  <kondou>

  * frontends/inews.c (1.15.2.1):
    frontends/inews.c:
	    - reported by Pavel Gulchouck <gul@lucky.net>
	    - inews and nnrpd dumps core if size of posting article more
    then
	      local size limit. It happans because in inews.c line 1316 and
	      in nnrpd/post.c line 955 pointer p is out of core. I think
	      atoi(p) should be changed to innconf->localmaxartsize in
	      these lines.

Sun Mar 07 14:59:12 1999  <kondou>

  * nnrpd/article.c (1.57.2.6):
    nnrpd/article.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - fixed core dump

Sun Mar 07 14:56:57 1999  <kondou>

  * innfeed/innlistener.c (1.11.2.1):
    innfeed/innlistener.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - innfeed -- memory leak. On heavy loaded server (FreeBSD-3.1)
	      I got many ``partial read'' from innd (and each time
	      innlistener expanded empty buffer):

Wed Mar 03 03:04:50 1999  <kondou>

  * innd/art.c (1.90.2.6):
  * innd/perl.c (1.7.2.1):
    innd/art.c:
    innd/perl.c:
	    - From: Russ Allbery <rra@stanford.edu>
	    - This patch adds a special __LINES__ key to the %hdr hash
    available to
	      the Perl filter, containing an accurate line count of the
    article.

Wed Mar 03 03:04:33 1999  <kondou>

  * README.perl_hook (1.9.2.1):
    README.perl_hook:
	    - From: Russ Allbery <rra@stanford.edu>
	    - This patch adds a special __LINES__ key to the %hdr hash
    available to
	      the Perl filter, containing an accurate line count of the
    article.

Tue Mar 02 03:10:47 1999  <kondou>

  * innd/innd.h (1.44.2.1):
  * innd/cc.c (1.47.2.1):
    innd/cc.c:
    innd/innd.h:
	    - From: Russ Allbery <rra@stanford.edu>
	    - The INN::newsgroup() XS Perl function is supposed to return
    the flags		for a given newsgroup (ngp->Rest).  Unfortunately,
    whoever wrote it
	      originally was unaware that the Rest pointer in a NEWSGROUP
    is just a
	      pointer into the in-memory copy of the active file, and
    therefore
	      this field is *not* null-terminated.  As a result, whenever a
    Perl
	      filter called INN::newsgroup, it would get not only the flags
    for
	      that newsgroup but a complete copy of the active file from
    that point
	      forward.

Tue Feb 23 18:43:26 1999 David C Lawrence <tale>

  * samples/sendsys.pl.in (1.7.2.1):
  * samples/senduuname.pl.in (1.7.2.1):
  * samples/version.pl.in (1.8.2.1):
    fixed instances of @inn::mailcmd to $inn::mailcmd that prevented these
    scripts from being properly loaded

Tue Feb 23 18:18:29 1999 David C Lawrence <tale>

  * samples/controlchan.in (1.21.2.1):
    syslog to /dev/log on dec_osf

Wed Feb 17 05:02:37 1999 David C Lawrence <tale>

  * samples/rmgroup.in (1.11.2.1):
    FIxed check for existing group to not use regular expression for
    matching
    (would bogey *.lang.c++).
    
    moved approval check earlier, before mailing news admin.

Mon Feb 15 21:09:46 1999 David C Lawrence <tale>

  * backends/actsyncd.sh.in (1.3.2.1):
    the output file was not being created in the work directory, but in
    whatever directory the program started from
    
    made syncing directly from a local file work again

Sun Feb 14 07:48:44 1999  <kondou>

  * INSTALL (1.19.2.5):
    INSTALL:
	    - From: Richard Kettlewell <rjk@greenend.org.uk>
	    - Firstly the reference to a "pound sign" as the comment
    character is
	      misleading to speakers of British English, where that phrase
    does not
	      refer to the "#" sign at all.
    
	      Secondly there is a complete absence of any reference to
    nnrp.access
	      in the section on setting up config files.

Sat Feb 13 10:56:47 1999  <kondou>

  * samples/news.daily.in (1.28.2.2):
    samples/news.daily.in:
	    - use ${SED} instead of sed

Fri Feb 12 00:48:42 1999  <kondou>

  * lib/getconfig.c (1.48.2.3):
    lib/getconfig.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - correct mistake in rev. 1.48.2.2

Mon Feb 08 07:56:59 1999  <kondou>

  * nnrpd/nnrpd.c (1.49.2.5):
    nnrpd/nnrpd.c:
	    - From: Andrew Gierth <andrew@erlenstar.demon.co.uk>
	    - The original code was correct in this respect. This is why
    accept()
	      et. al. have an additional size parameter for the address.
    The cast
	      is something of a historical crock, but is nevertheless
    correct.

Sat Feb 06 03:14:45 1999  <kondou>

  * samples/cnfsstat.in (1.3.2.4):
    samples/cnfsstat.in:
	    - From: davidsen@tmr.com (bill davidsen)
	    - I don't see in the man pages that you can use continuation
    lines in
	      the cycbufs.conf file, but there's code to handle it, and it
    makes
	      the file a lot easier to read.
    
	      The cnfsstat script doesn't know about this, here's how to
    make it
	      work.  This is just the bugfix, I am not quite ready to
    release my
	      enhancements yet, due to unexplained failure with raw
    partitions

Sat Feb 06 03:13:28 1999  <kondou>

  * nnrpd/nnrpd.c (1.49.2.4):
    nnrpd/nnrpd:
	    - From: davidsen@tmr.com (bill davidsen)
	    - This patch addresses one bug (wrong data type) and one
    missing
	      feature (nicekids). The type was a struct defined as
    sockaddr_in and
	      used with a case where sockaddr was required. Because I'm not
    sure
	      all systems will have the same size for both, and my compiler
    whines
	      about the original, I defined the value correctly and dropped
    the
	      cast.
    
	      When running from innd, a nice() value is gotten from the
    nicekids
	      value in inn.conf. In daemon mode that wasn't being done, so
    I added
	      the code here. Note: you do *not* want to just start the
    daemon
	      niced, as it will then open sockets more slowly (I measured
    with
	      NSLG). Nicekids is the way to go here.

Tue Feb 02 03:26:12 1999  <kondou>

  * samples/inncheck.in (1.22.2.4):
    samples/inncheck.in:
	    - From: SAKAI Kiyotaka <ksakai@netwk.ntt-at.co.jp>
	    - warn if null line is included in active
	    - warn if eol is not ended with '\n' in active

Mon Feb 01 07:20:58 1999  <kondou>

  * samples/innreport.in (1.16.2.1):
    samples/innreport.in:
	    - showed non-existent tag for html output

Mon Feb 01 07:20:01 1999  <kondou>

  * innd/newsfeeds.c (1.18.4.4):
  * innd/art.c (1.90.2.5):
    innd/art.c:
	    - couting Lines was incorrect for storageapi
	    - '@' was meaningless for groups with 'x' in active
    innd/newsfeeds.c:
	    - '@' was meaningless for non existent groups

Sun Jan 31 03:56:13 1999  <kondou>

  * samples/inn.conf.in (1.24.2.2):
    samples/inn.conf.in:
	    - reported by Uli Zappe <uli@tallowcross.uni-frankfurt.de>
	    - default for readerswhenstopped is false

Sun Jan 31 03:56:00 1999  <kondou>

  * lib/getconfig.c (1.48.2.2):
    lib/getconfig.c:
	    - reported by Uli Zappe <uli@tallowcross.uni-frankfurt.de>
	    - default for readerswhenstopped is false

Sun Jan 31 03:55:45 1999  <kondou>

  * innd/innd.c (1.40.2.1):
    innd/innd.c:
	    - reported by Uli Zappe <uli@tallowcross.uni-frankfurt.de>
	    - default for readerswhenstopped is false

Fri Jan 29 11:54:37 1999  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.8):
    storage/cnfs/cnfs.c:
	    - From: Thomas Mechtersheimer <thomasm@nrw.net>
	    - it should be removed like the htonl() on cah.class at a
    different
	      source location

Wed Jan 27 21:48:12 1999  <kondou>

  * innd/newsfeeds.c (1.18.4.3):
    innd/newsfeeds.c:
	    - From: smurf@noris.de (Matthias Urlichs)
	    - mischecking errors

Wed Jan 27 21:44:02 1999  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.7):
    storage/cnfs/cnfs.c:
	    - From: thomasm@csl33.csl-gmbh.net
	    - for articles with offset values beyond the cycbuff->free
    pointer,
	      this should be cyclenum-1
	    - From: smurf@noris.de (Matthias Urlichs)
	    - CNFS next-article code is broken because it fails to clear
    the offset
	      when it switches to the next buffer
	    - From the "while I'm at it" department: the following patch,
    to the
	      same file, fixes reading of old-style CNFS buffers --
    assuming there
	      is anybody out there who still has a 1.x CNFS-INN server...

Wed Jan 27 21:05:06 1999  <kondou>

  * samples/docheckgroups.in (1.10.2.1):
    samples/docheckgroups.in:
	    - From: Philippe Michel <Philippe.Michel@syseca.fr>
	    - maybe it would be better to use ${1:-.}, for backwards
    compatibility
	      at least.

Wed Jan 27 15:28:16 1999  <kondou>

  * nnrpd/post.c (1.28.2.6):
    nnrpd/post.c:
	    - From: John Schmidt <js@saltmine.radix.net>
	    - It seemed more logical to skip the check entirely if the
    total number
	      of lines is less than 40.

Wed Jan 27 15:27:29 1999  <kondou>

  * innd/rc.c (1.31.2.3):
    innd/rc.c:
	    - From: smurf@noris.de (Matthias Urlichs)
	    - Some Perl installations have -Dbool=char, which clashes with
	      innd/rc.c.

Mon Jan 25 10:09:58 1999  <kondou>

  * nnrpd/udp.c (1.3.2.3):
    nnrpd/udp.c:
	    - From: SUNAGAWA Keiki <Keiki_SUNAGAWA@yokogawa.co.jp>
	    - include syslog.h instead of sys/syslog.h

Mon Jan 25 10:01:56 1999  <kondou>

  * nnrpd/commands.c (1.20.2.4):
    nnrpd/commands.c:
	    - From: Paul Tomblin <ptomblin@xcski.com>
	    - here's the patch again

Fri Jan 22 15:29:15 1999  <kondou>

  * samples/cnfsstat.in (1.3.2.3):
    samples/cnfsstat.in:
	    - From: Russ Allbery <rra@stanford.edu>
	    - write pointer was not printed correctly

Thu Jan 21 15:21:04 1999  <kondou>

  * site/do-subst.sh (1.1.1.1.4.1):
    site/do-subst.sh:
	    - if there is a MAKE configure variable, use it

Thu Jan 21 11:04:33 1999 James Brister <brister>

  * README (1.5.2.3):
  * CONTRIBUTORS (1.13.2.1):
    2.2 update

Thu Jan 21 10:30:00 1999 James Brister <brister>

  * innfeed/Makefile (1.28.2.1):
  * include/patchlevel.h (1.6.2.3):
  * Makefile (1.18.2.3):
    Update for 2.2 release.

Tue Jan 19 03:14:56 1999  <kondou>

  * innd/rc.c (1.31.2.2):
    innd/rc.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - In innd/rc.c(RCwritelist()): I think The DISPOSE(r) is wrong
    - via
	      cpcatpath() p points to a static buffer and r is assigned to
    p.

Tue Jan 19 03:14:10 1999  <kondou>

  * frontends/rnews.c (1.16.2.3):
    frontends/rnews.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - The value of PATHBADNEWS is combined using cpcatpath(), which
    only
	      returns a pointer to a fixed buffer (pathbuff in
    lib/getconfig.c).
	      Later - if you use a password protected NNTP connection -
    rnews calls
	      NNTPsendpassword() (lib/sendpass.c) which also uses
    cpcatpath() to
	      construct a path name -> pathbuff gets overwritten and the
    value of
	      PATHBADNEWS is now pure nonsense.

Sun Jan 17 23:18:16 1999  <kondou>

  * samples/incoming.conf (1.3.4.2):
  * samples/news.daily.in (1.28.2.1):
    samples/incoming.conf:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Add ``noresendid'' for non-stream mode.
    samples/news.daily.in:
	    - From: davidsen@tmr.com (bill davidsen)
	    - The news.daily script doesn't properly use the user defined
    temp
	      space for sorts. There's some logic to look and see if TMPDIR
    is
	      defined, build the -T option for sort to use, and then ignore
    the
	      whole issue.

Sun Jan 17 23:16:25 1999  <kondou>

  * nnrpd/udp.c (1.3.2.2):
    nnrpd/udp.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - This eliminates the calls to perror() and replaces them by
    syslog()s.
	      The perror()s make it impossible to use nnrpd from inetd,
    since the
	      output goes to the NNTP channel, thus violating the NNTP
    specs.

Sun Jan 17 23:15:13 1999  <kondou>

  * innd/nc.c (1.37.2.4):
    innd/nc.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Add ``noresendid'' for non-stream mode.

Sun Jan 17 23:14:27 1999  <kondou>

  * Makefile (1.18.2.2):
    Makefile:
	    - From: Aidan Cully <aidan@panix.com>
	    - This patch should fix it..  I don't really know where the
    FLAGS
	      variable comes from, since both GNU and BSD-make use
    MAKEFLAGS, but
	      I'm more interested in making this work correctly than
    cleaning
	      things up right now, so I just pass DESTDIR directly, like
    the
	      install: target does to common.

Wed Jan 13 07:03:21 1999  <kondou>

  * innfeed/sysconfig.h (1.15.2.3):
    innfeed/sysconfig.h:
	    - From: "Mark Wedel" <mark@icp.siemens.com>
	    - avoid symbol duplication for sinix

Tue Jan 12 13:33:38 1999  <kondou>

  * nnrpd/post.c (1.28.2.5):
    nnrpd/post.c:
	    - From: Paul Tomblin <ptomblin@xcski.com>
	    - The test to see if PERMuser is set is wrong, because PERMuser
    is a
	      char array, not a char pointer.

Mon Jan 11 02:00:28 1999  <kondou>

  * nnrpd/commands.c (1.20.2.3):
    nnrpd/commands.c:
	    - From: Paul Tomblin <ptomblin@xcski.com>
	    - This patch sets PERMuser and PERMpass after perl
    authentication so
	      that they reflect the user and password that successfully
	      authenticated, just as when you're using regular
    authentication those
	      variables are set to the required values from the nnrp.access
    file.
	      This is useful especially if you've configured
    DO_NNRP_AUTH_SENDER

Mon Jan 11 01:38:47 1999  <kondou>

  * innd/art.c (1.90.2.4):
    innd/art.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Add logging ``Too old'', ``No colon-space in header''

Sat Jan 09 17:38:43 1999  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.6):
    storage/cnfs/cnfs.c:
	    - correct syslog messages (storage.ctl was gone already)

Sat Jan 09 15:40:37 1999  <kondou>

  * nnrpd/post.c (1.28.2.4):
    nnrpd/post.c:
	    - originally From: Russ Allbery <rra@stanford.edu>
	    - All this patch does is move the check against the posting
    permissions
	      pattern above this check, and I believe implements precisely
    the
	      following change: if a post goes to a group that would be
    disallowed
	      by the posting permissions pattern, it will be refused
    regardless of
	      whether we actually carry the group in question.

Fri Jan 08 22:03:32 1999 David C Lawrence <tale>

  * backends/nntpget.c (1.11.4.1):
    y2k fix: pass only two digit date (RFC 977 rules) for newnews command

Fri Jan 08 22:02:04 1999 David C Lawrence <tale>

  * nnrpd/misc.c (1.28.2.4):
    y2k fix: accept three digit and four digit years for dates in  NNTP
    commands

Fri Jan 08 08:12:37 1999  <kondou>

  * INSTALL (1.19.2.4):
    INSTALL:
	    - describe logipaddr should be false if controlchan is used and
    ihave/
	      sendme is required

Fri Jan 08 01:32:08 1999  <kondou>

  * INSTALL (1.19.2.3):
    INSTALL:
	    - Add AIX 4.2 which works INN2.x

Thu Jan 07 10:19:53 1999  <kondou>

  * innd/newsfeeds.c (1.18.4.2):
    innd/newsfeeds.c:
	    - claim 'setup_error' if SITEsetup() fails
	      without this patch, innd exits with 'syntax_error' if
    SITEsetup()
	      fails.  This is confusing for admins, even if there is no
    syntax
	      error.

Wed Jan 06 10:29:52 1999  <kondou>

  * innd/art.c (1.90.2.3):
    innd/art.c
	    - do not (sym)link if writelinks is false

Wed Jan 06 10:05:49 1999  <kondou>

  * INSTALL (1.19.2.2):
    INSTALL:
	    - From: Russ Allbery <rra@stanford.edu>
	    - Patch to INSTALL attached to add more details on why you
    might need
	      overview data and more detail of what the point of the
    different
	      BUCKETS in overview.ctl is.  I also corrected one place where
    the
	      file had an 80 column line, since it made it somewhat
    annoying to
	      deal with in emacs.  (There's still another 80 column line,
    but
	      that's a literal cron entry example that can't be easily
    shortened
	      and is offset from regular text.)

Wed Jan 06 04:53:17 1999  <kondou>

  * samples/innreport_inn.pm (1.5.2.4):
    samples/innreport_inn.pm:
	    - From: Russ Allbery <rra@stanford.edu>
	    - this will suppress the cycbuff rollover messages, which
    otherwise
	      show up as unknown log entries.  At some point, someone might
    want to
	      do something more interesting with these, but for right now
    ignoring
	      them seems the best.
    
	      There's also a minor formatting fix with a comment in here.

Tue Jan 05 22:29:59 1999  <kondou>

  * samples/nnrpd_auth.pl.in (1.1.2.1):
    samples/nnrpd_auth.pl.in:
	    - From: Paul Tomblin <ptomblin@xcski.com>
	    - The nnrpd_auth.pl supplied with 2.2-STABLE assumes that the
    hostname
	      patterns in nnrp.access are regular expressions, but they're
    not,
	      they're glob-like.

Tue Jan 05 15:33:20 1999  <kondou>

  * backends/archive.c (1.10.4.3):
    backends/archive.c:
	    - just create one archive even if the article is crossposted

Tue Jan 05 07:17:50 1999  <kondou>

  * samples/innreport_inn.pm (1.5.2.3):
    samples/innreport_inn.pm:
	    - From: Russ Allbery <rra@stanford.edu>
	    - With this plus my previous patch that was already applied, I
    think
	      innreport is at least quiet about all of the log messages
    generated
	      routinely by the standard programs in INN 2.2.

Mon Jan 04 21:26:54 1999  <kondou>

  * samples/innreport_inn.pm (1.5.2.2):
    samples/innreport_inn.pm:
	    - From: Russ Allbery <rra@stanford.edu>
	    - Better yet, fix innreport so that it ignores controlchan's
    output.
	      There may be some statistical summary that I can think of
    that might
	      be useful eventually, and that way you still have the logs
    there in
	      case you ever want them.	Here's a patch:

Mon Jan 04 07:44:19 1999  <kondou>

  * storage/Makefile (1.33.2.1):
    storage/Makefile:
	    - From: Russ Allbery <rra@stanford.edu>
	    - storage/Makefile creates a storage/objs directory on first
    build, but
	      the clean target, while deleting everything in the directory,
    doesn't
	      delete the directory itself.  That seems wrong to me, and
    makes CVS
	      whine on an update after a build.  Patch following.

Mon Jan 04 07:42:50 1999  <kondou>

  * innd/rc.c (1.31.2.1):
    innd/rc.c:
	    - From: Russ Allbery <rra@stanford.edu>
	    - I always liked the way innfeed.conf would let you leave off
    the
	      ip-addr key if it was the same as the key of the entry, so I
    fixed
	      incoming.conf so that it would do the same.  Patch attached.

Mon Jan 04 07:35:43 1999  <kondou>

  * Makefile (1.18.2.1):
  * INSTALL (1.19.2.1):
    INSTALL:
	    - From: Russ Allbery <rra@stanford.edu>
	    - explain transit only server needs overview
    Makefile:
	    - From: Russ Allbery <rra@stanford.edu>
	    - I'm not sure the intended semantics of realclean here, but
    I'm pretty
	      sure it's intended to be the same as distclean.  If so, it's
    missing
	      a goodly bit of stuff according to CVS, plus it's convenient
    to have
	      distclean available as an alias for it as well.  Patch
    attached.
    
	      This also removes the following over what was deleted before:
    
	      ? config.status
	      ? frontends/c7unbatch.sh
	      ? frontends/gunbatch.sh
	      ? include/autoconfig.h
	      ? innfeed/innfeed-convcfg
	      ? innfeed/procbatch
	      ? samples/checkgroups.pl
	      ? samples/cnfsstat
	      ? samples/controlbatch
	      ? samples/controlchan
	      ? samples/ihave.pl
	      ? samples/mailpost
	      ? samples/mod-active
	      ? samples/news2mail
	      ? samples/newgroup.pl
	      ? samples/nnrpd_auth.pl
	      ? samples/pullnews
	      ? samples/rmgroup.pl
	      ? samples/sendme.pl
	      ? samples/sendsys.pl
	      ? samples/senduuname.pl
	      ? samples/simpleftp
	      ? samples/version.pl
	      ? site/config

Mon Jan 04 02:14:22 1999  <kondou>

  * configure.in (1.106.2.5):
  * configure (1.104.2.5):
    configure:
    configure.in:
	    - From: Russ Allbery <rra@stanford.edu>
	    - Additional commands that should run after autoconf generates
    its
	      output files should be put into the second argument of
    AC_OUTPUT
	      rather than just raw into configure.in.  Raw commands will
    correctly
	      get put into the generated configure script, but they *won't*
    be put
	      into config.status.  config.status is very convenient when
    doing a
	      first build and having to patch various things; if you run
	      config.status, it will just redo the variable substitution
    without
	      rerunning configure.  But when I was doing that, the build
    then
	      failed because storage/buildconfig wasn't executable.
    
	      configure just runs config.status to do the substitutions;
    with this
	      patch, the chmod gets put in config.status rather than in
    configure
	      and therefore works correctly both after running configure
    and after
	      running config.status.

Wed Dec 30 05:24:58 1998  <kondou>

  * samples/incoming.conf (1.3.4.1):
    samples/incoming:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - This option is mentioned in the manpage but not in the sample
	      configuration file.

Wed Dec 30 05:24:12 1998  <kondou>

  * MANIFEST (1.20.2.5):
    MANIFEST:
	    - some man pages were lost

Mon Dec 28 15:43:11 1998  <kondou>

  * samples/ihave.pl.in (1.9.2.1):
  * samples/send-ihave.in (1.9.2.1):
    samples/ihave.pl.in:
	    - From: Hiroaki Sengoku <sengoku@gcd.forus.or.jp>
	    - $pathhost was still used
    samples/send-ihave.in:
	    - From: Hiroaki Sengoku <sengoku@gcd.forus.or.jp>
	    - cleanup for send-ihave

Sat Dec 26 16:16:10 1998  <kondou>

  * innd/his.c (1.33.2.4):
    innd/his.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Add output of history cache statistics on close history

Sat Dec 26 16:12:37 1998  <kondou>

  * backends/archive.c (1.10.4.2):
    backends/archive.c:
	    - didn't handle wireformat correctly

Fri Dec 25 01:29:41 1998  <kondou>

  * samples/cnfsstat.in (1.3.2.2):
    samples/cnfsstat.in:
	    - apply patch which Marc committed to stable tree (bug fix)

Wed Dec 23 14:20:16 1998  <kondou>

  * innd/art.c (1.90.2.2):
  * innd/his.c (1.33.2.3):
    innd/art.c:
	    - reverted to 1.92
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Duplicate HISsync()
    innd/his.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - If storageapi is true we don't need HISslashify.

Sat Dec 19 16:26:08 1998  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.5):
    storage/cnfs/cnfs.c:
	    - From: "Mark Wedel" <mark@icp.siemens.com>
	    - Below is a bit of a hack for 64 bit only - for whatever
    reason on my
	      system, the arithemetic on this was being done in 32 bit, so
    offset
	      only got a 32 bit value back which definately caused
    problems.
	      Casting to whatever offset's type is is probably a better
    fix.

Sat Dec 19 15:38:59 1998  <kondou>

  * innd/art.c (1.90.2.1):
    innd/art.c:
	    - reported by James Fidell <james@cloud9.co.uk>
	    - if the linecount is more than a few lines out, the article
    was
	      dropped without being entered in the history file

Wed Dec 16 06:00:50 1998  <kondou>

  * samples/innreport.conf.in (1.7.2.1):
    samples/innreport.conf.in:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - typo fixed

Wed Dec 16 06:00:09 1998  <kondou>

  * contrib/fixhist (1.2.4.1):
    contrib/fixhist:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Add more strict check for pathname

Fri Dec 11 06:01:35 1998  <kondou>

  * samples/scanspool.in (1.10.2.1):
    samples/scanspool.in:
	    - $ctlinnd was mis-defined

Thu Dec 10 23:44:36 1998  <kondou>

  * backends/archive.c (1.10.4.1):
    backends/archive.c:
	    - From: Francis Swasey <fswasey@btv.ibm.com>
	    - Here's a patch to make archive work with tokens.	It is
    rough.  It
	      uses the Xref header and just archives as many copies of the
    article
	      as there are entries in the Xref header.

Wed Dec 09 15:52:07 1998  <kondou>

  * samples/mailpost.in (1.1.2.1):
  * samples/newsfeeds.in (1.3.2.2):
    samples/mailpost.in:
	    - From: SAKAI Kiyotaka <ksakai@netwk.ntt-at.co.jp>
	    - In mailpost(8), -b is written as this.
    
	      -b   IF the ``-b'' flag is used, then it defines	the  loca-
		   tion  of  the database used to store the message ids of
		   articles sent on. This is to prevent  articles  looping
		   around  if a news to mail gateway sends them back here.
		   This option may be required	if  the  mailpost  process
		   doesn't  have  write  access  to the news tmp directory
		   (the value of athtmp in inn.conf(5).
    
	      If we obey this description, I think mailpost should be
    changed as
	      this. Otherwise, manual should be changed.
	    - mailpost returns error mail with optional white spaces at
    Subject
	      header
	    - I tried to post a news using mailpost with no subject header,
    but it
	      failed because inews couldn't accept an article with no
    subject.
    
	      I think this feature may confuse some user, so how about
    mailpost add
	      subject header as follows if not exist.
    samples/newsfeeds.in:
	    - From: SAKAI Kiyotaka <ksakai@netwk.ntt-at.co.jp>
	    - This is a sample entry for newsfeeds to use news2mail

Wed Dec 09 01:30:31 1998  <kondou>

  * lib/conffile.c (1.4.2.2):
    lib/conffile.c:
	    - do nothing if argument is null at CONFfclose()

Wed Dec 02 22:12:47 1998  <kondou>

  * lib/conffile.c (1.4.2.1):
    lib/conffile.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - fix for noreader ture

Wed Dec 02 22:12:30 1998  <kondou>

  * innd/nc.c (1.37.2.3):
    innd/nc.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - fix for noreader ture

Tue Dec 01 06:13:48 1998  <kondou>

  * innd/newsfeeds.c (1.18.4.1):
    innd/newsfeeds.c:
	    - 'O' flag didn't work

Sun Nov 29 02:14:26 1998  <kondou>

  * samples/newgroup.pl.in (1.10.2.1):
    samples/newgroup.pl.in:
	    - verify created newsgroup name

Fri Nov 27 07:14:30 1998  <kondou>

  * backends/innxmit.c (1.20.2.1):
    backends/innxmit.c:
	    - fixed memory leak, if traditional spool is used and batch
    file
	      without msgid

Thu Nov 26 05:07:34 1998  <kondou>

  * samples/rc.news.in (1.22.2.1):
    samples/rc.news.in:
	    - sleep before invoking cnfsstat.  This avoids referring
    uninitialized
	      cycbuffs.

Sat Nov 21 14:48:25 1998  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.4):
    storage/cnfs/cnfs.c:
	    - cycbuff was not closed, if retrieval was failed and pre-opend

Sat Nov 21 11:55:20 1998  <kondou>

  * lib/parsedate.y (1.4.2.1):
    lib/parsedate.y:
	    - fixed Y2K problem (this happened for relative, 'hh:mm' or
    'MM/DD')

Sat Nov 21 05:25:36 1998  <kondou>

  * innd/nc.c (1.37.2.2):
    innd/nc.c:
	    - didn't care return value for reading active.times or
    newsgroups

Wed Nov 18 23:03:23 1998  <kondou>

  * samples/newsfeeds.in (1.3.2.1):
  * samples/news2mail.in (1.1.2.1):
    samples/news2mail.in:
	    - From: SAKAI Kiyotaka <ksakai@netwk.ntt-at.co.jp>
	    - examples are substituted
	    - envelope fixed
    samples/newsfeeds.in:
	    - From: SAKAI Kiyotaka <ksakai@netwk.ntt-at.co.jp>
	    - typo fixed
	    - examples are substituted

Wed Nov 18 23:00:12 1998  <kondou>

  * README (1.5.2.2):
    README:
	    - From: SAKAI Kiyotaka <ksakai@netwk.ntt-at.co.jp>
	    - typo fixed.

Mon Nov 16 01:13:31 1998  <kondou>

  * samples/control.ctl (1.10.2.1):
    samples/control.ctl:
	    - update for fj.*
	    - From: Ollivier Robert <roberto@keltia.freenix.fr>
	    - I looked at the snapshot from INN-STABLE on 11/4 and it still
    has the
	      old and outdated e-mail address for Control for fr.*.

Sun Nov 15 22:45:13 1998  <kondou>

  * nnrpd/nnrpd.c (1.49.2.3):
  * nnrpd/post.c (1.28.2.3):
  * nnrpd/commands.c (1.20.2.2):
  * nnrpd/group.c (1.32.2.2):
  * nnrpd/article.c (1.57.2.5):
    nnrpd/article.c:
    nnrpd/group.c:
    nnrpd/nnrpd.c:
    nnrpd/post.c:
	    - '-l' is deleted, since innconf->readertrack has already
    existed
    nnrpd/commands.c:
	    - From: Robert Kiessling <robert@easynet.de>
	    - Appended is a patch that adds the user information to
    tracking files,
	      which is handy so that in order to get full information about
    a
	      session, you don't need to look at news.notice.

Sun Nov 15 04:18:16 1998  <kondou>

  * nnrpd/article.c (1.57.2.4):
    nnrpd/article.c:
	    - ARTopenbyid() failed if storageapi was false

Sat Nov 14 08:35:57 1998  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.3):
    storage/cnfs/cnfs.c:
	    - class should not be tranlated by htonl()

Wed Nov 11 23:02:49 1998  <kondou>

  * site/Makefile (1.46.2.2):
    site/Makefile:
	    - From: Paul Eggert <eggert@twinsun.com>
	    - Without the following patch, the INN installation procedure
    has
	      unintended behavior, since the obsolescent make variable
	      $(PATH_CSH_SHELLVARS) is unset, which means the dependency is
    on the
	      directory $D (whose time stamp is somewhat unreliable).

Wed Nov 11 22:56:56 1998  <kondou>

  * innfeed/main.c (1.18.2.1):
    innfeed/main.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - When SMopenmode==TRUE (SM_RDWR whith TRUE) innfeed have a lot
    missing
	      articles.

Wed Nov 11 22:56:12 1998  <kondou>

  * innd/chan.c (1.32.2.1):
    innd/chan.c:
	    - From: "Jeff A. Earickson" <jaearick@colby.edu>
	    - Here's a quick'n'dirty patch to innd/chan.c that fixes a
    problem with
	      nnrpd returning incomplete data after e.g. the LIST command.
    Might
	      also apply to HPUX 10.x with broken
    listen/nonblocking/accept, and
	      earlier versions of INN (might need patching by hand)

Tue Nov 10 23:33:11 1998  <kondou>

  * samples/inncheck.in (1.22.2.3):
    samples/inncheck.in:
	    - checking newsfeeds entry was incorrect for 'O'

Tue Nov 10 23:16:12 1998  <kondou>

  * nnrpd/misc.c (1.28.2.3):
    nnrpd/misc.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - overran buff if storageapi was false

Mon Nov 09 22:57:28 1998  <kondou>

  * storage/cnfs/cnfs.c (1.51.2.2):
  * storage/cnfs/cnfs-private.h (1.9.2.2):
    storage/cnfs/cnfs-private.h:
    storage/cnfs/cnfs.c:
	    - comment out for old cnfs stuff.  this breaks retrieved
    article if its
	      size matches ntohl(0x1234)
	    - check bitmaps for corrupted cycbuff

Mon Nov 09 22:47:38 1998  <kondou>

  * nnrpd/post.c (1.28.2.2):
    nnrpd/post.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - The variable "idbuff", which is used to give back the
    Message-ID to
	      the CMDpost() function for logging purposes, is used
    uninitialized in
	      case the article gets spooled instead of posted.

Mon Nov 09 22:46:48 1998  <kondou>

  * frontends/rnews.c (1.16.2.2):
    frontends/rnews.c:
	    - From: Sven Paulus <sven@karlsruhe.org>
	    - here are again the patches discussed last week concerning
    innd on
	      different ports than 119.

Sat Nov 07 03:19:55 1998  <kondou>

  * storage/interface.c (1.35.2.1):
    storage/interface.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - I had a largish bug in the parse_time function where it would
    only
	      use the first integer in the time string for calculating the
    time
	      offset.  I.e., 3d4h5m6s would be interpreted as 3d3h3m3s. 
    The
	      attached patch should fix that.  I also changed the function
    name
	      from parse_time to ParseTime to look more like the rest of
    INN.

Sat Nov 07 03:06:05 1998  <kondou>

  * samples/inn.conf.in (1.24.2.1):
  * samples/inncheck.in (1.22.2.2):
    samples/inn.conf.in:
    samples/inncheck.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - add new nnrpdposthost option to allow posting to different
    port

Sat Nov 07 03:04:47 1998  <kondou>

  * nnrpd/misc.c (1.28.2.2):
  * nnrpd/post.c (1.28.2.1):
  * nnrpd/commands.c (1.20.2.1):
    nnrpd/commands.c:
    nnrpd/misc.c:
	    - xpath returns token if storageapi is true
    nnrpd/post.c
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - add new nnrpdposthost option to allow posting to different
    port

Sat Nov 07 03:03:12 1998  <kondou>

  * lib/getconfig.c (1.48.2.1):
    lib/getconfig.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - add new nnrpdposthost option to allow posting to different
    port
	    - fixup comment on how to add new innconf variables

Sat Nov 07 03:02:16 1998  <kondou>

  * innd/nc.c (1.37.2.1):
    innd/nc.c:
	    - xpath returns token if storageapi is true

Sat Nov 07 03:00:24 1998  <kondou>

  * include/libinn.h (1.47.2.1):
  * include/innconf.h (1.14.2.2):
    include/innconf.h:
    include/libinn.h
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - add new nnrpdposthost option to allow posting to different
    port

Sat Nov 07 02:59:46 1998  <kondou>

  * frontends/rnews.c (1.16.2.1):
    frontends/rnews.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - add new nnrpdposthost option to allow posting to different
    port

Tue Nov 03 14:02:26 1998 David C Lawrence <tale>

  * NEWS (1.1.2.4):
    fix pointer to actsync manual page (instead of actsyncd page)

Tue Nov 03 14:02:13 1998 David C Lawrence <tale>

  * MANIFEST (1.20.2.4):
  * doc/Makefile (1.35.2.1):
    Note new actsyncd manual page in MANIFEST, install via doc/Makefile.
    Made more portable by not using ".so" directive; unfortunately now
    people have to manually quit and visit the actsync page.

Tue Nov 03 13:43:13 1998 David C Lawrence <tale>

  * NEWS (1.1.2.3):
    Note new ftp method in actsyncd.

Mon Nov 02 12:44:02 1998  <kondou>

  * storage/buildconfig (1.7.2.1):
    storage/buildconfig:
	    - buildconfig is created by configure

Mon Nov 02 12:43:37 1998  <kondou>

  * MANIFEST (1.20.2.3):
    MANIFEST:
	    - buildconfig is created by configure

Sun Nov 01 22:39:32 1998  <kondou>

  * nnrpd/misc.c (1.28.2.1):
  * nnrpd/article.c (1.57.2.3):
    nnrpd/article.c:
    nnrpd/misc.c:
	    - From: Sven Paulus <sven@fun.de>
	    - fix for traditional spool (buffer was too small for history
    reading)

Sat Oct 31 17:22:21 1998  <kondou>

  * innd/his.c (1.33.2.2):
    innd/his.c:
	    - From: Arjan de Vet <Arjan.deVet@nl.origin-it.com>
	    - According to Steinar Haug on the freebsd-hackers list it's
    not
	      strictly a bug according to POSIX 1003.1:
    
		The FreeBSD freopen() behavior may actually be correct
    according to
		the standards. My copy of POSIX 1003.1 (First edition,
    1990-12-07)
		says the following about ftell():
    
		8.2.3.10 ftell()
		The underlying function is lseek(). ... If the stream is
    opened in
		append mode or if the O_APPEND flag is set as a consequence
    of
		dealing with other handles on the file, the result of
    ftell() on
		that stream is unspecified.
    
		So freopen() behaving differently than fopen() may be
    allowed by
		the standards - but it certainly violates POLA, and
    probably also
		the FreeBSD manual page, which says:
		[...]
    
	      So it's actually required to do an fseek() after the history
    file has
	      been freopen()-ed in append mode. Here's a new patch with the
    a new
	      comment why this fseek is necessary:

Sat Oct 31 01:22:37 1998  <kondou>

  * innd/his.c (1.33.2.1):
    innd/his.c:
	    - From: Arjan de Vet <Arjan.deVet@nl.origin-it.com>
	    - do an explicit fseek to the end of the history file after
    opening it
	      in append mode:

Fri Oct 30 16:01:08 1998  <kondou>

  * nnrpd/nnrpd.c (1.49.2.2):
    nnrpd/nnrpd.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - The trace logging level is L_TRACE

Fri Oct 30 16:00:42 1998  <kondou>

  * include/innconf.h (1.14.2.1):
    include/innconf.h:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - The config variable for NNRPPERLAUTH is actually
    _CONF_NNRPPERLAUTH

Thu Oct 29 17:16:45 1998 James Brister <brister>

  * nnrpd/nnrpd.c (1.49.2.1):
    Want to use plain fork() when not immediately calling exec().

Wed Oct 28 02:45:43 1998 David C Lawrence <tale>

  * samples/mod-active.in (1.1.2.1):
    Fixed hardcoded path to ctlinnd to use $inn::newsbin

Tue Oct 27 06:06:10 1998  <kondou>

  * innfeed/sysconfig.h (1.15.2.2):
    innfeed/sysconfig.h:
	    - add some definition to avoid duplicate error when linking(for
    SunOS)

Mon Oct 26 22:03:19 1998  <kondou>

  * nnrpd/article.c (1.57.2.2):
    nnrpd/article.c:
	    - call ARTinstore() in CMDxover() only if storageapi is true

Mon Oct 26 22:01:05 1998  <kondou>

  * innfeed/sysconfig.h (1.15.2.1):
    innfeed/sysconfig.h:
	    - add some definition to avoid duplicate error when linking

Mon Oct 26 12:57:11 1998  <kondou>

  * configure.in (1.106.2.4):
  * configure (1.104.2.4):
    configure:
    configure.in:
	    - fixed a problem that $getftp does not have usable variable

Sun Oct 25 08:06:10 1998  <kondou>

  * samples/innreport_inn.pm (1.5.2.1):
    samples/innreport_inn.pm:
	    - fixed article stats calculation problem

Sun Oct 25 07:23:52 1998  <kondou>

  * samples/nnrp.access (1.3.2.1):
    samples/nnrp.access
	    - default line should not have non-null user and password

Sun Oct 25 07:23:30 1998  <kondou>

  * nnrpd/article.c (1.57.2.1):
    nnrpd/article.c:
	    - still nnrpdcheckart did not work correctly

Sat Oct 24 03:41:04 1998  <kondou>

  * samples/inncheck.in (1.22.2.1):
    samples/inncheck.in:
	    - From: George Lindholm <George.Lindholm@ubc.ca>
	    - Inncheck was out of date

Fri Oct 23 21:26:15 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.19.2.2):
    Reverted 1.19.2.1; $pgp is set via innshellvars.pl if it loads
    successfully.

Fri Oct 23 15:31:09 1998  <kondou>

  * configure (1.104.2.3):
  * configure.in (1.106.2.3):
    configure.in:
    configure:
	    - need -lcrypt for debian 2.0

Fri Oct 23 14:41:01 1998  <kondou>

  * samples/pgpverify.in (1.19.2.1):
    samples/pgpverify.in:
	    - reported by tom minchin <tom@interact.net.au>
	    - _PATH_PGP was not used for pgp

Fri Oct 23 14:39:16 1998  <kondou>

  * nnrpd/loadave.c (1.3.2.1):
    nnrpd/loadave.c:
	    - From: Egil Kvaleberg <egil@kvaleberg.no>
	    - Not all Linuces have the sys/sysinfo.h, although they still
    support
	      the sysinfo() call. The attached trivial patch fixes this.

Fri Oct 23 14:38:46 1998  <kondou>

  * include/config.h.in (1.30.2.1):
    include/config.h.in:
	    - From: Egil Kvaleberg <egil@kvaleberg.no>
	    - Not all Linuces have the sys/sysinfo.h, although they still
    support
	      the sysinfo() call. The attached trivial patch fixes this.

Fri Oct 23 14:37:52 1998  <kondou>

  * configure (1.104.2.2):
  * configure.in (1.106.2.2):
    configure.in:
    configure:
	    - From: Egil Kvaleberg <egil@kvaleberg.no>
	    - Not all Linuces have the sys/sysinfo.h, although they still
    support
	      the sysinfo() call. The attached trivial patch fixes this.

Fri Oct 23 08:12:57 1998 James Brister <brister>

  * include/patchlevel.h (1.6.2.2):
  * README (1.5.2.1):
    Update for 2.2b2 release.

Thu Oct 22 23:10:43 1998  <kondou>

  * samples/cnfsstat.in (1.3.2.1):
    samples/cnfsstat.in:
	    - skip cycbuffupdate and refreshinterval lines

Thu Oct 22 15:47:49 1998  <kondou>

  * nnrpd/newnews.c (1.9.2.1):
  * nnrpd/udp.c (1.3.2.1):
  * nnrpd/actived.c (1.2.2.1):
  * nnrpd/group.c (1.32.2.1):
    nnrpd/newnews.c:
	    - usage of PERMmatch() was wrong
    nnrpd/actived.c:
    nnrpd/group.c:
    nnrpd/udp.c:
	    - From: Jean-Francois Stenuit <jfs@skynet.be>
	    - When using actived under certain OS (I noticed it on linux
    boxes),
	      you may end up in a situation like this :
    
	      actived listen on port 1119 on localhost.
	      nnrpd opens a connection (ask for a local port) to connect to
    this
	      port and the system allocates 1119 as local port.
    
	      It makes a connection from localhost.1119 to localhost.1119
    with, on
	      the same system a non blocking listen on localhost.1119. Not
    all
	      systems like this !
    
	      The result : error messages like :
	      create_udp_socket: bind: Address already in use
    
	      The solution lies in the following three patches (apply
    agains 2.1 inn
	      distribution) :

Thu Oct 22 15:43:41 1998  <kondou>

  * site/Makefile (1.46.2.1):
    site/Makefile:
	    - samples/innshellvars.csh is moved to obsolete

Thu Oct 22 15:43:06 1998  <kondou>

  * storage/cnfs/cnfs-private.h (1.9.2.1):
  * storage/cnfs/cnfs.c (1.51.2.1):
    storage/cnfs/cnfs-private.h:
    storage/cnfs/cnfs.c:
	    - refreshinterval is now configurable

Thu Oct 22 15:41:03 1998  <kondou>

  * configure (1.104.2.1):
  * configure.in (1.106.2.1):
    configure.in:
    configure:
	    - samples/innshellvars.csh is moved to obsolete

Thu Oct 22 15:39:47 1998  <kondou>

  * config/files.list (1.23.4.1):
    config/files.list:
	    - samples/innshellvars.csh line is deleted

Thu Oct 22 10:09:07 1998 James Brister <brister>

  * NEWS (1.1.2.2):
    Fixed version number typo.

Thu Oct 22 08:56:09 1998 James Brister <brister>

  * include/patchlevel.h (1.6.2.1):
    Update for 2.2

Thu Oct 22 08:21:37 1998 James Brister <brister>

  * MANIFEST (1.20.2.2):
  * NEWS (1.1.2.1):
    Put innshellvars.csh.in in the obsolete directory

Thu Oct 22 08:06:46 1998 James Brister <brister>

  * MANIFEST (1.20.2.1):
    Added a bunch of stuff and removed innshellvars.csh.in

Thu Oct 22 07:36:40 1998 James Brister <brister>

  * ChangeLog (1.1.2.1):
    RCS log since 2.1 release.

Thu Oct 22 07:36:39 1998 James Brister <brister>

  * ChangeLog (1.1):
    file ChangeLog was initially added on branch STABLE-2_2.

Wed Oct 21 15:28:47 1998 <coneill>

  * storage/cnfs/cnfs.c (1.51):
    Doh, I didn't declare lastupdate to be static so it was rereading the
    cycbuff headers everytime that CNFSArtMayBeHere() was called.

Wed Oct 21 15:13:31 1998 David C Lawrence <tale>

  * obsolete/innshellvars.csh.in (1.1):
    innshellvars.csh.in moved from samples to obsolete.
    Per email with James Brister, Katsuhiro Kondou and David Lawrence

Wed Oct 21 14:12:29 1998 <coneill>

  * storage/cnfs/cnfs.c (1.50):
    Changed CNFSArtMayBeHere to consider cycbuff headers to be stale if
    more
    than 30 sec has elapsed instead of after 1000 calls.  This makes a big
    difference with nnrpd in daemon mode with SM_preopen.  W/o this new
    articles
    don't show up unless the client xover's or retrieves 1000 articles.

Wed Oct 21 13:54:07 1998 David C Lawrence <tale>

  * samples/control.ctl (1.10):
    relcom.* is now PGP signed.

Wed Oct 21 07:34:31 1998 James Brister <brister>

  * site/Makefile (1.46):
    Added news2mail (and its sample cf file) pullnews and mailpost
    Changed installation permission of the shellvars scripts to include
    world-read.

Wed Oct 21 07:30:01 1998 James Brister <brister>

  * nnrpd/Makefile (1.23):
    Fixed library ordering in build of nnrpd and actived.

Wed Oct 21 07:28:06 1998 James Brister <brister>

  * innd/icd.c (1.13):
    Changed second argument of 2-arg msync to active file size from 0
    (bsd/os
    2.1 kept falling over).

Wed Oct 21 07:23:54 1998 James Brister <brister>

  * doc/Makefile (1.35):
    Include new man files news2mail.8 pullnews.8 mailpost.8 in the
    processing

Wed Oct 21 07:22:03 1998 James Brister <brister>

  * NEWS (1.1):
    Description of differences from version to next.

Wed Oct 21 07:19:13 1998 James Brister <brister>

  * configure (1.104):
  * configure.in (1.106):
    Added new programs mailpost, new2mail and pullnews to the processed
    files.

Wed Oct 21 07:10:09 1998 James Brister <brister>

  * samples/news2mail.cf (1.1):
    Sample config file for news2mail

Wed Oct 21 07:08:29 1998 James Brister <brister>

  * samples/pullnews.in (1.1):
    suck'ing feed perl script.

Wed Oct 21 07:07:04 1998 James Brister <brister>

  * samples/news2mail.in (1.1):
    News to email gateway.

Wed Oct 21 07:05:48 1998 James Brister <brister>

  * samples/mailpost.in (1.1):
    Email to news gateway.

Mon Oct 19 15:16:18 1998 James Brister <brister>

  * CONTRIBUTORS (1.13):
  * README (1.5):
    2.2 preparation.

Mon Oct 19 09:19:26 1998  <kondou>

  * samples/version.pl.in (1.8):
  * samples/sendme.pl.in (1.7):
  * samples/sendsys.pl.in (1.7):
  * samples/senduuname.pl.in (1.7):
  * samples/controlchan.in (1.21):
  * samples/ihave.pl.in (1.9):
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - From: Fluffy <fluffy@meow.org>
	    - small patch for nonstandard mailers

Mon Oct 19 00:08:16 1998  <kondou>

  * README.perl_hook (1.9):
    README.perl_hook:
	    - add description of nnrpd_auth.pl

Sun Oct 18 23:44:19 1998  <kondou>

  * samples/inn.conf.in (1.24):
    samples/inn.conf.in:
	    - sample (default) entry for nnrpperlauth is added

Sun Oct 18 19:11:39 1998 David C Lawrence <tale>

  * site/Makefile (1.45):
    Removed bogus reference to doactsync.

Sun Oct 18 18:55:19 1998 David C Lawrence <tale>

  * site/Makefile (1.44):
    Fixed my own boneheaded mismatch of a { opening brace with a ) closing
    paren.

Sat Oct 17 01:07:25 1998 David C Lawrence <tale>

  * samples/innshellvars.tcl.in (1.18):
  * samples/mod-active.in (1.1):
  * samples/simpleftp.in (1.1):
  * site/Makefile (1.43):
  * backends/actsyncd.sh.in (1.3):
  * samples/actsync.cfg.in (1.3):
  * samples/innshellvars.in (1.22):
  * samples/innshellvars.pl.in (1.20):
  * configure (1.103):
  * configure.in (1.105):
  * MANIFEST (1.20):
    This set of changes all has to do with enabling support for getting
    ftp://ftp.isc.org/pub/usenet/CONFIG/active file for managing the
    active file.  Specifically:
    
      MANIFEST:  lists new file in samples: mod-active.in and simpleftp.in
      configure.in:  Look for ncftp or wget for fetching active file
      simpleftp.in:  Used if neither ncftp nor wget is found.
      innshellvars*: $GETFTP is ncftp, wget or simpleftp
      actsyncd.sh.in: Support either ftp or nntp retrieval of remote active
    file
      actsync.cfg.in: Use ftp://ftp.isc.org/pub/usenet/CONFIG/active by
    default
      mod-active.in: process actsync or checkgroups output efficiently,
    performing
	    all newgroup/rmgroup/changegroup in one innd pause/edit/reload
    action.
      site/Makefile: install mod-active and simpleftp

Thu Oct 15 23:24:01 1998  <kondou>

  * configure (1.102):
  * configure.in (1.104):
    configure.in:
    configure:
	    - From: Aidan Cully <aidan@panix.com>
	    - On NetBSD, the command line to check for the necessary perl
    ldopts
	      gives me this:
	      Note (probably harmless): No library found for -ldb
	      -L/usr/local/lib
    /usr/local/lib/perl5.004/auto/DynaLoader/DynaLoader.a
    -L/usr/local/lib/perl5.004/CORE -lperl -lm -lc -lcrypt
    
	      This is kind of a pissy thing to put in the Makefile.global..

Thu Oct 15 19:51:30 1998 David C Lawrence <tale>

  * samples/control.ctl (1.9):
    updated control message sender of ukr.*

Thu Oct 15 01:59:38 1998 <coneill>

  * nnrpd/commands.c (1.20):
  * nnrpd/nnrpd.c (1.49):
    - Fixed it so that nnrpd will compile if compiling w/o perl.
    Startconnection and CMDauthinfo were assuming that you compiled with
    --with-perl

Thu Oct 15 00:54:17 1998 <coneill>

  * nnrpd/post.c (1.28):
  * nnrpd/group.c (1.32):
  * nnrpd/misc.c (1.28):
  * nnrpd/nnrpd.h (1.26):
  * nnrpd/article.c (1.57):
    - XOVER's no long require 2 calls to dbzfetch if you're running with
    extendeddbz turned on.
    
    - Cleaned up a few more isxxx() calls and a few printf("%ld", int)'s
    
    - Reworked HISgetent so that it makes a little bit more sense.  It
    looks
    like the "flag" parameter was being used for about 3 different things
    and it
    was _incredibly_ confusing.  It appears to work with storage api, but
    I'm
    not convinced it works for traditional spool.  As a side note, the
    XPATH
    command appears to be completely broken and probably should be removed.

Wed Oct 14 17:26:19 1998 David C Lawrence <tale>

  * samples/signcontrol.in (1.8):
    added simple comments about why particular headers are signed
    
    made error messages a tad more helpful for situations when it is hard
    to know what message was trying to be signed (such as via an "at" job)
    
    ensure headers from @ignoreheaders are not in output, even if present
    in @orderheaders.
    
    some minor cleanups.

Wed Oct 14 14:51:49 1998 David C Lawrence <tale>

  * samples/signcontrol.in (1.7):
    # Changes from 1.5 to 1.6:
    #  -- eliminated subprocess use (except pgp, of course)
    #  -- allow optional headers; see $use_or_add
    #  -- set $action, $group, $moderated to "" to prevent unusued variable
    #	  warnings in the event a Control header can't be parsed
    #  -- moved assignment of $pgpend out of loop.
    # Changes from 1.4 to 1.5
    #  -- need to require Text::Tabs to get 'expand' for tabs in
    checkgroups
    # Changes from 1.3 to 1.4:
    #  -- added checkgroups checking
    #  -- added group name in several error messages (for help w/batch
    processing)
    #  -- disabled moderator address checking
    #  -- adjusted newsgroups line (ie, tabbing fixed) now correctly
    substituted
    #	  into control message.
    # Changes from 1.2.3 to 1.3:
    #  -- skip minor pgp signature headers like "charset:" after "version:"
    header
    #	  and until the empty line that starts the base64 signature block

Wed Oct 14 05:38:59 1998  <kondou>

  * storage/cnfs/cnfs.c (1.49):
    storage/cnfs/cnfs.c:
	    - pagefudge calculation was incorrect.

Wed Oct 14 01:56:44 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.19):
    # Changes from 1.10 -> 1.11
    # -- code to log error messages to syslog.
    #	 See $syslog and $syslog_method configurable variables.
    # -- configurably allow date stamp on stderr error messages.
    # -- added locking for multiple concurrent pgp instances.
    # -- more clear error message if pgp exits abnormally.
    # -- identify PGP 5 "BAD signature" string.
    # -- minor diddling for INN (path to innshellvars.pl changed)

Tue Oct 13 23:17:48 1998 <coneill>

  * samples/nnrpd_auth.pl.in (1.1):
  * nnrpd/article.c (1.56):
  * innd/his.c (1.33):
  * lib/dbz.c (1.29):
  * include/configdata.h (1.37):
  * include/dbz.h (1.13):
  * expire/expireindex.c (1.16):
  * backends/actsync.c (1.18):
  * backends/batcher.c (1.9):
  * backends/innxmit.c (1.20):
    - Fixed dbz.c so that the structures are packed again like they should
    be.
    Just for future reference, don't change this unless you've got a damn
    good
    reason.  This makes about a 10-20% difference in the size of the
    history.index file.
    
    - More gcc -Wall cleanups
    
    - Fixed a few places that had long or int instead of OFFSET_T.
    
    - changed the default for OFFSET_T to off_t

Tue Oct 13 23:03:40 1998 <coneill>

  * nnrpd/Makefile (1.22):
    Fixed nnrpd so that profiling works.

Tue Oct 13 14:22:22 1998  <kondou>

  * samples/controlchan.in (1.20):
    samples/controlchan.in:
	    - From: Fluffy <fluffy@meow.org>
	    - This makes the named-pipe syslog stuff only be tried if the
    host
	      system is running linux.
    
	      The test for INN::Syslog is for a more portable version of
    the
	      module I'm working on.

Tue Oct 13 14:07:33 1998 <coneill>

  * expire/makehistory.c (1.51):
  * expire/newsrequeue.c (1.17):
  * expire/expireindex.c (1.15):
  * expire/expireover.c (1.16):
  * expire/fastrm.c (1.15):
  * expire/makeactive.c (1.9):
  * expire/convdate.c (1.2):
  * expire/expire.c (1.56):
    - Converted a couple of int references to OFFSET_T
    
    - More gcc -Wall warning cleanup

Tue Oct 13 13:52:22 1998 <coneill>

  * storage/timehash/timehash.c (1.28):
  * storage/cnfs/cnfs.c (1.48):
  * storage/interface.c (1.35):
    More clean up of gcc -Wall warnings

Tue Oct 13 13:39:46 1998 <coneill>

  * lib/hash.c (1.10):
  * lib/inndcomm.c (1.7):
  * lib/parsedate.y (1.4):
  * lib/perl.c (1.7):
  * lib/reservedfd.c (1.5):
  * lib/conffile.c (1.4):
  * lib/dbz.c (1.28):
    Cleanup of libinn to prevent warnings with gcc -Wall.  Still a few
    left.

Tue Oct 13 12:50:58 1998 <coneill>

  * configure.in (1.103):
  * configure (1.101):
    Converted configure to only use largefile support if the user specifies
    --with-largefiles on the command line.  Right now still only supported
    with
    CNFS.

Tue Oct 13 12:25:20 1998 <coneill>

  * samples/cnfsstat.in (1.3):
    Changed cnfsstat so that it will remove nulls from the name of a spool
    object before printing them.

Tue Oct 13 12:23:08 1998 <coneill>

  * configure.in (1.102):
  * storage/cnfs/Makefile (1.12):
  * configure (1.100):
  * Makefile.global.in (1.23):
    Added support to configure to autodetect an environment that supports
    largefiles ala Unix98 and build CNFS with largefile support if there is
    support.  At some point we need to make this true for the entire tree,
    or at
    least make it an option for the entire tree.

Tue Oct 13 12:20:37 1998 <coneill>

  * nnrpd/nnrpd.h (1.25):
    - Added a perl hook for authentication into nnrpd.	If inn.conf
    variable
    'nnrpperlauth' is true then nnrp.access is bypassed and the perl
    function
    'authenticate' is called.  See the example program 'nnrpd_auth.pl' for
    more
    info.
    
    - Removed PERMdefault since it was impossible to set it to anything but
    false.
    
    Forgot to commit this the first time.

Tue Oct 13 12:18:44 1998 <coneill>

  * site/Makefile (1.42):
  * nnrpd/misc.c (1.27):
  * nnrpd/nnrpd.c (1.48):
  * nnrpd/perl.c (1.8):
  * nnrpd/post.c (1.27):
  * nnrpd/actived.c (1.2):
  * nnrpd/commands.c (1.19):
  * nnrpd/group.c (1.31):
  * include/paths.h.in (1.25):
  * lib/getconfig.c (1.48):
  * include/innconf.h (1.14):
  * include/libinn.h (1.47):
    - Added a perl hook for authentication into nnrpd.	If inn.conf
    variable
    'nnrpperlauth' is true then nnrp.access is bypassed and the perl
    function
    'authenticate' is called.  See the example program 'nnrpd_auth.pl' for
    more
    info.
    
    - Removed PERMdefault since it was impossible to set it to anything but
    false.

Tue Oct 13 11:37:57 1998 <coneill>

  * lib/cleanfrom.c (1.4):
    Fixed a problem where nnrpd would go into an infinite loop if someone
    posted
    with a From: line that had mismatched parentheses.

Sun Oct 11 23:04:50 1998  <kondou>

  * samples/newgroup.pl.in (1.10):
  * samples/rmgroup.pl.in (1.8):
    samples/newgroup.pl.in:
    samples/rmgroup.pl.in:
	    - Error log was logged to notice

Fri Oct 09 17:23:34 1998  <kondou>

  * samples/version.pl.in (1.7):
  * samples/sendme.pl.in (1.6):
  * samples/sendsys.pl.in (1.6):
  * samples/senduuname.pl.in (1.6):
  * samples/checkgroups.pl.in (1.8):
  * samples/controlchan.in (1.19):
  * samples/ihave.pl.in (1.8):
    samples/checkgroups.pl.in:
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - To: inn-patches@isc.org
	    - Okay, so FreeBSD doesn't like for perl to have signal handler
    to
	      clean up after child processes.  I ripped out the handler and
	      instead have a waitpid() after each open2() call.  Bleah.
    
	      There's also a fix to let syslog work under linux, the lib
    dir gets
	      grabbed up front in a variable so that there doesn't need to
    be a
	      hard-coded path in checkgroups.pl, and a couple other changes
    to
	      accommodate older INN versions are in there that shouldn't
    matter to
	      current.

Fri Oct 09 17:21:34 1998  <kondou>

  * innd/chan.c (1.32):
    innd/chan.c:
	    - From: Sang-yong Suh <sysuh@kigam.re.kr>
	    - I found another buglet introduced by inn-1.5 and still
    undiscovered.
	      It's bp->Left in CHANreadtext() of chan.c.
	      I agree the idea.  However, I want to read as many bytes as
    possible
	      if I am receiving the article text.  Therefore I'd like to
    limit the
	      read size only when the channel is in CSgetcmd.

Fri Oct 09 08:10:48 1998  <kondou>

  * nnrpd/group.c (1.30):
    nnrpd/group.c:
	    - From: STEVEN_GILLARD@HP-Australia-om1.om.hp.com
	    - If a group has an empty overview index file, the GRPscandir
    routine
	      will open the file but never close it.

Thu Oct 08 22:43:09 1998  <kondou>

  * storage/cnfs/cnfs.c (1.47):
    storage/cnfs/cnfs.c:
	    - needs to check to see if madvise() is available

Thu Oct 08 22:28:29 1998  <kondou>

  * innd/cc.c (1.47):
  * innd/innd.h (1.44):
    innd/cc.c:
	    - From: Sang-yong Suh <sysuh@kigam.re.kr>
	    - I often use ``ctlinnd xexec inndstart'' to restart innd.
	      However, I noticed that fd is leaking.
    innd/innd.h:
	    - From: Sang-yong Suh <sysuh@kigam.re.kr>
	    - Obviously, CHANnull expects the variable ``fd'' as the third
    value.

Thu Oct 08 16:39:25 1998 <coneill>

  * storage/cnfs/cnfs.c (1.46):
    - CNFS method will now issue a MADV_SEQUENTIAL before reading the
    article if
    the host system defines MADV_SEQUENTIAL
    
    - If the path in the cycbuff and the actual path mismatch log the
    error, but
    don't consider it to be fatal.

Wed Oct 07 07:22:13 1998  <kondou>

  * samples/newgroup.pl.in (1.9):
    samples/newgroup.pl.in:
	    - From: Fluffy <fluffy@meow.org>
	    - fixed syntax erorr

Tue Oct 06 14:25:15 1998 James Brister <brister>

  * expire/makeactive.c (1.8):
  * backends/actsync.c (1.17):
  * backends/innxmit.c (1.19):
  * nnrpd/group.c (1.29):
  * innd/ng.c (1.15):
  * lib/hash.c (1.9):
    Some minor lint removal

Tue Oct 06 05:00:56 1998  <kondou>

  * backends/inndf.c (1.4):
    backends/inndf.c:
	    - include "clibrary.h" (some system claims optind is not
    defined)

Mon Oct 05 23:14:24 1998  <kondou>

  * configure (1.99):
    configure:
	    - recreate configure with updated configure.in by tale

Mon Oct 05 23:10:57 1998  <kondou>

  * storage/qio.c (1.7):
    storage/qio.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This should fix the overview corruption some people see with
	      traditional overview because the buffer size is too small.

Mon Oct 05 23:10:02 1998  <kondou>

  * samples/sendsys.pl.in (1.5):
  * samples/senduuname.pl.in (1.5):
  * samples/version.pl.in (1.6):
  * samples/newgroup.pl.in (1.8):
  * samples/rmgroup.pl.in (1.7):
  * samples/sendme.pl.in (1.5):
  * samples/checkgroups.pl.in (1.7):
  * samples/controlchan.in (1.18):
  * samples/ihave.pl.in (1.7):
    samples/checkgroups.pl.in:
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/newgroup.pl.in:
    samples/rmgroup.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - From: fluffy@meow.org (Fluffy)
	    - There is a very important security fix here, plus a bunch of
    smaller
	      cleanup work.

Sun Oct 04 10:45:46 1998 James Brister <brister>

  * frontends/rnews.c (1.16):
    New -r flag to specifiy the remote host.

Fri Oct 02 18:01:09 1998 David C Lawrence <tale>

  * INSTALL (1.19):
    Updated comment about perl as a required package.
    Added comment about GNU Make as a possibly required package.

Fri Oct 02 17:35:31 1998 David C Lawrence <tale>

  * configure.in (1.101):
    Commented out check for perl5.004 in configure; should not be necessary
    for building.  We may want to re-enable the code to verify something
    like
    embedded perl, or warn about auxiliary programs.

Fri Oct 02 17:20:31 1998 David C Lawrence <tale>

  * storage/buildconfig (1.7):
    Remove requirement for perl5.003.  Now perl4 compatible.

Fri Oct 02 01:50:46 1998  <kondou>

  * samples/cnfsstat.in (1.2):
  * samples/rc.news.in (1.22):
    samples/cnfsstat.in:
	    - From: Robert Collier <rune@ftech.net>
	    - I include here an updated version of cnfsstat[1], it adds two
    more
	      options that allow it to be used as an external program from
    mrtg,
	      and to generate a suitable mrtg.conf from your configuration
    files.
    samples/rc.news.in:
	    - '-a' for 'cnfsstat -s' is useless

Mon Sep 28 23:06:26 1998  <kondou>

  * samples/version.pl.in (1.5):
  * samples/rmgroup.pl.in (1.6):
  * samples/sendme.pl.in (1.4):
  * samples/sendsys.pl.in (1.4):
  * samples/senduuname.pl.in (1.4):
  * samples/controlchan.in (1.17):
  * samples/ihave.pl.in (1.6):
  * samples/newgroup.pl.in (1.7):
  * samples/checkgroups.pl.in (1.6):
    samples/checkgroups.pl.in:
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/newgroup.pl.in:
    samples/rmgroup.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - From: Fluffy <fluffy@meow.org>
	    - Following are patches against the scripts as distributed in
    the last
	      few snapshots.  They could use some more exercise to make
    sure that
	      all possible places for tainted data to sneak in are covered.

Mon Sep 28 00:34:11 1998  <kondou>

  * doc/Makefile (1.34):
    doc/Makefile:
	    - cnfsstat.8 and controlchan.8 are added

Mon Sep 28 00:26:26 1998  <kondou>

  * MANIFEST (1.19):
    MANIFEST:
	    - add doc/cnfsstat.8 and doc/controlchan.8

Fri Sep 25 04:10:49 1998  <kondou>

  * nnrpd/article.c (1.55):
    nnrpd/article.c:
	    - don't close overview data until next 'group' is issued (for
    non-
	      storageapi)

Fri Sep 25 00:38:23 1998  <kondou>

  * expire/expireindex.c (1.14):
    expire/expireindex.c:
	    - From: "Wyer, Brett" <brett.wyer@telecheck.com>
	    - I don't claim to be a C programmer, but the fix seemed fairly
    clear
	      once I looked at the code a bit for the prior post I put up. 
    After
	      applying the fix, I was able to rebuild my news overview
    database
	      from scratch.  Apparently my problem with overview corruption
    is not
	      too terribly common, or most people having to do rebuilds
    don't have
	      overviewmmap turned off--otherwise this would have shown up
    much
	      sooner.

Thu Sep 24 23:56:46 1998  <kondou>

  * storage/cnfs/cnfs.c (1.45):
    storage/cnfs/cnfs.c:
	    - From: sfp@aplcomm.jhuapl.edu (Steve Parr)
	    - Two other Makefile questions.  storage/buildconfig in the
	      distribution is much older than storage/buildconfig.in. 
    Should a
	      make clobber be removing it?  And in older versions, you
    could do a
	      make update from the top level and it would do a make install
    in all
	      subdirs except site where it would do a make update.  It no
    longer
	      does the make update in site.  Is that intended?

Thu Sep 24 23:55:47 1998  <kondou>

  * storage/buildconfig.in (1.4):
    storage/buildconfig.in:
	    - From: sfp@aplcomm.jhuapl.edu (Steve Parr)
	    - Two other Makefile questions.  storage/buildconfig in the
	      distribution is much older than storage/buildconfig.in. 
    Should a
	      make clobber be removing it?  And in older versions, you
    could do a
	      make update from the top level and it would do a make install
    in all
	      subdirs except site where it would do a make update.  It no
    longer
	      does the make update in site.  Is that intended?

Thu Sep 24 23:54:20 1998  <kondou>

  * site/Makefile (1.41):
    site/Makefile:
	    - cnfsstat is added

Thu Sep 24 23:52:08 1998  <kondou>

  * samples/rc.news.in (1.21):
  * samples/cnfsstat.in (1.1):
  * samples/inn.conf.in (1.23):
    samples/cnfsstat.in:
	    - newly added
    samples/inn.conf.in:
	    - docnfsstat is added
    samples/rc.news.in:
	    - invoke cnfsstat if docnfsstat is true

Thu Sep 24 23:49:29 1998  <kondou>

  * nnrpd/nnrpd.c (1.47):
  * nnrpd/misc.c (1.26):
    nnrpd/misc.c:
    nnrpd/nnrpd.c:
	    - From: sfp@aplcomm.jhuapl.edu (Steve Parr)
	    - Here are some patches I made to the INN snapshot of 9/12. 
    The most
	      significant one being the SIGCHLD handling of nnrpd in daemon
    mode.
	      Without the patch, postings to moderated groups get mailed
    but the
	      mail process gets reaped before nnrpd can check for errors
    and so
	      nnrpd says the posting may have failed.  Since some clients
	      automatically retry the posting, this results in repeated
    mailings to
	      moderators.

Thu Sep 24 23:47:20 1998  <kondou>

  * configure (1.98):
  * configure.in (1.100):
  * MANIFEST (1.18):
    MANIFEST:
    configure.in:
    configure:
	    - contrib/cnfsstat.pl is moved to samples/cnfsstat.in

Wed Sep 23 13:27:24 1998  <barr>

  * samples/controlchan.in (1.16):
    SECURITY: change system() call to be a list so /bin/sh is not called

Wed Sep 23 07:30:58 1998  <kondou>

  * nnrpd/article.c (1.54):
    nnrpd/article.c:
	    - oops! nnrpdcheckart was not used for calling IsCancelled()

Wed Sep 23 06:22:56 1998  <kondou>

  * nnrpd/article.c (1.53):
    nnrpd/article.c:
	    - nnrpdcheckart was not used for xover

Wed Sep 23 06:22:06 1998  <kondou>

  * samples/controlchan.in (1.15):
    samples/controlchan.in:
	    - From: Fluffy <fluffy@meow.org>
	    - You want protection?  We got protection.	I've gone a bit
    overboard
	      with the excluded characters, so adjust to taste.  What this
    does is
	      prevent controls with "interesting" characters from being
    passed to
	      external procedures at all.

Wed Sep 23 06:19:42 1998  <kondou>

  * contrib/format_overview.pl (1.1):
  * contrib/count_overview.pl (1.1):
    contrib/cnfsstat.pl:
	    - From: Kjetil Torgrim Homme <kjetilho@ifi.uio.no>
	    - I took Andreas Lamprecht's cnfsstat.pl and updated it to INN
    2.1
	      (ie. storage.conf, not storage.ctl).  I also added an "-a"
    switch so
	      that it will report the approximate age of the oldest article
    in each
	      cycbuff, and modified the output format a little.
    contrib/count_overview.pl:
	    - From: "Ronald A. Jarrell" <jarrell@solaris.cc.vt.edu>
	    - This script breaks apart the overview record and pulls the
    xref
	      entries, and counts them.  I intend, when I get a chance, to
    automate
	      it a little more, by allowing you to just specify a number,
    instead
	      of the overview file itself, and by having it look up in
    overview.ctl
	      what should be in the file, and not display the groups
    outside that
	      range.  But this only took 10 mintues, and serves its
    purpose.
    contrib/format_overview.pl:
	    - From: "Ronald A. Jarrell" <jarrell@solaris.cc.vt.edu>
	    - I've found this next script makes life a LOT easier in
    managing
	      the format, and moving the damn numbers around.  I just strip
	      all all the index numbers, and add in what group I need. 
    When I'm
	      done, I feed it all to a sort -n, and quickly double check
    that
	      the alphabetic sort did order them properly (generally it
    should,
	      but I'm paranoid).  Then I feed that list to this mindless
	      script.  All of the above is quite trivial to do while still
    in
	      vi by doing a lot of :%!whatever's...

Wed Sep 23 06:16:34 1998  <kondou>

  * include/config.h.in (1.30):
    include/config.h.in:
	    - check getopt.h

Wed Sep 23 06:16:09 1998  <kondou>

  * backends/inndf.c (1.3):
    backends/inndf.c:
	    - check getopt.h

Wed Sep 23 06:15:37 1998  <kondou>

  * configure (1.97):
  * MANIFEST (1.17):
  * configure.in (1.99):
    MANIFEST:
	    - From: "Ronald A. Jarrell" <jarrell@solaris.cc.vt.edu>
	    - add contrib/count_overview.pl contrib/format_overview.pl
    configure.in:
    configure:
	    - check getopt.h

Tue Sep 22 06:51:24 1998  <kondou>

  * samples/controlchan.in (1.14):
    samples/controlchan.in:
	    - From: Fluffy <fluffy@meow.org>
	    - > I don't see any check for a valid Reply-To address, so a
    string
	      > like xx';rm -rf /;'xx would cause lots of damage...
	      This is eliminated by adding a couple lines to CleanAddy

Mon Sep 21 01:47:44 1998  <kondou>

  * lib/cleanfrom.c (1.3):
    lib/cleanfrom.c:
	    - Reported by "Pavel Gulchouck" <gul@lucky.carrier.kiev.ua>
	    - Look into lib/cleanfrom.c. It takes only first line from
    folded
	      header field, and it thinks that all between first LPAREN and
    last
	      RPAREN are comments. :-(

Sun Sep 20 13:25:08 1998  <kondou>

  * samples/controlbatch.in (1.3):
    samples/controlbatch.in:
	    - From: Fluffy <fluffy@meow.org>
	    - Just a couple typos and forgotten bits, no showstoppers.

Sun Sep 20 02:53:16 1998  <kondou>

  * samples/innwatch.in (1.13):
    samples/innwatch.in:
	    - From: noroi@mob.or.jp (IKEDA Kenji)
	    - evaluating shell variables in a smart way

Sat Sep 19 03:13:46 1998  <kondou>

  * samples/innwatch.in (1.12):
    samples/innwatch.in:
	    - From: noroi@mob.or.jp (IKEDA Kenji)
	    - ${LIM} included ${INNWATCH*} itself

Sat Sep 19 03:01:12 1998  <kondou>

  * storage/interface.c (1.34):
    storage/interface.c:
	    - if article which has Expires header but expire is not defined
    in
	      storage.conf, it may not be stored.

Sat Sep 19 02:01:57 1998  <kondou>

  * samples/innwatch.in (1.11):
    samples/innwatch.in:
	    - fixed syntax error

Thu Sep 17 22:10:30 1998  <kondou>

  * backends/inndf.c (1.2):
    backends/inndf.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - FreeBSD 3.0 have definition of getopt in unistd.h.
    
	    - From: "Edward S. Marshall" <emarshal@xnet.com>
	    - This should solve the problem in a much more portable manner
    (works
	      on Linux, Solaris 2.x, FreeBSD, Digital UNIX, HP-UX, and (I
    think)
	      SunOS; I needed to do this for another project I wrote which
    used
	      getopt).

Thu Sep 17 06:36:36 1998  <kondou>

  * nnrpd/nnrpd.c (1.46):
    nnrpd/nnrpd.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch removes the HAVE_SHADOW stuff from
	      config/config.scoreboard.  It is replaced by a configure test
    for
	      getspnam() and -lshadow.
    
	      If nnrpd is run in standalone mode, it tries to add itself to
    the
	      supplimentary group "shadow" (configurable) before changing
    uid/gid.
	      This way, nnrpd is still able to access the shadow file
    read-only on
	      many systems.

Thu Sep 17 06:36:00 1998  <kondou>

  * include/configdata.h (1.36):
  * include/config.h.in (1.29):
    include/config.h.in:
    include/configdata.h:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch removes the HAVE_SHADOW stuff from
	      config/config.scoreboard.  It is replaced by a configure test
    for
	      getspnam() and -lshadow.
    
	      If nnrpd is run in standalone mode, it tries to add itself to
    the
	      supplimentary group "shadow" (configurable) before changing
    uid/gid.
	      This way, nnrpd is still able to access the shadow file
    read-only on
	      many systems.

Thu Sep 17 06:34:34 1998  <kondou>

  * configure (1.96):
  * configure.in (1.98):
    configure.in:
    configure:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch removes the HAVE_SHADOW stuff from
	      config/config.scoreboard.  It is replaced by a configure test
    for
	      getspnam() and -lshadow.
    
	      If nnrpd is run in standalone mode, it tries to add itself to
    the
	      supplimentary group "shadow" (configurable) before changing
    uid/gid.
	      This way, nnrpd is still able to access the shadow file
    read-only on
	      many systems.

Thu Sep 17 06:33:30 1998  <kondou>

  * config/config.scoreboard (1.59):
    config/config.scoreboard:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch removes the HAVE_SHADOW stuff from
	      config/config.scoreboard.  It is replaced by a configure test
    for
	      getspnam() and -lshadow.
    
	      If nnrpd is run in standalone mode, it tries to add itself to
    the
	      supplimentary group "shadow" (configurable) before changing
    uid/gid.
	      This way, nnrpd is still able to access the shadow file
    read-only on
	      many systems.

Thu Sep 17 06:23:33 1998  <kondou>

  * storage/interface.c (1.33):
    storage/interface.c:
	    - From: Olaf Titz <olaf@bigred.inka.de>
	    - Selecting on "expires" in storage.conf fails for two reason:
	      1. Parsing of the argument confuses d, h, m, s suffixes.
	      2. parsedate() wants a null-terminated string, so we have to
    copy
		 here.	I have replaced Now.time by time(0) because, for
    reasons I
		 don't know, parsedate left a 0 in Now.time when I was
    testing this
		 changed routine.

Thu Sep 17 06:22:21 1998  <kondou>

  * nnrpd/group.c (1.28):
    nnrpd/group.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - If nnrpd is running on traditional spool and "nnrpdcheckart"
    is true,
	      XHDR/XPAT can take a loooong time in for example alt.2600,
    because
	      the lowest article according to GRPscandir() is 414.
    
	      This patch limits the articles reported by GRPscandir to the
	      range according to the active file. My news server finally
    has a
	      low load and people can read alt.2600 again ;)

Thu Sep 17 06:16:11 1998  <kondou>

  * nnrpd/group.c (1.27):
    nnrpd/group.c:
	    - xgtitle didn't work

Thu Sep 17 06:14:59 1998  <kondou>

  * samples/sendbatch.in (1.13):
  * samples/innstat.in (1.12):
  * samples/innwatch.ctl.in (1.6):
  * samples/innwatch.in (1.10):
  * samples/innshellvars.in (1.21):
  * samples/innshellvars.pl.in (1.19):
  * samples/innshellvars.tcl.in (1.17):
  * samples/inn.conf.in (1.22):
  * samples/inncheck.in (1.22):
    samples/inn.conf.in:
    samples/inncheck.in:
    samples/innshellvars.csh.in:
    samples/innshellvars.in:
    samples/innshellvars.pl.in:
    samples/innshellvars.tcl.in:
    samples/innstat.in:
    samples/innwatch.ctl.in:
    samples/innwatch.in:
    samples/sendbatch.in:
	    - incorporate inndf

Thu Sep 17 06:13:06 1998  <kondou>

  * include/config.h.in (1.28):
    include/config.h.in:
	    - incorporate inndf

Thu Sep 17 06:12:27 1998  <kondou>

  * doc/Makefile (1.33):
    doc/Makefile:
    doc/inn.conf.5:
    doc/inndf.8:
    doc/innwatch.8:
    doc/innwatch.ctl.5:
	    - incorporate inndf

Thu Sep 17 06:11:17 1998  <kondou>

  * config/config.scoreboard (1.58):
    config/config.scoreboard:
	    - incorporate inndf

Thu Sep 17 06:10:48 1998  <kondou>

  * backends/inndf.c (1.1):
  * backends/Makefile (1.22):
    backends/Makefile:
    backends/inndf.c:
	    - incorporate inndf

Thu Sep 17 06:10:07 1998  <kondou>

  * configure (1.95):
  * MANIFEST (1.16):
  * configure.in (1.97):
    MANIFEST:
    configure.in:
    configure:
	    - incorporate inndf

Tue Sep 15 02:24:02 1998  <kondou>

  * expire/makehistory.c (1.50):
    expire/makehistory.c:
	    - From: Kjetil Torgrim Homme <kjetilho@ifi.uio.no>
	    - When makehistory invokes sort, it will not pass on the -T
    flag unless
	      you have given it on the command line to makehistory.  I
    thought
	      pathtmp from inn.conf would be used as a default value.

Mon Sep 14 15:38:45 1998  <kondou>

  * samples/news.daily.in (1.28):
    samples/news.daily.in:
	    - TAGGEDHASH is DO, if --enable-tagged-hash is specified.

Mon Sep 14 15:28:17 1998  <kondou>

  * samples/news.daily.in (1.27):
    samples/news.daily.in:
	    - history.pag is not moved for tagged hash if EXPDIR is
    specified

Sun Sep 13 22:47:43 1998  <kondou>

  * innd/art.c (1.90):
    innd/art.c:
	    - From: Fluffy <fluffy@meow.org>
	    - I've got HMAC/SHA-1 cancel locks working in the perl filter
    (innd
	      runs with -C). (Yes, perl is an icky place for this, but it's
    easier
	      to play with it on a running server that way.  In C later,
    eh?)
    
	      This addition lets it work.  I'll clean up the perl bits and
    post a
	      pointer later.  Meow.

Sat Sep 12 14:08:27 1998  <kondou>

  * samples/checkgroups.pl.in (1.5):
    samples/checkgroups.pl.in:
	    - docheckgroups is installed into @LIBDIR@

Sat Sep 12 13:40:47 1998  <kondou>

  * innd/ng.c (1.14):
    innd/ng.c:
	    - lowmark wasn't adjusted if storageapi is true and no overview
    index
	      exists.

Sat Sep 12 06:06:33 1998  <kondou>

  * storage/cnfs/cnfs.c (1.44):
    storage/cnfs/cnfs.c:
	    - From: STEVEN_GILLARD@HP-Australia-om1.om.hp.com
	    - Ah...so we want to make sure artoffset + artlength <
    cycbuff->len.
	    - The way things are currently does not protect us against this
	      condition.

Sat Sep 12 06:05:07 1998  <kondou>

  * storage/interface.c (1.32):
    storage/interface.c:
	    - didn't check patterns existense in storage.conf

Sat Sep 12 06:03:59 1998  <kondou>

  * samples/newgroup.pl.in (1.6):
  * samples/controlchan.in (1.13):
  * samples/ihave.pl.in (1.5):
  * samples/rmgroup.pl.in (1.5):
  * samples/checkgroups.pl.in (1.4):
    samples/checkgroups.pl.in:
	    - temporary file was left
    samples/controlchan.in:
	    - @progparams was not initialized
    samples/ihave.pl.in:
	    - should use $inn::pathhost
    samples/newgroup.pl.in:
    samples/rmgroup.pl.in:
	    - temporary file was left

Sat Sep 12 05:58:34 1998  <kondou>

  * nnrpd/article.c (1.52):
    nnrpd/article.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - In the case of empty group CMDgetrange return random
	      value of rp->High.

Sat Sep 12 05:57:48 1998  <kondou>

  * innd/cc.c (1.46):
    innd/cc.c:
	    - From: Fluffy <fluffy@meow.org>
	    - Per a discussion early this morning in
    news.admin.net-abuse.usenet.
	      This adds a perl callback to do something akin to
    grephistory.  May
	      be useful if we need to reference stuff on the spool.  Or
    not. =)

Sat Sep 12 05:56:57 1998  <kondou>

  * README.perl_hook (1.8):
  * INSTALL (1.18):
    INSTALL:
	    - From: Tilman Schmidt <Tilman.Schmidt@sema.de>
	    - I would like to propose a small addition to the INSTALL
    document of
	      INN 2.1 mentioning the necessity of setting up some mechanism
    for
	      getting locally posted articles out.  (I hate to admit it,
    but I got
	      actually bitten by that, wondering for days why none of our
    postings
	      ever made it out onto the 'net.)
    README.perl_hook:
	    - From: Fluffy <fluffy@meow.org>
	    - Per a discussion early this morning in
    news.admin.net-abuse.usenet.
	      This adds a perl callback to do something akin to
    grephistory.  May
	      be useful if we need to reference stuff on the spool.  Or
    not. =)

Wed Sep 09 04:42:12 1998  <kondou>

  * samples/newgroup.pl.in (1.5):
  * samples/rmgroup.pl.in (1.4):
    samples/newgroup.pl.in:
    samples/rmgroup.pl.in:
	    - pathdb/newsgroups was not updated

Tue Sep 08 10:28:41 1998  <kondou>

  * samples/inncheck.in (1.21):
    samples/inncheck.in:
	    - reported from From: Florian La Roche <florian@suse.de>
	    - newly added parameters in inn.conf were not recognized by
    inncheck

Tue Sep 08 02:37:26 1998  <kondou>

  * samples/controlchan.in (1.12):
    samples/controlchan.in:
	    - $inn::pgpverify was not parsed correctly.

Mon Sep 07 23:23:57 1998  <kondou>

  * expire/expire.c (1.55):
    expire/expire.c:
	    - didn't care reservation and pause status for innd if an error
    happens

Mon Sep 07 08:59:09 1998  <kondou>

  * samples/parsecontrol.in (1.18):
  * samples/checkgroups.pl.in (1.3):
  * samples/controlchan.in (1.11):
  * samples/docheckgroups.in (1.10):
  * samples/inn.conf.in (1.21):
  * samples/checkgroups.in (1.14):
    samples/checkgroups.in:
    samples/checkgroups.pl.in:
    samples/controlchan.in:
    samples/docheckgroups.in:
    samples/parsecontrol.in:
	    - newsgroup patterns for checkgroups is now used for processing
	    - writelog didn't work for checkgroups
    samples/inn.conf.in:
	    - check existense of pgp program for default 'pgpvefy' value

Mon Sep 07 08:51:04 1998  <kondou>

  * configure (1.94):
  * configure.in (1.96):
  * aclocal.m4 (1.3):
    aclocal.m4:
    configure.in:
    configure:
	    - '--enable-libtool=no' is default now

Sun Sep 06 23:07:38 1998  <kondou>

  * samples/controlchan.in (1.10):
    samples/controlchan.in:
	    - controlchan didn't use sm to read article for storageapi
	    - controlchan now reads article directory for non-storageapi

Sun Sep 06 22:24:41 1998  <kondou>

  * samples/innshellvars.in (1.20):
    innshellvars.in:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - In the recent patches to samples/innshellvars*, the line that
    sets
	      TMPDIR in innshellvars seems to have been deleted, apparently
	      accidentally (it isn't gone from the other innshellvars.*
    scripts).
	      Alas, things like news.daily depend on TMPDIR being set, so
    this
	      breaks things.

Sun Sep 06 04:03:54 1998  <kondou>

  * storage/trash/trash.c (1.7):
  * storage/trash/trash.h (1.3):
    storage/trash/trash.c:
    storage/trash/trash.h:
	    - From: Robert Kiessling <robert@easynet.de>
	    - inn does not compile out-of-the box with IRIX 6.2. Here is a
    patch for
	      the necessary changes.

Sun Sep 06 04:03:09 1998  <kondou>

  * storage/timehash/timehash.c (1.27):
  * storage/timehash/timehash.h (1.6):
    storage/timehash/timehash.c:
    storage/timehash/timehash.h:
	    - From: Robert Kiessling <robert@easynet.de>
	    - inn does not compile out-of-the box with IRIX 6.2. Here is a
    patch for
	      the necessary changes.

Sun Sep 06 04:01:20 1998  <kondou>

  * storage/cnfs/cnfs.c (1.43):
  * storage/cnfs/cnfs.h (1.4):
    storage/cnfs/cnfs.c:
    storage/cnfs/cnfs.h:
	    - From: Robert Kiessling <robert@easynet.de>
	    - inn does not compile out-of-the box with IRIX 6.2. Here is a
    patch for
	      the necessary changes.

Sun Sep 06 04:00:19 1998  <kondou>

  * storage/buildconfig.in (1.3):
  * storage/interface.h (1.12):
    storage/buildconfig.in:
    storage/interface.h:
	    - From: Robert Kiessling <robert@easynet.de>
	    - inn does not compile out-of-the box with IRIX 6.2. Here is a
    patch for
	      the necessary changes.

Sun Sep 06 03:57:50 1998  <kondou>

  * innd/innd.h (1.43):
    innd/innd.h:
	    - From: Robert Kiessling <robert@easynet.de>
	    - inn does not compile out-of-the box with IRIX 6.2. Here is a
    patch for
	      the necessary changes.

Sun Sep 06 03:56:36 1998  <kondou>

  * include/libinn.h (1.46):
  * include/config.h.in (1.27):
    include/config.h.in:
    include/libinn.h:
	    - From: Robert Kiessling <robert@easynet.de>
	    - inn does not compile out-of-the box with IRIX 6.2. Here is a
    patch for
	      the necessary changes.

Sat Sep 05 15:16:45 1998  <kondou>

  * innd/cc.c (1.45):
    innd/cc.c:
	    - fixed some syntax error for some systems
	    - HIShavearticle() needs hash instead of messageid

Sat Sep 05 15:04:27 1998  <kondou>

  * innd/innd.c (1.40):
  * innd/cc.c (1.44):
    innd/cc.c:
    innd/innd.c:
	    - From: mooring@arduin.Tymnet.COM (Ed Mooring)
	    - I rounded up enough tuits to let perl call back into INN for
    the
	      features I outlined.

Sat Sep 05 15:03:40 1998  <kondou>

  * README.perl_hook (1.7):
    README.perl_hook:
	    - From: mooring@arduin.Tymnet.COM (Ed Mooring)
	    - I rounded up enough tuits to let perl call back into INN for
    the
	      features I outlined.

Sat Sep 05 14:21:42 1998  <kondou>

  * site/Makefile (1.40):
    site/Makefile:
	    - filter script for perl in MOST* are removed (they are still
    in REST*)

Sat Sep 05 14:21:16 1998  <kondou>

  * samples/parsecontrol.in (1.17):
  * samples/scanlogs.in (1.21):
  * samples/innshellvars.pl.in (1.18):
  * samples/innshellvars.tcl.in (1.16):
  * samples/innwatch.in (1.9):
  * samples/inn.conf.in (1.20):
  * samples/innshellvars.in (1.19):
  * samples/control.ctl (1.8):
  * samples/controlchan.in (1.9):
    samples/control.ctl:
	    - 'checkgroups:*@*:example.*:drop' line is now commented out
    samples/controlchan.in:
    samples/inn.conf.in:
	    - add innwatchsleeptime, pgpverify, controlfailnotice and
    logcycles
    samples/innshellvars.csh.in:
    samples/innshellvars.in:
    samples/innshellvars.pl.in:
    samples/innshellvars.tcl.in:
	    - remove MAIL_BADCONTROLS, LOG_CYCLES and WANT_PGPVERIFY
    samples/innwatch.in:
	    - SLEEP is replaced by INNWATCH_SLEEPTIME
    samples/parsecontrol.in:
	    - MAIL_BADCONTROLS is now read from inn.conf
    samples/scanlogs.in:
	    - CYCLES is replaced by LOG_CYCLES

Sat Sep 05 14:19:19 1998  <kondou>

  * config/config.scoreboard (1.57):
    config/config.scoreboard:
	    - remove MAIL_BADCONTROLS, LOG_CYCLES, INNWATCH_SLEEPTIME and
	      WANT_PGPVERIFY

Sat Sep 05 14:18:55 1998  <kondou>

  * configure (1.93):
  * INSTALL (1.17):
  * configure.in (1.95):
    INSTALL:
    configure.in:
    configure:
	    - remove --enable-pgp-verify from configure

Fri Sep 04 10:21:18 1998  <kondou>

  * samples/controlbatch.in (1.2):
    samples/controlbatch.in:
	    - '#!/bin/sh' line was not substituted by configure

Fri Sep 04 10:13:48 1998  <kondou>

  * storage/Makefile (1.33):
    storage/Makefile:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - By default INNs shared libs are installed mode 550. Which
    means that
	      if UUCP execs rnews it fails with "library not found".

Fri Sep 04 10:13:11 1998  <kondou>

  * site/Makefile (1.39):
    site/Makefile:
	    - controlbatch is incorporated

Fri Sep 04 10:12:14 1998  <kondou>

  * samples/version.pl.in (1.4):
  * samples/sendsys.pl.in (1.3):
  * samples/senduuname.pl.in (1.3):
  * samples/sendme.pl.in (1.3):
  * samples/rmgroup.pl.in (1.3):
  * samples/rc.news.in (1.20):
  * samples/ihave.pl.in (1.4):
  * samples/newgroup.pl.in (1.4):
  * samples/controlchan.in (1.8):
  * samples/controlbatch.in (1.1):
  * samples/checkgroups.pl.in (1.2):
    samples/checkgroups.pl.in:
    samples/controlbatch.in:
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/newgroup.pl.in:
    samples/rmgroup.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - From: Fluffy <gerglery@usa.net>
	    - update for controlchan
	    - controlbatch is incorporated
    samples/rc.news.in:
	    - don't claim 'No .news.daily file; need to run news.daily?',
    if
	      installed for the 1st time

Fri Sep 04 10:07:35 1998  <kondou>

  * lib/Makefile (1.35):
    lib/Makefile:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - By default INNs shared libs are installed mode 550. Which
    means that
	      if UUCP execs rnews it fails with "library not found"

Fri Sep 04 10:06:32 1998  <kondou>

  * configure (1.92):
  * MANIFEST (1.15):
  * configure.in (1.94):
  * INSTALL (1.16):
    INSTALL:
    MANIFEST:
    configure.in:
    configure:
	    - From: Fluffy <gerglery@usa.net>
	    - controlbatch is now incorporated

Thu Sep 03 14:45:31 1998  <kondou>

  * lib/getconfig.c (1.47):
    lib/getconfig.c:
	    - From: James Fidell <james@cloud9.co.uk>
	    - Looks like there's an error in getconfig.c for the
    sourceaddress
	      option.  This should fix it :

Wed Sep 02 15:27:16 1998  <kondou>

  * samples/inncheck.in (1.20):
  * samples/inn.conf.in (1.19):
    samples/inn.conf.in:
    samples/inncheck.in:
	    - From: Christophe Wolfhugel <wolf@pasteur.fr>
	    - I have modified the patch and introduced
	      a new option in inn.conf : sourceaddress.

Wed Sep 02 15:26:05 1998  <kondou>

  * nnrpd/misc.c (1.25):
    nnrpd/misc.c:
	    - check backoff parameters before checking backoff_db

Wed Sep 02 15:24:31 1998  <kondou>

  * lib/getconfig.c (1.46):
  * lib/remopen.c (1.7):
    lib/getconfig.c:
    lib/remopen.c:
	    - From: Christophe Wolfhugel <wolf@pasteur.fr>
	    - I have modified the patch and introduced
	      a new option in inn.conf : sourceaddress.

Wed Sep 02 15:15:45 1998  <kondou>

  * include/libinn.h (1.45):
  * include/innconf.h (1.13):
    include/innconf.h:
    include/libinn.h:
	    - From: Christophe Wolfhugel <wolf@pasteur.fr>
	    - I have modified the patch and introduced
	      a new option in inn.conf : sourceaddress.

Tue Sep 01 23:19:30 1998  <kondou>

  * nnrpd/article.c (1.51):
    nnrpd/article.c:
	    - From: Florian La Roche <florian@suse.de>
	    - My nnrpd loops in this newsgroup which does not have any
    articles in
	      it, but one line with overview data is still present

Tue Sep 01 00:35:11 1998  <kondou>

  * INSTALL (1.15):
    INSTALL:
	    - update for syslogging controlchan

Tue Sep 01 00:26:20 1998  <kondou>

  * samples/sendme.pl.in (1.2):
  * samples/sendsys.pl.in (1.2):
  * samples/senduuname.pl.in (1.2):
  * samples/version.pl.in (1.3):
  * samples/controlchan.in (1.7):
  * samples/ihave.pl.in (1.3):
  * samples/newgroup.pl.in (1.3):
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/newgroup.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - From: Fluffy <gerglery@usa.net>
	    - update for controlchan family

Tue Sep 01 00:23:58 1998  <kondou>

  * expire/makehistory.c (1.49):
    expire/makehistory.c:
	    - From: George Lindholm <George.Lindholm@ubc.ca>
	    - The problem is that when makehistory sees a traditional
    articles
	      without a Xref: header, it adds one using the path of the
    article,
	      not the group name.

Mon Aug 31 05:24:18 1998  <kondou>

  * samples/nnrp.access (1.3):
    samples/nnrp.access:
	    - *.foo.com line is commented out.

Mon Aug 31 02:49:34 1998  <kondou>

  * samples/controlchan.in (1.6):
    samples/controlchan.in:
	    - missing '^' and '$' in newsgroup patterns separated by '|'

Mon Aug 31 00:19:16 1998  <kondou>

  * innd/art.c (1.89):
    innd/art.c:
	    - DISPOSE()'ed statically allocated region.

Sun Aug 30 23:03:25 1998  <kondou>

  * innd/Makefile (1.33):
    innd/Makefile:
	    - TCLLIB and TCLINC are now used.

Sun Aug 30 23:02:32 1998  <kondou>

  * Makefile.global.in (1.22):
    Makefile.global.in:
	    - TCLLIB and TCLINC was not defined

Sun Aug 30 12:02:46 1998  <kondou>

  * samples/newsfeeds.in (1.3):
    samples/newsfeeds.in:
	    - From: Fabien Tassin <fta@oleane.net>
	    - innflags/inn.conf vs FLAGS/rc.news

Sun Aug 30 05:11:41 1998  <kondou>

  * nnrpd/article.c (1.50):
    nnrpd/article.c:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - Found the bug that caused the problem of xover always
    returning an
	      empty list that I complained about earlier.  The problem is
    that in
	      the tagged hash case, in IsCancelledByIndex, HISgetent() is
    called
	      with flag=TRUE, which implies that the offset parameter it's
    getting
	      is valid.  Unfortunately, it isn't, since the call to
    HISgetent()
	      that sets that offset exists only in the non-tagged-hash code
    branch.

Sun Aug 30 04:08:29 1998  <kondou>

  * samples/controlchan.in (1.5):
    samples/controlchan.in:
	    - missing trailing '\n'

Sat Aug 29 01:55:07 1998  <kondou>

  * lib/conffile.c (1.3):
    lib/conffile.c:
	    - From: Yasushi Shinjo <yas@is.tsukuba.ac.jp>
	    - CONFfopen() didn't return *ret.

Fri Aug 28 09:47:16 1998  <kondou>

  * nnrpd/misc.c (1.24):
    nnrpd/misc.c:
	    - use read() instaed of fgets(), if lseek() is used.

Thu Aug 27 03:36:21 1998  <kondou>

  * nnrpd/article.c (1.49):
    nnrpd/article.c:
	    - 'article <msgid>' for traditional did not work (previous one
    was
	      incomplete)

Thu Aug 27 02:15:32 1998  <kondou>

  * expire/makehistory.c (1.48):
    expire/makehistory.c:
	    - From: STEVEN_GILLARD@HP-Australia-om1.om.hp.com
	    - The problem happens when using a TMPDIR string thats rather
    long -
	      makehistory sprintf's a sort command into a buffer thats too
    small to
	      hold it.

Wed Aug 26 16:54:57 1998  <kondou>

  * nnrpd/misc.c (1.23):
  * nnrpd/nnrpd.c (1.45):
  * nnrpd/article.c (1.48):
    nnrpd/article.c:
    nnrpd/nnrpd.c:
	    - From: "Scott Gifford" <sgifford@tir.com>
	    - Here is a detailed description of the changes I made,
    followed by the
	      patch:
    
	      First, CMDxover uses CMDgetrange to parse the article range.
	      CMDgetrange was looping through every single article in the
    group
	      once to get some overview information, and then again to set
    the
	      token information.  This made the initial delay for XOVER on
    a large
	      group really really long, sometimes over a minute.  I fixed
    this by
	      deferring both of these lookups until they need to be done. 
    This
	      speeds things up by not bothering to look up articles unless
    they
	      are needed, and also defers the delay so that it doesn't
    cause
	      timeouts.
    
	      I also found some severe problems in the ARTfind routine.  If
    you
	      looked up the same article twice, the second one would miss
    the
	      ARTcache, and have to be searched for.  Because CMDxover does
    an
	      ARTfind twice for every article, the cache was missing at
    least half
	      the time.  I fixed this by having the cache code check
    ARTcache
	      where it is currently at before incrementing it.	I also
    added some
	      code to quickly detect ARTfinds on missing articles, and not
    lose
	      ARTcache in the process.	Finally, I added some code to do an
    early
	      check to see if they were ARTfinding the first article for
    this
	      group, becuase it is a fairly common thing, quick to check
    for, and
	      is the worst case for ARTfind's binary search.  All in all,
    in my
	      tests, XOVERs of all the articles in a group will hit the
    ARTcache
	      every single time, and other XOVERs will only miss for the
    first one.
    nnrpd/article.c:
    nnrpd/misc.c:
	    - 'article <msgid>' for traditional did not work.

Tue Aug 25 13:44:46 1998  <kondou>

  * samples/inn.conf.in (1.18):
    samples/inn.conf.in:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - It's incorrect. getconfig.c (ReadInnConf function):

Tue Aug 25 13:43:55 1998  <kondou>

  * samples/controlchan.in (1.4):
    samples/controlchan.in:
	    - From: Fluffy <fluffy@meow.org>
	    - For no particular reason, I was only checking to see if
    pgpverify
	      succeeded, and wasn't making sure the returned key actually
    matched
	      what was in control.ctl.	Duh.
    
	    - Logging of bogus control messages (e.g. Hippy) was a bit
    excessive.

Tue Aug 25 13:42:38 1998  <kondou>

  * innd/art.c (1.88):
    innd/art.c:
	    - From: Florian La Roche <florian@suse.de>
	    - compare with '\0' instead of NULL

Tue Aug 25 02:02:35 1998  <kondou>

  * samples/inn.conf.in (1.17):
    samples/inn.conf.in:
	    - From: James Fidell <james@cloud9.co.uk>
	    - default linecountfuzz and artcutoff in inn.conf was incorrect

Mon Aug 24 16:51:36 1998  <kondou>

  * nnrpd/article.c (1.47):
    nnrpd/article.c:
	    - 'article <msgid>' did not work for traditional spool in some
    case

Mon Aug 24 16:29:51 1998  <kondou>

  * innd/status.c (1.12):
    innd/status.c:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - inn.status should be in pathlog if HTML_STATUS is undefined.

Sun Aug 23 13:36:10 1998  <kondou>

  * expire/expireindex.c (1.13):
    expire/expireindex.c:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - It takes out the questonable business with setting i to
    Refresh->Used
	      and instead simply sets tmp to NULL if we're in the -o case
    and
	      overviewmmap is on, meaning that we don't try to munmap()
    random
	      parts of our address space later because tmp was never
    initialized.
	      This version seems to work okay with -o on both the mmap and
    non-mmap
	      cases.

Sat Aug 22 14:35:07 1998  <kondou>

  * storage/interface.c (1.31):
    storage/interface.c:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - If you have a first entry in the new-format storage.conf file
    that
	      doesn't completely specify all parameters (e.g. something
    like
	       method timehash { class: 0 }
	      that doesn't specify minsize and maxsize) the "sub" structure
    for:
	      that storage.conf entry gets uninitialized garbage for those:
	      parameters you didn't specify (leading to, say, a minsize of
	      25432934 for that storage method, which is not exactly what I
	      wanted).	The patch below fixes this by initializing the
    variables
	      after a 'method foo' is seen.  (There *was* code to reset the
	      variables at the end of a 'method foo {...}'; this code is
    now
	      redundant and hence is deleted by this patch).

Sat Aug 22 07:39:55 1998  <kondou>

  * samples/inn.conf.in (1.16):
  * samples/inncheck.in (1.19):
    samples/inncheck.in:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - ',' were missed in each parameter
    samples/inn.conf.in:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Add noreader

Fri Aug 21 10:30:05 1998  <kondou>

  * samples/version.in (1.15):
  * samples/version.pl.in (1.2):
    samples/version.in:
	    - use $VERSION instead of raw version
    samples/version.pl.in:
	    - use $inn::version instead of raw version

Fri Aug 21 10:28:14 1998  <kondou>

  * frontends/innconfval.c (1.13):
    frontends/innconfval.c:
	    - add -v to show version
	    - add version if no args

Fri Aug 21 10:22:52 1998  <kondou>

  * INSTALL (1.14):
    INSTALL:
	    - update for usecontrolchan

Fri Aug 21 07:25:51 1998  <kondou>

  * lib/getconfig.c (1.45):
    lib/getconfig.c:
	    - preveous fix was not complete. (_CONF_ALLOWREADERS and
	      CONF_VAR_ALLOWREADERS are replaced with
    _CONF_READERSWHENSTOPPED and
	      CONF_VAR_READERSWHENSTOPPED)

Fri Aug 21 07:23:21 1998  <kondou>

  * innd/chan.c (1.31):
    innd/chan.c:
	    - reported From: Aidan Cully <aidan@panix.com>
	    - If a connection is above its MaxCnx, it's FD does _not_ get
    removed
	      from RCHANmask.  The connecting site sends anything over,
    select
	      suddenly starts returning larger values.	Then, in the
    iteration
	      over the FD_SETs from select, if a particular connection is
    above
	      the MaxCnx, we simply skip that channel.	Obviously, the
    appropriate
	      way to fix this is to remove the FD from RCHANmask when it's
	      discovered that the channel is above its connection limit,
    and put
	      it back in if the limit changes.

Thu Aug 20 23:53:44 1998  <kondou>

  * samples/inn.conf.in (1.15):
  * samples/inncheck.in (1.18):
    samples/inn.conf.in:
	    - allowreaders is renamed to readerswhenstopped
	    - From: rune@ftech.net
	    - add noreader (originally spawnnnrpd)
    samples/inncheck.in:
	    - update for new parameters in inn.conf
	    - allowreaders is renamed to readerswhenstopped
	    - From: rune@ftech.net
	    - add noreader (originally spawnnnrpd)

Thu Aug 20 23:52:48 1998  <kondou>

  * lib/getconfig.c (1.44):
    lib/getconfig.c:
	    - defined name convention was bit different
	    - allowreaders is renamed to readerswhenstopped
	    - From: rune@ftech.net
	    - add noreader (originally spawnnnrpd)

Thu Aug 20 23:52:22 1998  <kondou>

  * innd/innd.c (1.39):
  * innd/rc.c (1.31):
  * innd/cc.c (1.43):
    innd/cc.c
    innd/innd.c
	    - allowreaders is renamed to readerswhenstopped
    innd/rc.c
	    - From: rune@ftech.net
	    - add noreader (originally spawnnnrpd)

Thu Aug 20 23:51:44 1998  <kondou>

  * include/innconf.h (1.12):
  * include/libinn.h (1.44):
    include/innconf.h
    include/libinn.h
	    - defined name convention was bit different
	    - allowreaders is renamed to readerswhenstopped
	    - From: rune@ftech.net
	    - add noreader (originally spawnnnrpd)

Thu Aug 20 14:35:58 1998  <kondou>

  * innd/icd.c (1.12):
    innd/icd.c:
	    - ensure control.cancel exists in active if
    innconf->usecontrolchan
	      is true

Thu Aug 20 14:25:42 1998  <kondou>

  * site/Makefile (1.38):
    site/Makefile:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - At least the new "controlchan" and all the filters aren't
    installed
	      anymore.

Thu Aug 20 14:24:57 1998  <kondou>

  * lib/conffile.c (1.2):
    lib/conffile.c:
	    - From: rune@ftech.net
	    - I needed to add this to compile under linux with this
    mornings CVS
	      tree.

Thu Aug 20 04:36:41 1998  <kondou>

  * samples/ihave.pl.in (1.2):
    samples/ihave.pl.in:
	    - From: Fluffy <fluffy@meow.org>
	    - If it's got a grephistory -s in it, that needs to be an -i. 
    Otherwise
	      identical.

Thu Aug 20 04:31:18 1998  <kondou>

  * storage/interface.c (1.30):
  * storage/interface.h (1.11):
    storage/interface.h:
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf

Thu Aug 20 04:30:49 1998  <kondou>

  * site/Makefile (1.37):
    site/Makefile:
	    - update newly added scripts for controlchan
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf

Thu Aug 20 04:30:15 1998  <kondou>

  * samples/senduuname.pl.in (1.1):
  * samples/storage.conf (1.1):
  * samples/version.pl.in (1.1):
  * samples/rmgroup.pl.in (1.2):
  * samples/sendme.pl.in (1.1):
  * samples/sendsys.pl.in (1.1):
  * samples/inn.conf.in (1.14):
  * samples/newgroup.pl.in (1.2):
  * samples/newsfeeds.in (1.2):
  * samples/checkgroups.pl.in (1.1):
  * samples/controlchan.in (1.3):
  * samples/ihave.pl.in (1.1):
    samples/checkgroups.pl.in:
    samples/controlchan.in:
    samples/ihave.pl.in:
    samples/inn.conf.in:
    samples/newgroup.pl.in:
    samples/newsfeeds.in:
    samples/rmgroup.pl.in:
    samples/sendme.pl.in:
    samples/sendsys.pl.in:
    samples/senduuname.pl.in:
    samples/version.pl.in:
	    - From: Fluffy <fluffy@meow.org>
	    - Added a doifarg action to sendsys, version and senduuname,
    because
	      there just may be someone out there who doesn't want to
    entirely
	      disable those things.  (It's documented but not in the shell
    stuff.)
    
	      Wrote up some documentation, then went and rm'ed the wrong
    directory.
    samples/storage.conf:
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf

Thu Aug 20 04:28:48 1998  <kondou>

  * nnrpd/post.c (1.26):
    nnrpd/post.c:
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:28:25 1998  <kondou>

  * lib/getconfig.c (1.43):
  * lib/Makefile (1.34):
  * lib/conffile.c (1.1):
    lib/Makefile:
    lib/conffile.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf
    lib/getconfig.c:
	    - '--enable-controlchan' is gone and it is moved to inn.conf
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:27:49 1998  <kondou>

  * innfeed/sysconfig.h (1.15):
    innfeed/sysconfig.h:
	    - avoid duplicate yacc symbol for UX4800

Thu Aug 20 04:27:21 1998  <kondou>

  * innd/icd.c (1.11):
  * innd/art.c (1.87):
    innd/art.c:
	    - '--enable-controlchan' is gone and it is moved to inn.conf
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf
    innd/icd.c:
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:26:18 1998  <kondou>

  * include/libinn.h (1.43):
  * include/config.h.in (1.26):
  * include/configdata.h (1.35):
  * include/innconf.h (1.11):
  * include/conffile.h (1.1):
  * include/paths.h.in (1.24):
    include/conffile.h:
    include/paths.h.in:
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf
    include/config.h.in:
	    - '--enable-controlchan' is gone and it is moved to inn.conf
    include/configdata.h:
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf
    include/innconf.h:
    include/libinn.h:
	    - '--enable-controlchan' is gone and it is moved to inn.conf
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:25:15 1998  <kondou>

  * frontends/sys2nf.c (1.2):
  * frontends/inews.c (1.15):
    frontends/inews.c:
    frontends/sys2nf.c:
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:24:31 1998  <kondou>

  * doc/Makefile (1.32):
    doc/Makefile:
    doc/cycbuff.conf.5:
    doc/expire.ctl.5:
    doc/libstorage.3:
    doc/sm.8:
    doc/storage.conf.5:
    doc/storage.ctl.5:
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf
    doc/active.5:
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf
    doc/inn.conf.5:
	    - '--enable-controlchan' is gone and it is moved to inn.conf
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf
	    - From: Aidan Cully <aidan@panix.com>
	    - will use storage.conf
    doc/innd.8:
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:21:10 1998  <kondou>

  * config/config.scoreboard (1.56):
    config/config.scoreboard
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf

Thu Aug 20 04:20:25 1998  <kondou>

  * configure (1.91):
  * MANIFEST (1.14):
  * configure.in (1.93):
  * INSTALL (1.13):
    INSTALL
	    - update for storage.conf
    MANIFEST
	    - update newly added scripts for controlchan
	    - update for storage.conf
	    - update for cnfsstat.pl(contrib)
    configure.in
    configure
	    - '--enable-controlchan' is gone and it is moved to inn.conf
	    - '--enable-merge-to-groups' is gone and it is moved to
    inn.conf
	    - update newly added scripts for controlchan

Wed Aug 19 06:50:54 1998  <kondou>

  * lib/endian.c (1.9):
    lib/endian.c:
	    - Some compiler recognize the code unwantedly.
	      To avoid this, the code is separated and call store() and
	      load_and_store() instead

Wed Aug 19 06:48:45 1998  <kondou>

  * expire/expireindex.c (1.12):
    expire/expireindex.c:
	    - From: Keith Lewis <keithl@mukluk.cc.monash.edu.au>
	    - there was a bug if mmap is on and with '-a -o'

Wed Aug 19 06:44:23 1998  <kondou>

  * MANIFEST (1.13):
    MANIFEST:
	    - update for controlchan, newgroup.pl and rmgroup.pl

Wed Aug 19 02:57:22 1998 Marc Fournier <scrappy>

  * site/Makefile (1.36):
    make sure the new files get installed

Wed Aug 19 02:56:58 1998 Marc Fournier <scrappy>

  * samples/controlchan.in (1.2):
    move  the control files to bin/control instead of bin/newcontrol ...

Wed Aug 19 02:56:19 1998 Marc Fournier <scrappy>

  * configure.in (1.92):
  * configure (1.90):
    make sure substitutions are done for the new files in samples

Wed Aug 19 02:49:25 1998 Marc Fournier <scrappy>

  * samples/rmgroup.pl.in (1.1):
  * samples/newgroup.pl.in (1.1):
  * samples/newsfeeds.in (1.1):
  * samples/controlchan.in (1.1):
    Include the new perl scripts, setting paths as appropriate
    Add a sample entry to newsfeeds., as well as set appropriate paths for
    the samples in there...
    
    Not installed by default yet

Wed Aug 19 01:39:58 1998 Marc Fournier <scrappy>

  * innd/art.c (1.86):
  * include/config.h.in (1.25):
  * configure.in (1.91):
  * configure (1.89):
    Add an --enable-controlchan option to configure that triggers an #ifdef
    in innd/art.c for the controlchan code submitted by: Fluffy
    <fluffy@meow.org>
    
    Still have to work in the controlchan work itself though...

Tue Aug 18 08:15:15 1998  <kondou>

  * innd/nc.c (1.37):
    innd/nc.c:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - I'm trying out the patch below, which turns off (temporarily)
	      reading from channels when the server is paused and the
    channel has
	      gotten an articles worth of data (i.e. it can't go any
    further with
	      that data until the server is unpaused.)

Sun Aug 16 23:30:48 1998  <kondou>

  * backends/batcher.c (1.8):
    backends/batcher.c:
	    - reported from Stephan Austermuehle <au@hcsd.de>
	    - 'Token' was not set for traditional spool

Sat Aug 15 11:15:24 1998  <kondou>

  * MANIFEST (1.12):
    MANIFEST:
	    - replace frontends/c7unbatch.sh with frontends/c7unbatch.sh.in
	    - add frontends/gunbatch.sh.in

Sat Aug 15 05:45:35 1998  <kondou>

  * storage/cnfs/cnfs.c (1.42):
    storage/cnfs/cnfs.c:
	    - From: "Forrest J. Cavalier III" <mibsoft@mibsoftware.com>
	    - When articlemmap is off, the code could DISPOSE() a stale
    pointer,
	      leading to malloc() arena corruption, crashes, memory leaks,
	      infinite loops, etc, especially when running makehistory -O
    or -I.
	    - From: Bjorn Danielsson <bd@sunet.se>
	    - bogus pointers are sometimes passed to munmap() in
	      CNFSmunmapbitfields() in storage/cnfs/cnfs.c, which may cause
    parts
	      of the malloc heap to become unmapped.

Sat Aug 15 05:43:21 1998  <kondou>

  * samples/sendbatch.in (1.12):
  * samples/inn.conf.in (1.13):
  * samples/nntpsend.ctl (1.2):
  * samples/passwd.nntp (1.2):
    samples/inn.conf.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Add new option 'nicenewnews'
	    - Fix backoff* variables - they don't have an underscore
    samples/nntpsend.ctl:
    samples/passwd.nntp:
	    - From: Florian La Roche <florian@suse.de>
	    - I would comment out these example entries:
    samples/sendbatch.in:
	    - From: Florian La Roche <florian@suse.de>
	    - The following patch is needed on a Linux machine(bash) as it
    fails if
	      "$FREE" has nothing in it and the line reads

Sat Aug 15 05:40:25 1998  <kondou>

  * nnrpd/post.c (1.25):
  * nnrpd/loadave.c (1.3):
  * nnrpd/newnews.c (1.9):
    nnrpd/loadave.c:
	    - From: Florian La Roche <florian@suse.de>
	    - It is much easier to use a system call for this instead of
    parsing
	      /proc/loadavg.
    nnrpd/newnews.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Add new option 'nicenewnews' to force nnrpd to nice itself to
    this
	      value if the NEWNEWS command is used
    nnrpd/post.c:
	    - From: Florian La Roche <florian@suse.de>
	    - Note that it is a loop and "p++" is always done at the end of
    the
	      loop...

Sat Aug 15 05:37:45 1998  <kondou>

  * lib/getconfig.c (1.42):
    lib/getconfig.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Add new option 'nicenewnews' to force nnrpd to nice itself to
    this
	      value if the NEWNEWS command is used

Sat Aug 15 05:34:59 1998  <kondou>

  * innfeed/innlistener.c (1.11):
    innfeed/innlistener.c:
	    - From: Bjorn Danielsson <bd@sunet.se>
	    - the first article fed to a dynamically configured peer is
    lost.

Sat Aug 15 05:33:34 1998  <kondou>

  * innd/art.c (1.85):
    innd/art.c:
	    - 'H' flag for newsfeeds for traditional spool still had
    problem

Sat Aug 15 05:32:30 1998  <kondou>

  * include/innconf.h (1.10):
  * include/libinn.h (1.42):
    include/innconf.h:
    include/libinn.h:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Add new option 'nicenewnews' to force nnrpd to nice itself to
    this
	      value if the NEWNEWS command is used

Sat Aug 15 05:30:32 1998  <kondou>

  * frontends/inews.c (1.14):
  * frontends/Makefile (1.30):
  * frontends/c7unbatch.sh.in (1.1):
  * frontends/gunbatch.sh.in (1.1):
    frontends/c7unbatch.sh:
	    - c7unbatch.sh is created by configure with c7unbatch.sh.in
    frontends/Makefile:
    frontends/c7unbatch.sh.in:
    frontends/gunbatch.sh.in:
	    - path for compress and gzip are set by confiugre
	    - From: Florian La Roche <florian@suse.de>
	    - "gunzip" is still used by many sites for compressed
    gzip-batches. It
	      would be good to have "gunzip" for better compatibility.
    frontends/inews.c:
	    - From: Florian La Roche <florian@suse.de>
	    - Note that it is a loop and "p++" is always done at the end of
    the
	      loop...

Sat Aug 15 05:23:04 1998  <kondou>

  * configure.in (1.90):
  * configure (1.88):
    CHANGES:
	    - this file was dropped from MANIFEST
    configure:
    configure.in:
	    - add frontends/c7unbatch.sh.in and frontends/gunbatch.sh.in
	      for COMPRESS and GZIP substitution

Wed Aug 12 23:50:42 1998  <kondou>

  * INSTALL (1.12):
    INSTALL:
	    - explain approximate amount of RAM needed for non-tagged hash

Wed Aug 12 23:01:06 1998  <kondou>

  * innd/ng.c (1.13):
    innd/ng.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - Since a few days my innd coredumped while starting up. It
    appears
	      that a function in ng.c reads one character past the mmap()ed
    active
	      file.  It might also have to do with the fact that my active
    file is
	      an _exact_ multiple of the page size right now.
    
	      I studied the code and I cannot see why it happens just
    _that_ it
	      happens.	It might even be a bug in the libc implementation
    of
	      strchr. Anyway I've replaced the original code with something
    smaller
	      and simpler that does work .. and that never hurts, does it?

Wed Aug 12 14:13:17 1998  <kondou>

  * site/Makefile (1.35):
    site/Makefile:
	    - perl and tcl filter scripts are moved to REST
    
	    - From: Florian La Roche <florian@suse.de>
	    - nnrpd.track not installed

Tue Aug 11 06:05:34 1998  <kondou>

  * innd/nc.c (1.36):
    innd/nc.c:
	    - reported by From: Barry Bierbauch <fluffy@int.tele.dk>
	    - sugested patch from gerglery@usa.net (Grigori Vulis)
	    - returned response was incorrect for ihave

Tue Aug 11 01:35:40 1998  <kondou>

  * innd/chan.c (1.30):
  * innd/innd.h (1.42):
  * innd/art.c (1.84):
    innd/art.c:
    innd/chan.c:
    innd/innd.h:
	    - reported From: John Line (as news server manager)
	      <newsmaster@ucs.cam.ac.uk>
	    - 'H' didn't append a new line for each article
	    - Xref header created from didn't include trailing line feed
	    - 'H' for storage api included '\r'

Sun Aug 09 14:03:10 1998  <kondou>

  * innd/art.c (1.83):
    innd/art.c:
	    - reported by Yong-Shen Tang <jeff@db.csie.ncu.edu.tw>
	    - Hi! when turning on verifycancel option in inn.conf , all
    cancel
	      messages, including valid or invalid, happen to be refused by
    innd.
	      I found that art.c:ARTcancelverify() doesn't remove the
    "Sender: "
	      nor "From: " from the head of 'local', so !EQ(local, p)
    always return
	      true here. My inn version is 2.1 .

Fri Aug 07 14:17:15 1998  <kondou>

  * nnrpd/nnrpd.c (1.44):
    nnrpd/nnrpd.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Allow access patterns to be defined and used later in the
	      nnrp.access file. If large patterns are used repeatedly,
	      this reduces the size of the nnrp.access file and can
	      improve startup performance significantly.
	    - Add a line count, so that the line number of errors in
	      nnrp.access can be logged.

Thu Aug 06 23:07:41 1998  <kondou>

  * storage/timehash/timehash.c (1.26):
    storage/timehash/timehash.c:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - storage/timehash/timehash.c #includes <netinet/in.h> without
	      #including <sys/types.h> first.  Ultrix needs <sys/types.h>
    to be
	      #included before <netinet/in.h>.	I #included <sys/types.h>
    before
	      <netinet/in.h>.

Thu Aug 06 23:06:44 1998  <kondou>

  * storage/Makefile (1.32):
    storage/Makefile:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - storage/Makefile triggers a bug in Ultrix's /bin/sh:  The
    result of an
	      if x; then y; fi;  is false if x evaluates to false, which
    makes make
	      abort.  One can tell make to ignore the return-status of the
    if,
	      insert an empty else-clause, or rewrite the statement.  I
    changed the
	      if to: [ -d objs ] || mkdir objs;

Thu Aug 06 23:06:06 1998  <kondou>

  * lib/makedir.c (1.3):
    lib/makedir.c:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - lib/makedir.c #includes <sys/stat.h> before <sys/types.h>. 
    Ultrix
	      requires, and Posix specififies that <sys/types.h> has to be
    #included
	      before <sys/stat.h>.  I just swapped the #includes.

Thu Aug 06 23:04:37 1998  <kondou>

  * configure (1.87):
  * configure.in (1.89):
    configure.in:
    configure:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - configure.in contains AC_HEADER_TIME in line 371 as well as
    in line
	      343, I removed the one in line 371.

Thu Aug 06 09:27:10 1998  <kondou>

  * nnrpd/post.c (1.24):
    nnrpd/post.c:
	    - From: Andrew Gierth <andrew@erlenstar.demon.co.uk>
	    - The actived patch returns the group info in a static area
    which is
	      overwritten on subsequent calls - so the group pointer saved
    by
	      ValidNewsgroups becomes invalid before being used for the
    mailing.

Thu Aug 06 08:46:20 1998  <kondou>

  * README.perl_hook (1.6):
    README.perl_hook:
	    - update for Andrew Gierth's patch

Thu Aug 06 08:27:35 1998  <kondou>

  * nnrpd/post.c (1.23):
  * nnrpd/perl.c (1.7):
    nnrpd/perl.c:
    nnrpd/post.c:
	    - This code was written by Andrew Gierth
    <andrew@erlenstar.demon.co.uk>
	    - As ported to INN 2.0 by John Payne.
	    - This patch does several things:
    
	      1. Gives the Perl filter (filter_nnrpd.pl) access to message
    bodies,
	      in the $body variable.
    
	      2. Gives the Perl filter access to the poster's authinfo
    username,
	      in the $user variable.  Obviously this has no effect unless
    you use
	      authinfo.
    
	      3. Adds a returncode DROP to the Perl interface.	If the
    string
	      returned by the Perl subroutine begins with DROP, the post
    will be
	      discarded and success returned to the client.
    
	      4. Adds a returncode SPOOL to the Perl interface.  If the
    string
	      returned by the Perl subroutine begins with SPOOL, success
    will be
	      returned to the client and the post will be saved to
    in.coming/spam
	      for manual inspection.
    
	      Thus, doing something like this:
    
	      return "DROP spam" if ($body =~
    /http:..dirty\.spammer\.com/);
    
	      will drop any post containing that URL while returning
    success to the
    
	      sting client, making the spammer think he is being successful
    and
	      keeping him from changing ISPs and starting over somewhere
    else.
    
	      return "SPOOL possible MMF" if ($hdr{"Subject"} =~ /Make
    Money Fast/);
    
	      will spool "suspect" posts in in.coming/spam so you can look
    at them
	      and decide whether they should go out.  They can be injected
    manually
	      with rnews.  Spooled posts to moderated groups will be placed
    in
	      in.coming/spam/mod; you *cannot* feed these to rnews, they
    must be
	      mailed to the moderation address.  This is somewhat
    inconvenient.
    
	      return "posting access denied" if ($user eq "badguy");
    
	      will return failure for anything posted by "badguy", removing
    his
	      Usenet posting ability while still allowing him to read. 
    (This
	      example requires authinfo).
    
	      return "SPOOL suspect post from $user" if ($user =
    "maybebadguy");
    
	      will spool posts from "maybebadguy" for manual inspection,
    while
	      returning success to the posting client.	They can be
    injected
	      manually with rnews after inspection (unless they are
    destined for
	      moderated newsgroups).  (This example requires authinfo.)

Wed Aug 05 06:02:31 1998  <kondou>

  * innd/art.c (1.82):
    innd/art.c:
	    - fixed compilation error

Wed Aug 05 05:36:54 1998  <kondou>

  * storage/timehash/timehash.c (1.25):
    storage/timehash/timehash.c:
	    - examine to see if madvise() works

Wed Aug 05 05:36:23 1998  <kondou>

  * storage/cnfs/cnfs.c (1.41):
    storage/cnfs/cnfs.c:
	    - examine to see if madvise() works

Wed Aug 05 05:35:56 1998  <kondou>

  * nnrpd/article.c (1.46):
    nnrpd/article.c:
	    - examine to see if madvise() works

Wed Aug 05 05:35:16 1998  <kondou>

  * lib/localopen.c (1.5):
  * lib/dbz.c (1.27):
  * lib/inndcomm.c (1.6):
    lib/dbz.c:
	    - examine to see if madvise() works
    lib/inndcomm.c:
	    - From: Michael Statman <mss@networkresources.net>
	    - has 'inconf' should be 'innconf'
    lib/localopen.c:
	    - From: Michael Statman <mss@networkresources.net>
	    - NNTPconnect() needs port number

Wed Aug 05 05:32:45 1998  <kondou>

  * innd/art.c (1.81):
    innd/art.c:
	    - set Path for ihave/sendme processing if logipaddr is true

Wed Aug 05 05:31:08 1998  <kondou>

  * include/config.h.in (1.24):
    include/config.h.in:
	    - examine to see if madvise() works

Wed Aug 05 05:30:28 1998  <kondou>

  * configure (1.86):
  * configure.in (1.88):
    configure.in:
    configure:
	    - examine to see if madvise() works

Tue Aug 04 06:59:36 1998  <kondou>

  * samples/pgpverify.in (1.18):
    samples/pgpverify.in:
	    - From: Alexandre Oliva <oliva@dcc.unicamp.br>
	    - I've just noticed inn 2.1's pgpverify script doesn't take the
    PGP
	      pathname guessed by the configure script into account. 
    Here's a patch
	      that fixes this problem.

Mon Aug 03 06:17:12 1998  <kondou>

  * innd/rc.c (1.30):
    innd/rc.c:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - In RCreadfile(), there is a main loop which maintains two
    variables,
	      *count and rp. *count keeps count of the number of peer
    structures
	      currently in the list, and rp points to the last one. 
    Normally
	      these two variables get incremented in sync, but if a
    hostname
	      lookup fails, *count is updated (actually was incremented
    earlier),
	      but rp isn't (and shouldn't, as we have no valid peer data to
    add).
	      This leads to *count being larger than the number of peer
    structures
	      initialized, so when RCreadfile() or RCclose() is next
    called, the
	      code attempts to free garbage that was never initialized. 
    The patch
	      below decrements *count if a hostname lookup fails.

Sun Aug 02 23:57:52 1998  <kondou>

  * samples/checkgroups.in (1.13):
  * samples/innshellvars.in (1.18):
    samples/checkgroups.in:
	    - checkgroups referred to undefined parameter.
    samples/innshellvars.in:
	    - PATHLIB is not defined at inn.conf

Sun Aug 02 23:56:01 1998  <kondou>

  * innfeed/connection.c (1.20):
    innfeed/connection.c:
	    - From: Christopher Masto <chris@netmonger.net>
	    - I needed this feature, so I patched it in.. I just noticed
    that
	      someone else has already done this.  Oh well.  It doesn't
    seem to be
	      in the current tree, so here it is in case someone
    desperately needs
	      it.
    
	      It's pretty much the same syntax as in inn.conf, but I didn't
    bother
	      supporting "any" and I didn't check the environment variable.
     It
	      should really do both, for consistency of behavior.

Fri Jul 31 06:23:10 1998  <kondou>

  * innfeed/sysconfig.h (1.14):
    innfeed/sysconfig.h:
	    - HAVE_MMAP is defined at config.h (to avoid duplicate
    definition)

Fri Jul 31 06:08:06 1998  <kondou>

  * lib/Makefile (1.33):
    lib/Makefile:
	    - making perl.o has some problem

Thu Jul 30 23:45:11 1998  <kondou>

  * makedirs.sh.in (1.11):
    makedirs.sh.in:
	    - PATHMAN shoud be @MANDIR@

Thu Jul 30 23:44:37 1998  <kondou>

  * lib/Makefile (1.32):
    lib/Makefile:
	    - use $(LIBCCWITHOUTLIBTOOL) for compiling perl.c and endian.c

Thu Jul 30 23:42:10 1998  <kondou>

  * innfeed/Makefile (1.28):
    innfeed/Makefile:
	    - $(LIBS) is placed at the end of line

Thu Jul 30 23:41:10 1998  <kondou>

  * configure (1.85):
  * configure.in (1.87):
    configure.in:
    configure:
	    - examine __inet_addr() and __inet_aton() for libbind

Thu Jul 30 23:39:01 1998  <kondou>

  * Makefile.global.in (1.21):
    Makefile.global.in:
	    - add LIBCCWITHOUTLIBTOOL for lib/Makefile

Thu Jul 30 23:37:54 1998  <kondou>

  * storage/cnfs/cnfs.c (1.40):
    storage/cnfs/cnfs.c:
	    - From: Florian La Roche <florian@suse.de>
	    - should return FALSE instead of NULL

Thu Jul 30 23:36:55 1998  <kondou>

  * lib/reservedfd.c (1.4):
    lib/reservedfd.c:
	    - From: Florian La Roche <florian@suse.de>
	    - refer '\0' instead of NULL

Thu Jul 30 23:36:01 1998  <kondou>

  * innfeed/startinnfeed.c (1.8):
    innfeed/startinnfeed.c:
	    - From: Florian La Roche <florian@suse.de>
	    - main type is int

Wed Jul 29 00:53:28 1998  <kondou>

  * storage/Makefile (1.31):
    storage/Makefile:
	    - use installit.sh to install libstorage instead of cp

Wed Jul 29 00:52:48 1998  <kondou>

  * lib/Makefile (1.31):
    lib/Makefile:
	    - use installit.sh to install libinn instead of cp

Wed Jul 29 00:51:18 1998  <kondou>

  * frontends/inews.c (1.13):
    frontends/inews.c:
	    - From: J Scott Berg <jsberg@indiana.edu>
	    - There's a bug in inews which occurs when posting to moderated
	      newsgroups via a remote server.  A copy of the active file
    from the
	      server is left in the tmp directory.  A patch for inews.c is
    included
	      later in this message (it's identical to the patch I sent in
    for the
	      same problem in 1.7.2...)

Sat Jul 25 06:45:22 1998  <kondou>

  * innd/chan.c (1.29):
    innd/chan.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - cp->MaxCnx and cp->ActiveCnx are only initialized once, by a
    memset()
	      in CHANsetup.  I think inn will start screwing up royally if
    it
	      closes a channel, then closes a remote NNTP channel because
    of too
	      many active connections, then opens a new channel using the
    remote
	      NNTP channel's old file descriptor..  INN will notice that
    MaxCnx is
	      not zero, and ActiveCnx is also too big (that's why the last
    got
	      closed down, anyway), and kill the new process without any
    reason
	      why.  I _think_ this explains my problems with innfeed
    (posted to
	      inn-workers yesterday), but at the very least, this is one
    less
	      place to look and we should always initialize these
    variables.

Fri Jul 24 13:43:06 1998  <kondou>

  * samples/nntpsend.in (1.11):
    samples/nntpsend.in:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - Old nntpsend bug (1.5.1 have this error):

Fri Jul 24 13:42:32 1998  <kondou>

  * frontends/rnews.c (1.15):
    frontends/rnews.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - rnews don't understand gzip batches:

Fri Jul 24 13:38:29 1998 James Brister <brister>

  * README (1.4):
    Update for 2.1

Fri Jul 24 13:38:14 1998 James Brister <brister>

  * include/patchlevel.h (1.6):
    Adjust date.

Fri Jul 24 02:03:40 1998  <kondou>

  * expire/expire.c (1.54):
    expire/expire.c:
	    - still has problem with '-d' ('go' even with this option)

Thu Jul 23 17:22:48 1998 James Brister <brister>

  * INSTALL (1.11):
    Shifted the buffer-creation section around to make things hopefully a
    little clearer.

Thu Jul 23 16:06:38 1998 James Brister <brister>

  * configure (1.84):
  * configure.in (1.86):
    Fixed a letter-case typo.

Thu Jul 23 12:20:17 1998 James Brister <brister>

  * configure (1.83):
  * configure.in (1.85):
    Fixed broken variable usage.

Thu Jul 23 12:02:34 1998 James Brister <brister>

  * configure (1.82):
  * configure.in (1.84):
    Fixed broken use of shell variable.

Thu Jul 23 00:00:30 1998  <kondou>

  * storage/cnfs/cnfs-private.h (1.9):
  * storage/cnfs/cnfs.c (1.39):
    storage/cnfs/cnfs-private.h:
    storage/cnfs/cnfs.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - As promised on inn-workers..  This patch is against the 2.1
    test
	      release James Brister posted yesterday.  I'm not completely
	      comfortable with the config.scoreboard patch..  In particular
    the
	      +[IN1.7=@NO][WDF=autoconf][WOR=no]
	      line..  If someone more comfortable with the
    config.scoreboard file
	      took a look, it'd be cool, but it seems to work fine for me,
    so I'm
	      not particularly worried.

Wed Jul 22 23:59:04 1998  <kondou>

  * include/config.h.in (1.23):
    include/config.h.in:
	    - From: Aidan Cully <aidan@panix.com>
	    - As promised on inn-workers..  This patch is against the 2.1
    test
	      release James Brister posted yesterday.  I'm not completely
	      comfortable with the config.scoreboard patch..  In particular
    the
	      +[IN1.7=@NO][WDF=autoconf][WOR=no]
	      line..  If someone more comfortable with the
    config.scoreboard file
	      took a look, it'd be cool, but it seems to work fine for me,
    so I'm
	      not particularly worried.

Wed Jul 22 23:57:58 1998  <kondou>

  * configure (1.81):
  * configure.in (1.83):
    configure.in:
    configure:
	    - From: Aidan Cully <aidan@panix.com>
	    - As promised on inn-workers..  This patch is against the 2.1
    test
	      release James Brister posted yesterday.  I'm not completely
	      comfortable with the config.scoreboard patch..  In particular
    the
	      +[IN1.7=@NO][WDF=autoconf][WOR=no]
	      line..  If someone more comfortable with the
    config.scoreboard file
	      took a look, it'd be cool, but it seems to work fine for me,
    so I'm
	      not particularly worried.

Wed Jul 22 23:56:37 1998  <kondou>

  * config/config.scoreboard (1.55):
    config/config.scoreboard:
	    - From: Aidan Cully <aidan@panix.com>
	    - As promised on inn-workers..  This patch is against the 2.1
    test
	      release James Brister posted yesterday.  I'm not completely
	      comfortable with the config.scoreboard patch..  In particular
    the
	      +[IN1.7=@NO][WDF=autoconf][WOR=no]
	      line..  If someone more comfortable with the
    config.scoreboard file
	      took a look, it'd be cool, but it seems to work fine for me,
    so I'm
	      not particularly worried.

Wed Jul 22 20:39:55 1998 James Brister <brister>

  * INSTALL (1.10):
    Added a section about boot time.

Wed Jul 22 20:08:47 1998 James Brister <brister>

  * configure.in (1.82):
  * configure (1.80):
    Check for Digital Unix and if it is then don't look for malloc.h
    as the DU version is missing the function prototypes and this confuses
    configure.

Wed Jul 22 18:32:55 1998 James Brister <brister>

  * MANIFEST (1.11):
    Dropped CHANGES file.

Wed Jul 22 14:30:18 1998 James Brister <brister>

  * CONTRIBUTORS (1.12):
    Added mki@primenet.com

Wed Jul 22 14:28:45 1998 James Brister <brister>

  * nnrpd/article.c (1.45):
    Fixed error in overview data retrieval when overviewmmap is defined
    and traditional spool is used. (provided by mki@primenet.com)

Wed Jul 22 12:11:19 1998 James Brister <brister>

  * CONTRIBUTORS (1.11):
    Fixed up Landon Curt Noll's entry.

Tue Jul 21 23:39:10 1998  <kondou>

  * storage/cnfs/cnfs.c (1.38):
    storage/cnfs/cnfs.c:
	    - remove #ifdef XXX to have pagesize statically.

Tue Jul 21 21:39:14 1998 James Brister <brister>

  * nnrpd/commands.c (1.18):
    Added missing return statement. (provided by mki@primenet.com)

Tue Jul 21 14:43:40 1998  <kondou>

  * innfeed/startinnfeed.c (1.7):
    innfeed/startinnfeed.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Use the configure generated NEWSUSER

Tue Jul 21 08:01:08 1998  <kondou>

  * INSTALL (1.9):
    INSTALL:
	    - symbolic buffer name should be limited to 7 characters

Tue Jul 21 07:21:00 1998  <kondou>

  * expire/expire.c (1.53):
    expire/expire.c:
	    - still did not fix the previous problem

Tue Jul 21 07:09:12 1998  <kondou>

  * expire/expire.c (1.52):
    expire/expire.c:
	    - fixes mistake when applying previous patch

Mon Jul 20 06:49:19 1998 James Brister <brister>

  * samples/version.in (1.14):
  * include/patchlevel.h (1.5):
    Change version number for new release.

Sat Jul 18 17:22:47 1998  <kondou>

  * expire/expire.c (1.51):
    expire/expire.c:
	    - From: Jon Harley <cudce@csv.warwick.ac.uk>
	    - However, expire does NOT leave the server paused unless the
    -d
	      flag is used as well. This is pretty serious because the new
    history
	      file gets installed containing offsets into the new unified
    overview
	      files, but those files don't get installed and nnrpd starts
    to give
	      wildly wrong XOVER information, causing some newsreaders to
    break
	      badly.

Sat Jul 18 16:54:11 1998  <kondou>

  * samples/inncheck.in (1.17):
    samples/inncheck.in:
	    - $inn::pathlib is never used in inn.conf
	    - makegroup and updatemods is never installed
	    - innlog.pl has gone

Thu Jul 16 23:20:15 1998  <kondou>

  * samples/rc.news.in (1.19):
    samples/rc.news.in:
	    - From: Olaf Titz <olaf@bigred.inka.de>
	    - Invoking rc.news while the news system is running causes a
    message
	      from inndstart that the NNTP port is not available and exit,
    but
	      immediately before that rc.news has already removed innd's
    pid file
	      and sockets, leaving the running innd unusable. Some sanity
    checking
	      like this (untested) would be in order:

Thu Jul 16 23:04:21 1998  <kondou>

  * innd/nc.c (1.35):
    innd/nc.c:
	    - innd dumped core if msgid filter rejected msgid when
    processing ihave.

Tue Jul 14 00:02:08 1998  <kondou>

  * samples/innreport_inn.pm (1.5):
    samples/innreport_inn.pm:
	    - From: Aidan Cully <aidan@panix.com>
	    - This patch adds a new type of timer variable to innd (for
    timing the
	      perl filter), and regularizes the timer output.  I've also
    modified
	      the stock innreport_inn.pm to understand the new timer
    output.

Tue Jul 14 00:01:28 1998  <kondou>

  * innd/art.c (1.80):
  * innd/innd.h (1.41):
  * innd/timer.c (1.9):
    innd/innd.h:
    innd/timer.c:
    innd/art.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - This patch adds a new type of timer variable to innd (for
    timing the
	      perl filter), and regularizes the timer output.  I've also
    modified
	      the stock innreport_inn.pm to understand the new timer
    output.

Mon Jul 13 23:59:44 1998  <kondou>

  * configure.in (1.81):
  * configure (1.79):
    configure:
    configure.in:
	    - From: Frederick Korz <korz@cs.columbia.edu>
	    - there is an error in testing for nonblocking IO in
    configure.in.

Sun Jul 12 01:25:39 1998  <kondou>

  * samples/rc.news.in (1.18):
    samples/rc.news.in:
	    - From: "Todd C. Miller" <Todd.Miller@courtesan.com>
	    - history lives in PATHDB now and there is a missing backslash.

Sat Jul 11 03:47:57 1998  <kondou>

  * innfeed/main.c (1.18):
  * innfeed/startinnfeed.c (1.6):
  * innfeed/endpoint.c (1.14):
    innfeed/endpoint.c:
    innfeed/startinnfeed.c:
    innfeed/main.c:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - the "endpointsServiced" bug in innfeed still isn't fixed.

Thu Jul 09 23:17:41 1998  <kondou>

  * samples/innreport.in (1.16):
    samples/innreport.in:
	    - From: Aidan Cully <aidan@panix.com>
	    - The second adds an option to innreport to tell it not to put
    'unknown
	      log entries' in the html output (for security reasons).

Thu Jul 09 23:17:07 1998  <kondou>

  * lib/getconfig.c (1.41):
    lib/getconfig.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - The first makes the location of inn.conf setable by the
    environment
	      variable $INNCONF.  It only modifies lib/getconfig.c, so it
    may be
	      incomplete for things that don't use libinn.a, but it's at
    least a
	      start.

Thu Jul 09 23:16:28 1998  <kondou>

  * frontends/sm.c (1.12):
    frontends/sm.c:
	    - sm referred undefined area if overview data retrieval was
    failed.

Tue Jul 07 09:27:03 1998  <kondou>

  * Makefile (1.18):
    Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - move libtool to 'real-clean' from 'clean' so that we can
	      still do a 'make' after a 'make clean' (if using libtool).

Tue Jul 07 08:47:59 1998  <kondou>

  * innd/site.c (1.22):
    innd/site.c:
	    - do not open if Data->Name is a token for program feed.

Mon Jul 06 23:20:06 1998  <kondou>

  * samples/checkgroups.in (1.12):
    samples/checkgroups.in:
	    - path to docheckgroups was incorrect.

Mon Jul 06 23:19:13 1998  <kondou>

  * nnrpd/nnrpd.c (1.43):
    nnrpd/nnrpd.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - closes a file descriptor leak for nnrpd in daemon mode
	    - lets nnrpd write an nnrpd.pid in [pathrun] when in daemon
    mode

Mon Jul 06 07:24:18 1998  <kondou>

  * lib/dbz.c (1.26):
    lib/dbz.c:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - lib/dbz.c: still tried to mmap files.  I replaced INCORE_MMAP
    with
	      INCORE_NO in lib/dbz.c:dbzsetoptions() depending on
    HAVE_MMAP, and
	      #if'ed out several other parts depending on HAVE_MMAP too. 
    --- These
	      changes are probably a bit overeager :-/

Mon Jul 06 07:23:42 1998  <kondou>

  * innfeed/innlistener.c (1.10):
  * innfeed/main.c (1.17):
  * innfeed/sysconfig.h (1.13):
    innfeed/innlistener.c:
	    - suppress syslog message if HAVE_SOCKETPAIR is defined and
    errorno is
	      ECONNABORTED.
    innfeed/main.c:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - innfeed/main.c tries to unconditionally
	      [gs]etrlimit(RLIMIT_NOFILE,&rl), but Ultrix does not support
	      RLIMIT_NOFILE.  I conditionalized it on NOFILE_LIMIT > 0,
    which is -1.
    innfeed/sysconfig.h:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - I added a ULTRIX specific section to innfeed/sysconfig.h.

Mon Jul 06 07:21:00 1998  <kondou>

  * innd/his.c (1.32):
    innd/his.c:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - The string arguments to syslog(3) if dbzinit(HIShispath) in
	      innd/his.c:103-104 failed are permuted.

Mon Jul 06 07:20:26 1998  <kondou>

  * include/config.h.in (1.22):
    include/config.h.in:
	    - From: Christian von Roques <roques@pond.sub.org>
	    - In configure.in:392-493 you check for a working mmap, but if
	      mmap(2)ing files does not work, some places still try to use
    it.  I
	      added an entry for HAVE_MMAP into include/config.h.in

Sun Jul 05 08:57:38 1998  <kondou>

  * expire/fastrm.c (1.14):
    expire/fastrm.c:
	    - still had typo.

Sun Jul 05 08:08:35 1998  <kondou>

  * expire/fastrm.c (1.13):
    expire/fastrm.c:
	    - fixed typo.

Sat Jul 04 12:13:49 1998  <kondou>

  * expire/fastrm.c (1.12):
    expire/fastrm.c:
	    - SMinit() is needed only if innconf->stotageapi is TRUE.

Sat Jul 04 09:16:14 1998  <kondou>

  * lib/getconfig.c (1.40):
    lib/getconfig.c:
	    - From: Sven Paulus <sven@tin.org>
	    - I don't know, if this patch is the right way to go: I don't
    see any
	      reasons why somebody should want trailing whitespaces in
    inn.conf
	      lines (for filenames etc. including spaces, maybe a quoting
	      mechanism should be integrated), since a trailing space is
    easily
	      added by mistake, especially an "option: true " line will
    turn into
	      an "option: false" line.

Sat Jul 04 09:12:07 1998  <kondou>

  * lib/Makefile (1.30):
    lib/Makefile:
	    - 'LOBJECTS        = $(OBJECTS:.o=.$(EXTOBJ))' was not
	      extracted correctly for some make.

Fri Jul 03 15:16:54 1998  <kondou>

  * storage/trash/Makefile (1.4):
    storage/trash/Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Use variables for LIBTOOL and object/lib extensions

Fri Jul 03 15:16:10 1998  <kondou>

  * storage/timehash/Makefile (1.17):
    storage/timehash/Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Use variables for LIBTOOL and object/lib extensions

Fri Jul 03 15:15:26 1998  <kondou>

  * storage/cnfs/Makefile (1.11):
    storage/cnfs/Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Use variables for LIBTOOL and object/lib extensions

Fri Jul 03 15:14:47 1998  <kondou>

  * storage/Makefile (1.30):
    storage/Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Use variables for LIBTOOL and object/lib extensions

Fri Jul 03 15:14:02 1998  <kondou>

  * lib/Makefile (1.29):
    lib/Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Use variables for LIBTOOL and object/lib extensions

Fri Jul 03 15:13:11 1998  <kondou>

  * configure (1.78):
  * Makefile.global.in (1.20):
  * aclocal.m4 (1.2):
    Makefile.global.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - use configure options for LIBTOOL
	    - add some extra variables to determine object/lib extensions
    
    aclocal.m4:
    configure:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Check for --disable-libtool
	    - Set some variables to be subst'ed

Thu Jul 02 02:17:47 1998  <kondou>

  * innd/nc.c (1.34):
    innd/nc.c:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - This patch adds a "noresendid" flag for the incoming.conf
    file.
	      This flag defines whether innd should send 431 RESENDID if a
	      message is offered that is already being received.
	      I added this to compensate for peers that resend messages
    right away
	      (innfeed does this). The default is 'false', of course.

Thu Jul 02 02:17:23 1998  <kondou>

  * innd/rc.c (1.29):
    innd/rc.c:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - This patch adds a "noresendid" flag for the incoming.conf
    file.
	      This flag defines whether innd should send 431 RESENDID if a
	      message is offered that is already being received.
	      I added this to compensate for peers that resend messages
    right away
	      (innfeed does this). The default is 'false', of course.

Thu Jul 02 02:16:58 1998  <kondou>

  * innd/chan.c (1.28):
    innd/chan.c:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - This patch adds a "noresendid" flag for the incoming.conf
    file.
	      This flag defines whether innd should send 431 RESENDID if a
	      message is offered that is already being received.
	      I added this to compensate for peers that resend messages
    right away
	      (innfeed does this). The default is 'false', of course.

Thu Jul 02 02:16:33 1998  <kondou>

  * innd/innd.h (1.40):
    innd/innd.h:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - This patch adds a "noresendid" flag for the incoming.conf
    file.
	      This flag defines whether innd should send 431 RESENDID if a
	      message is offered that is already being received.
	      I added this to compensate for peers that resend messages
    right away
	      (innfeed does this). The default is 'false', of course.

Thu Jul 02 02:09:41 1998  <kondou>

  * lib/inndcomm.c (1.5):
    lib/inndcomm.c:
	    - read inn.conf if it is not

Tue Jun 30 14:55:55 1998  <kondou>

  * storage/cnfs/cnfs.c (1.37):
    storage/cnfs/cnfs.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - The same 'error' line in cnfs_cancel function (line 1268,
	      inn-1998-06-30_04-00/storage/cnfs/cnfs.c).

Tue Jun 30 09:08:15 1998  <kondou>

  * innd/chan.c (1.27):
    innd/chan.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - channel buffer should have at least START_BUFF_SIZE.

Tue Jun 30 03:32:05 1998  <kondou>

  * backends/overchan.c (1.20):
    backends/overchan.c:
	    - suppress overchan's error msg to errlog if its channel is
    closed
	      'overchan cant read Software caused connection abort'
	      this may happen if socketpair() is used in innd.

Mon Jun 29 15:05:49 1998  <kondou>

  * storage/cnfs/cnfs.c (1.36):
    storage/cnfs/cnfs.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - delete useless line

Sun Jun 28 12:34:54 1998  <kondou>

  * samples/inncheck.in (1.16):
    samples/inncheck.in:
	    - From: Michael Hall <mhall@riverside.org>
	    - Heres a patch to get rid of the 'invalid field' messages from
	      'inncheck'.  Basically it just fixes a few typos (missing
    '_') and
	      wasn't checking for fields which exist in the
    '%inn_conf'optionals'.
	      Kind of nice to run 'inncheck' now and get a clean bill of
    health :-)

Sat Jun 27 15:11:59 1998  <kondou>

  * storage/cnfs/cnfs.c (1.35):
    storage/cnfs/cnfs.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - After rollover we got negative answer for new articles
	      till CNFSReadFreeAndCycle (cycbuff->cyclenum has previous
    value).

Sat Jun 27 15:10:48 1998  <kondou>

  * innfeed/procbatch.in (1.3):
    innfeed/procbatch.in:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - check for sm filename.

Sat Jun 27 14:18:28 1998  <kondou>

  * expire/makehistory.c (1.47):
    expire/makehistory.c:
	    - did create only one entry.

Sat Jun 27 03:02:48 1998  <kondou>

  * lib/endian.c (1.8):
    lib/endian.c:
	    - From: Yasushi Saito <saito@pa.dec.com>
	    - dunix cc doesn't define __alpha__.

Sat Jun 27 02:49:51 1998  <kondou>

  * config.guess (1.2):
    config.guess:
	    - patch for MIPS 10000 on UX/4800

Fri Jun 26 05:03:35 1998  <kondou>

  * frontends/Makefile (1.29):
    frontends/Makefile:
	    - From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
	    - revert to 1.27

Fri Jun 26 00:45:50 1998  <kondou>

  * samples/inncheck.in (1.15):
  * samples/inn.conf.in (1.12):
    samples/inn.conf.in:
    samples/inncheck.in:
	    - add new parameter storemsgid to use <msgid> format for non-
	      storage api use

Fri Jun 26 00:45:31 1998  <kondou>

  * makedirs.sh.in (1.10):
    makedirs.sh.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Add PATHLIB to the list of directories created for install

Fri Jun 26 00:45:17 1998  <kondou>

  * lib/getconfig.c (1.39):
    lib/getconfig.c:
	    - add new parameter storemsgid to use <msgid> format for non-
	      storage api use

Fri Jun 26 00:45:01 1998  <kondou>

  * lib/Makefile (1.28):
    lib/Makefile:
	    - 'install' depends on all
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Don't include perl.o in libinn - doing so has lots of
    repercussions
	      that will need to be addressed if it is included. Remove for
    now.

Fri Jun 26 00:44:34 1998  <kondou>

  * innd/his.c (1.31):
    innd/his.c:
	    - add new parameter storemsgid to use <msgid> format for non-
	      storage api use

Fri Jun 26 00:44:16 1998  <kondou>

  * include/innconf.h (1.9):
  * include/libinn.h (1.41):
    include/innconf.h:
    include/libinn.h:
	    - add new parameter storemsgid to use <msgid> format for non-
	      storage api use

Fri Jun 26 00:43:55 1998  <kondou>

  * frontends/Makefile (1.28):
    frontends/Makefile:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - remove duplicated $(LIBNEWS)

Fri Jun 26 00:43:36 1998  <kondou>

  * expire/makehistory.c (1.46):
    expire/makehistory.c:
	    - add new parameter storemsgid to use <msgid> format for non-
	      storage api use

Fri Jun 26 00:42:58 1998  <kondou>

  * backends/Makefile (1.21):
    backends/Makefile:
	    - 'install' depends on all

Thu Jun 25 14:37:27 1998  <kondou>

  * ltconfig (1.2):
    ltconfig:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Remove quotes around $0 to prevent literal \n

Thu Jun 25 09:10:27 1998  <kondou>

  * lib/Makefile (1.27):
    lib/Makefile:
	    - back perl.o to OBJECTS from all:

Thu Jun 25 08:54:11 1998  <kondou>

  * storage/Makefile (1.29):
    storage/Makefile:
	    - change rpath to $(PATHLIB)

Thu Jun 25 08:53:23 1998  <kondou>

  * lib/Makefile (1.26):
    lib/Makefile:
	    - change rpath to $(PATHLIB)

Thu Jun 25 06:26:44 1998  <kondou>

  * configure (1.77):
  * configure.in (1.80):
  * MANIFEST (1.10):
    MANIFEST:
	    - update for newly added files
    configure.in:
    configure:
	    - chmod libtool is not needed

Thu Jun 25 06:10:22 1998  <kondou>

  * ltmain.sh (1.1):
  * makedirs.sh.in (1.9):
    ltmain.sh:
    makedirs.sh.in:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:09:00 1998  <kondou>

  * samples/version.in (1.13):
  * samples/writelog.in (1.7):
  * samples/sendsys.in (1.10):
  * samples/senduuname.in (1.10):
  * samples/tally.control.in (1.7):
  * samples/send-nntp.in (1.9):
  * samples/send-uucp.in (1.10):
  * samples/sendbatch.in (1.11):
  * samples/sendme.in (1.11):
  * samples/send-ihave.in (1.9):
  * samples/rmgroup.in (1.11):
  * samples/scanlogs.in (1.20):
  * samples/scanspool.in (1.10):
  * samples/parsecontrol.in (1.16):
  * samples/pgpverify.in (1.17):
  * samples/rc.news.in (1.17):
  * samples/newgroup.in (1.10):
  * samples/news.daily.in (1.26):
  * samples/nntpsend.in (1.10):
  * samples/innshellvars.pl.in (1.17):
  * samples/innshellvars.tcl.in (1.15):
  * samples/innstat.in (1.11):
  * samples/innwatch.in (1.8):
  * samples/innshellvars.in (1.17):
  * samples/innmail.in (1.9):
  * samples/innreport.conf.in (1.7):
  * samples/innreport.in (1.15):
  * samples/docheckgroups.in (1.9):
  * samples/expirerm.in (1.9):
  * samples/ihave.in (1.10):
  * samples/inncheck.in (1.14):
  * samples/checkgroups.in (1.11):
  * samples/default.in (1.10):
    samples/checkgroups.in:
    samples/default.in:
    samples/docheckgroups.in:
    samples/expirerm.in:
    samples/ihave.in:
    samples/inncheck.in:
    samples/innmail.in:
    samples/innreport.conf.in:
    samples/innreport.in:
    samples/innshellvars.csh.in:
    samples/innshellvars.in:
    samples/innshellvars.pl.in:
    samples/innshellvars.tcl.in:
    samples/innstat.in:
    samples/innwatch.in:
    samples/newgroup.in:
    samples/news.daily.in:
    samples/nntpsend.in:
    samples/parsecontrol.in:
    samples/pgpverify.in:
    samples/rc.news.in:
    samples/rmgroup.in:
    samples/scanlogs.in:
    samples/scanspool.in:
    samples/send-ihave.in:
    samples/send-nntp.in:
    samples/send-uucp.in:
    samples/sendbatch.in:
    samples/sendme.in:
    samples/sendsys.in:
    samples/senduuname.in:
    samples/tally.control.in:
    samples/version.in:
    samples/writelog.in:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:03:00 1998  <kondou>

  * storage/trash/Makefile (1.3):
    storage/trash/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:02:40 1998  <kondou>

  * storage/timehash/Makefile (1.16):
    storage/timehash/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:02:23 1998  <kondou>

  * storage/cnfs/Makefile (1.10):
    storage/cnfs/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:02:04 1998  <kondou>

  * storage/Makefile (1.28):
    storage/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:01:36 1998  <kondou>

  * site/Makefile (1.34):
    site/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:01:08 1998  <kondou>

  * nnrpd/Makefile (1.21):
    nnrpd/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:00:46 1998  <kondou>

  * lib/Makefile (1.25):
    lib/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 06:00:20 1998  <kondou>

  * innfeed/config_l.c (1.6):
  * innfeed/sysconfig.h (1.12):
  * innfeed/Makefile (1.27):
  * innfeed/configfile.y (1.8):
  * innfeed/procbatch.in (1.2):
  * innfeed/configfile.l (1.4):
    innfeed/configfile.l:
    innfeed/Makefile:
    innfeed/configfile.y:
    innfeed/procbatch.in:
    innfeed/sysconfig.h:
    innfeed/config_l.c:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 05:58:53 1998  <kondou>

  * innd/Makefile (1.32):
    innd/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 05:58:32 1998  <kondou>

  * frontends/Makefile (1.27):
    frontends/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 05:58:09 1998  <kondou>

  * expire/Makefile (1.20):
    expire/Makefile:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 05:57:45 1998  <kondou>

  * backends/Makefile (1.20):
  * backends/actmerge.sh.in (1.2):
  * backends/actsyncd.sh.in (1.2):
  * backends/sendxbatches.sh.in (1.3):
    backends/Makefile:
    backends/actmerge.sh.in:
    backends/actsyncd.sh.in:
    backends/sendxbatches.sh.in:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Thu Jun 25 05:56:43 1998  <kondou>

  * install-sh (1.1):
  * ltconfig (1.1):
  * configure (1.76):
  * config.sub (1.1):
  * configure.in (1.79):
  * Makefile (1.17):
  * aclocal.m4 (1.1):
  * config.guess (1.1):
  * INSTALL (1.8):
  * Makefile.global.in (1.19):
    INSTALL:
    Makefile.global.in:
    Makefile:
    aclocal.m4:
    config.guess:
    config.sub:
    configure.in:
    configure:
    install-sh:
    ltconfig:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Patch to produce dynamic libraries, new lib directory

Wed Jun 24 01:15:32 1998  <kondou>

  * expire/makehistory.c (1.45):
  * expire/expire.c (1.50):
    expire/expire.c:
    expire/makehistory.c:
	    - didn't consider traditional spool if [HASH] format is used.

Wed Jun 24 01:14:17 1998  <kondou>

  * INSTALL (1.7):
    INSTALL:
	    - From: Phillip Porch <root@sco.theporch.com>
	    - Another SSO patch to the INSTALL document.

Tue Jun 23 02:41:15 1998  <kondou>

  * MANIFEST (1.9):
    MANIFEST:
	    - add newly added file 'doc/send-uucp.8'

Tue Jun 23 02:39:39 1998  <kondou>

  * site/Makefile (1.33):
    site/Makefile:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch is almost the same as I posted a few weeks ago, it
    was
	      requested that I reposted it after the initial 2.0 release.
    So here
	      it is .. it does the following:
    
	      1. Adds manual page for send-uucp
	      2. Cleans up send-uucp, send-nntp, send-ihave so that they
    all take
		 the same command line args and have one common manual page
	      3. Moves those scripts to pathbin instead of pathetc
    
	      4. Moves pathetc/default back to pathcontrol/default
		 Motivation: it's not ment to be modified and "default" is
    a
		 misleading name for a file in pathetc
    
	      5. Moves .news.daily from pathetc to pathdb. Motivation:
    
		 From: uli@tallowcross.uni-frankfurt.de (Uli Zappe)
    
		 No, it's not really a lock file. It stores the last time
		 news.daily was run. rc.news uses this information to check
		 whether news.daily was run the last day.
    
		 So it's more a "micro database" including only one entry,
    than a
		 lockfile.

Tue Jun 23 02:38:57 1998  <kondou>

  * samples/innreport.in (1.14):
  * samples/send-ihave.in (1.8):
  * samples/send-nntp.in (1.8):
  * samples/send-uucp.in (1.9):
  * samples/inncheck.in (1.13):
  * samples/news.daily.in (1.25):
  * samples/rc.news.in (1.16):
    samples/inncheck.in:
    samples/news.daily.in:
    samples/rc.news.in:
    samples/send-ihave.in:
    samples/send-nntp.in:
    samples/send-uucp.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch is almost the same as I posted a few weeks ago, it
    was
	      requested that I reposted it after the initial 2.0 release.
    So here
	      it is .. it does the following:
    
	      1. Adds manual page for send-uucp
	      2. Cleans up send-uucp, send-nntp, send-ihave so that they
    all take
		 the same command line args and have one common manual page
	      3. Moves those scripts to pathbin instead of pathetc
    
	      4. Moves pathetc/default back to pathcontrol/default
		 Motivation: it's not ment to be modified and "default" is
    a
		 misleading name for a file in pathetc
    
	      5. Moves .news.daily from pathetc to pathdb. Motivation:
    
		 From: uli@tallowcross.uni-frankfurt.de (Uli Zappe)
    
		 No, it's not really a lock file. It stores the last time
		 news.daily was run. rc.news uses this information to check
		 whether news.daily was run the last day.
    
		 So it's more a "micro database" including only one entry,
    than a
		 lockfile.
    samples/innreport.in:
	    - From: Aidan Cully <aidan@panix.com>
	    - To fix those annoying
	      "my" variable $i masks earlier declaration at the same scope
    blah
	      blah blah messages in news.daily's output:
    samples/newsfeeds:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds configure detection for the socketpair()
    system call.
	      Innd uses that instead of pipe() when creating a channel. The
	      advantage is a bigger internal buffer, typically 32767 bytes
    instead
	      of 4096.
    
	      Note that most sysv systems already implement pipe() as just
    a call
	      to socketpair(), and that the two are almost the same.
    
	      The patch also increases the max. buffer size in the sample
	      newsfeeds for the innfeed process to 30000 (just below 32767)
    and
	      sets a max. buffer size for the overchan process, without
    which my
	      innd grows without bounds ..
    
	      With this in place I have had no DEBUG ERROR SITEspool
    trashed
	      messages anymore, and no corrupted channels.. If innd starts
	      spooling a channel, it writes the complete backlog instead of
	      partially.

Tue Jun 23 02:36:51 1998  <kondou>

  * nnrpd/group.c (1.26):
    nnrpd/group.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - group flag could not get correctly.

Tue Jun 23 02:36:22 1998  <kondou>

  * innfeed/config_l.c (1.5):
  * innfeed/configfile.l (1.3):
    innfeed/config_l.c:
    innfeed/configfile.l:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - I use $INCLUDE in my innfeed.conf file and as a result my
    logfiles
	      (and news.daily report) are full with debug messages.

Tue Jun 23 02:35:50 1998  <kondou>

  * innd/site.c (1.21):
  * innd/art.c (1.79):
    innd/art.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch is almost the same as I posted a few weeks ago, it
    was
	      requested that I reposted it after the initial 2.0 release.
    So here
	      it is .. it does the following:
    
	      1. Adds manual page for send-uucp
	      2. Cleans up send-uucp, send-nntp, send-ihave so that they
    all take
		 the same command line args and have one common manual page
	      3. Moves those scripts to pathbin instead of pathetc
    
	      4. Moves pathetc/default back to pathcontrol/default
		 Motivation: it's not ment to be modified and "default" is
    a
		 misleading name for a file in pathetc
    
	      5. Moves .news.daily from pathetc to pathdb. Motivation:
    
		 From: uli@tallowcross.uni-frankfurt.de (Uli Zappe)
    
		 No, it's not really a lock file. It stores the last time
		 news.daily was run. rc.news uses this information to check
		 whether news.daily was run the last day.
    
		 So it's more a "micro database" including only one entry,
    than a
		 lockfile.
    innd/site.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds configure detection for the socketpair()
    system call.
	      Innd uses that instead of pipe() when creating a channel. The
	      advantage is a bigger internal buffer, typically 32767 bytes
    instead
	      of 4096.
    
	      Note that most sysv systems already implement pipe() as just
    a call
	      to socketpair(), and that the two are almost the same.
    
	      The patch also increases the max. buffer size in the sample
	      newsfeeds for the innfeed process to 30000 (just below 32767)
    and
	      sets a max. buffer size for the overchan process, without
    which my
	      innd grows without bounds ..
    
	      With this in place I have had no DEBUG ERROR SITEspool
    trashed
	      messages anymore, and no corrupted channels.. If innd starts
	      spooling a channel, it writes the complete backlog instead of
	      partially.

Tue Jun 23 02:34:36 1998  <kondou>

  * include/config.h.in (1.21):
    include/config.h.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds configure detection for the socketpair()
    system call.
	      Innd uses that instead of pipe() when creating a channel. The
	      advantage is a bigger internal buffer, typically 32767 bytes
    instead
	      of 4096.
    
	      Note that most sysv systems already implement pipe() as just
    a call
	      to socketpair(), and that the two are almost the same.
    
	      The patch also increases the max. buffer size in the sample
	      newsfeeds for the innfeed process to 30000 (just below 32767)
    and
	      sets a max. buffer size for the overchan process, without
    which my
	      innd grows without bounds ..
    
	      With this in place I have had no DEBUG ERROR SITEspool
    trashed
	      messages anymore, and no corrupted channels.. If innd starts
	      spooling a channel, it writes the complete backlog instead of
	      partially.

Tue Jun 23 02:33:55 1998  <kondou>

  * doc/Makefile (1.31):
    doc/Makefile:
	    - install innreport.8 instead of innlog.pl.8
    doc/send-uucp.8:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch is almost the same as I posted a few weeks ago, it
    was
	      requested that I reposted it after the initial 2.0 release.
    So here
	      it is .. it does the following:
    
	      1. Adds manual page for send-uucp
	      2. Cleans up send-uucp, send-nntp, send-ihave so that they
    all take
		 the same command line args and have one common manual page
	      3. Moves those scripts to pathbin instead of pathetc
    
	      4. Moves pathetc/default back to pathcontrol/default
		 Motivation: it's not ment to be modified and "default" is
    a
		 misleading name for a file in pathetc
    
	      5. Moves .news.daily from pathetc to pathdb. Motivation:
    
		 From: uli@tallowcross.uni-frankfurt.de (Uli Zappe)
    
		 No, it's not really a lock file. It stores the last time
		 news.daily was run. rc.news uses this information to check
		 whether news.daily was run the last day.
    
		 So it's more a "micro database" including only one entry,
    than a
		 lockfile.

Tue Jun 23 02:31:53 1998  <kondou>

  * configure (1.75):
  * configure.in (1.78):
    configure:
    configure.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds configure detection for the socketpair()
    system call.
	      Innd uses that instead of pipe() when creating a channel. The
	      advantage is a bigger internal buffer, typically 32767 bytes
    instead
	      of 4096.
    
	      Note that most sysv systems already implement pipe() as just
    a call
	      to socketpair(), and that the two are almost the same.
    
	      The patch also increases the max. buffer size in the sample
	      newsfeeds for the innfeed process to 30000 (just below 32767)
    and
	      sets a max. buffer size for the overchan process, without
    which my
	      innd grows without bounds ..
    
	      With this in place I have had no DEBUG ERROR SITEspool
    trashed
	      messages anymore, and no corrupted channels.. If innd starts
	      spooling a channel, it writes the complete backlog instead of
	      partially.

Mon Jun 22 20:03:08 1998 James Brister <brister>

  * INSTALL (1.6):
    Added short descriptions of incoming.conf and expire.ctl.

Mon Jun 22 12:20:00 1998  <kondou>

  * lib/hash.c (1.8):
    lib/hash.c:
	    - hash was not calculated correctly.

Mon Jun 22 12:18:49 1998  <kondou>

  * innfeed/sysconfig.h (1.11):
    innfeed/sysconfig.h:
	    - From: Phillip Porch <root@sco.theporch.com>
	    - I have sucessfully compiled and  have running the inn-2.0
    suite
	      under SCO 5.0.4. Here is a patch to the innfeed/sysconfig.h
    file to
	      make that happen.

Sun Jun 21 05:54:58 1998  <kondou>

  * expire/expire.c (1.49):
    doc/expire.8:
    expire/expire.c:
	    - both '-e' and '-k' cannot be specified.
	    - if both '-e' and '-k' is not specified and storageapi is on,
	      '-e' is set internally.

Sun Jun 21 02:59:11 1998  <kondou>

  * expire/makehistory.c (1.44):
    expire/makehistory.c:
	    - use [HASH] format regardless of storageapi.

Sat Jun 20 16:34:38 1998  <kondou>

  * samples/news.daily.in (1.24):
    samples/news.daily.in:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>	  - If "$RMFILE" is
    empty, the expireflags won't contain "-z" or "-u",
	      but expireover/index will nevertheless get called with "-z".

Sat Jun 20 16:33:12 1998  <kondou>

  * samples/inncheck.in (1.12):
    samples/inncheck.in:
	    - update for newly added parameters into inn.conf.

Sat Jun 20 16:31:32 1998  <kondou>

  * innd/his.c (1.30):
    innd/his.c:
	    - use [HASH] format regardless of storageapi.

Sat Jun 20 16:29:40 1998  <kondou>

  * expire/grephistory.c (1.16):
    expire/grephistory.c:
	    - add '-h' option to show hash of Message-ID regardless of its
	      existense.

Fri Jun 19 23:00:24 1998 Marc Fournier <scrappy>

  * nnrpd/udp.c (1.3):
    From: Russell Vincent <russellv@uk.uu.net>
    
    > Jun 19 15:09:02 news actived[8961]: cant createudpsocket Can't assign
    > requested address
    >
    > What was the fix for this again?	I can't find it in my mailbox:(
    
    Try the attached. Also make sure you can resolve localhost.

Fri Jun 19 18:42:12 1998 Marc Fournier <scrappy>

  * expire/grephistory.c (1.15):
    From: Olaf Titz <olaf@bigred.inka.de>
    Subject: Fix: grephistory -s not working with SAPI

Fri Jun 19 11:58:16 1998 Marc Fournier <scrappy>

  * innfeed/msgs.h (1.8):
  * innfeed/tape.c (1.10):
  * innfeed/innlistener.c (1.9):
  * innfeed/host.c (1.24):
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    
    This patch does the following:
    
    - corrects innfeed.1
    - Fixes coredump in host.c
    - increases refresh time of HTML status output (otherwise the output
      is unreadable)
    - Only unlink pidFile if it is _our_ pidfile
    - Consistency check on peername and message ID on input from
      innd channel and tape.

Fri Jun 19 11:56:29 1998 Marc Fournier <scrappy>

  * samples/rc.news.in (1.15):
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    
    There's a typo in rc.news.in, this patch fixes it. Could someone please
    commit this?

Fri Jun 19 11:55:16 1998 Marc Fournier <scrappy>

  * nnrpd/activedstats.c (1.2):
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    
    This is needed to get actived to compile under Linux/glibc (and
    probably more
    Unices):

Fri Jun 19 11:29:58 1998 Marc Fournier <scrappy>

  * innd/inndstart.c (1.16):
    From: Russell Vincent <russellv@uk.uu.net>
    
    > Jun 19 15:47:24 news2 inndstart: inndstart cant exec
    /home/news2/bin/actived
    > Bad address
    >
    > What is the meaning of "Bad address" ?
    
    The man page for execve says:
    
	 EFAULT 	     An  argument  points   to	 an   illegal
			     address.
    
    Let me know if the attached patch helps.

Thu Jun 18 22:20:42 1998  <kondou>

  * samples/innreport.conf.in (1.6):
    samples/innreport.conf.in:
	    - From: Michael Schroeder
    <Michael.Schroeder@informatik.uni-erlangen.de>
	    - I stumbled over a small mistake in innreport.conf.

Thu Jun 18 21:51:15 1998  <kondou>

  * nnrpd/udp.c (1.2):
    nnrpd/udp.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Only listen for connections on localhost to prevent remote
    DOS attacks

Thu Jun 18 15:45:15 1998  <kondou>

  * innd/cc.c (1.42):
    innd/cc.c:
	    - From: tmill06@ibm.net (Timothy J. Miller)
	    - For "reload all" and "reload filter.perl", PERLreadfilter()
	      was being called *without* pathfilter prepended.

Thu Jun 18 15:38:15 1998  <kondou>

  * nnrpd/article.c (1.44):
    nnrpd/article.c:
	    - XOVER with nnrpdcheckart true did not work for non
    storageapi.

Thu Jun 18 15:36:43 1998  <kondou>

  * doc/Makefile (1.30):
    doc/Makefile:
	    - install actived.8

Thu Jun 18 15:36:03 1998  <kondou>

  * MANIFEST (1.8):
    MANIFEST:
	    - update for newly added files (for actived)

Thu Jun 18 15:09:01 1998  <kondou>

  * storage/cnfs/cnfs.c (1.34):
    storage/cnfs/cnfs.c:
	    - fixed syntax error ('priv.' should be 'private->')

Thu Jun 18 11:34:57 1998 Marc Fournier <scrappy>

  * samples/inn.conf.in (1.11):
  * nnrpd/nnrpd.h (1.24):
  * nnrpd/protocol.h (1.1):
  * nnrpd/udp.c (1.1):
  * nnrpd/actived.c (1.1):
  * nnrpd/activedstats.c (1.1):
  * nnrpd/group.c (1.25):
  * nnrpd/Makefile (1.20):
  * lib/getconfig.c (1.38):
  * innd/inndstart.c (1.15):
  * include/libinn.h (1.40):
  * include/innconf.h (1.8):
  * CONTRIBUTORS (1.10):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch adds actived as an option to INN. Actived is a daemon
    that handles requests by nnrpd processes for active file information
    and saves significant amounts of memory and processing.
    
    CONTRIBUTORS
     - Joe Greco is the original author
    
    doc/actived.8
     - new file
    
    doc/inn.conf.5
    include/innconf.h
    include/libinn.h
    lib/getconfig.c
    samples/inn.conf.in
     - add new options for actived
    
    innd/inndstart.c
     - start actived if enabled
    
    nnrpd/Makefile
     - compile options for actived
    
    nnrpd/actived.c
    nnrpd/activedstats.c
    nnrpd/protocol.h
    nnrpd/udp.c
     - new files for actived
    
    nnrpd/group.c
    nnrpd/nnrpd.h
     - use actived if enabled in inn.conf
     - default to mmap if not enabled or actived not responding

Thu Jun 18 05:32:24 1998  <kondou>

  * storage/timehash/timehash.c (1.24):
    storage/timehash/timehash.c
	    - mmap article only if innconf->articlemmap is set.
	      (from Richard Michael Todd)

Thu Jun 18 05:30:43 1998  <kondou>

  * storage/cnfs/cnfs.c (1.33):
    storage/cnfs/cnfs.c:
	    - mmap article only if innconf->articlemmap is set.

Thu Jun 18 00:28:22 1998  <kondou>

  * nnrpd/article.c (1.43):
    nnrpd/article.c:
	    - From: Laurent Frigault <lfrigault@teaser.fr>
	    - The algorithm used is not the same whether you use
    overviewmmap or
	      not and the algo used whith overviewmmap is not efficient
    enough.

Wed Jun 17 23:40:30 1998  <kondou>

  * nnrpd/article.c (1.42):
    nnrpd/article.c:
	    - I've lost parenthesis for newly added code.  This led serious
	      problem that article may not be read.

Wed Jun 17 07:50:47 1998  <kondou>

  * expire/fastrm.c (1.11):
    expire/fastrm.c:
	    - From: Michael Hall <mhall@riverside.org>
	    - Looks like I missed another one or it never got committed
    before,
	      anyway here is a patch to add an 'openlog()' call to
    'fastrm.c'.
	      The '#include <syslog.h>' is already in the file.

Wed Jun 17 07:41:28 1998  <kondou>

  * include/innconf.h (1.7):
    include/innconf.h:
	    - CONF_VAR_NNRPDCHECKART should be 88

Wed Jun 17 07:13:36 1998  <kondou>

  * samples/inn.conf.in (1.10):
  * samples/rc.news.in (1.14):
    samples/rc.news.in:
	    - true was ignored for 'doinnwatch'
    samples/inn.conf.in:
	    - add new parameter 'nnrpdcheckart' to specify checking the
    existense
	      of article before responding nntp command.
	    - change default yes to true, and no to false to avoid
    confusion

Wed Jun 17 07:11:21 1998  <kondou>

  * nnrpd/article.c (1.41):
  * nnrpd/nnrpd.c (1.42):
  * nnrpd/nnrpd.h (1.23):
    nnrpd/article.c:
    nnrpd/nnrpd.c:
    nnrpd/nnrpd.h:
	    - add new parameter 'nnrpdcheckart' to specify checking the
    existense
	      of article before responding nntp command.

Wed Jun 17 07:10:25 1998  <kondou>

  * lib/getconfig.c (1.37):
    lib/getconfig.c:
	    - add new parameter 'nnrpdcheckart' to specify checking the
    existense
	      of article before responding nntp command.

Wed Jun 17 07:09:52 1998  <kondou>

  * include/innconf.h (1.6):
  * include/libinn.h (1.39):
    include/innconf.h:
    include/libinn.h:
	    - add new parameter 'nnrpdcheckart' to specify checking the
    existense
	      of article before responding nntp command.

Wed Jun 17 07:05:52 1998  <kondou>

  * INSTALL (1.5):
    INSTALL:
	    - note that history.n* need to be moved to history after
	      'makehistory -i'

Tue Jun 16 23:43:51 1998  <kondou>

  * frontends/sm.c (1.11):
    frontends/sm.c:
	    - add new option '-R' with which sm retrieves article with
    SMretrieve
	      directly and shows raw article.

Tue Jun 16 06:54:26 1998  <kondou>

  * samples/innwatch.ctl.in (1.5):
    samples/innwatch.ctl.in:
	    - some parameters in sample entry were never overwritten by
    inn.conf

Mon Jun 15 23:25:00 1998  <kondou>

  * samples/scanlogs.in (1.19):
    samples/scanlogs.in:
	    - remove unwanted line 'rm -f $OLD_EXPLOG'

Mon Jun 15 21:31:05 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.16):
    * fixed #! line for PATH_PERL substitution, which I had erroneously
    converted to /usr/bin/perl in my last revision.
    * update to independent release version 1.10, fixing an error with how
    the default tmpdir was set (it could result in "/tmp/pgp$$/pgp$$").

Sun Jun 14 07:07:55 1998  <kondou>

  * innd/his.c (1.29):
  * innd/nc.c (1.33):
    innd/his.c:
	    - Make _HIScache have whole HASH to avoid hash collision
    innd/nc.c:
	    - Revert HIShavearticle() usage in NCihave() and NCcheck()
	    - Call HIShavearticle() before HISremember() not to create
	      duplicate entry in history

Sun Jun 14 04:47:11 1998  <kondou>

  * storage/cnfs/cnfs.c (1.32):
    storage/cnfs/cnfs.c:
	    - From: "Igor Timkin" <ivt@gamma.ru>
	    - If the size of cycbuff file >4G, then real used
    length=length%4G.

Sat Jun 13 15:25:42 1998  <kondou>

  * innd/nc.c (1.32):
    innd/nc.c:
	    - HIShavearticle() in nc.c should be removed since it may cause
	      duplicate entries in history.  And HIShavearticle() can be
	      removed since there is pre-commit cache code after calling
    that
	      function.

Sat Jun 13 01:52:15 1998  <kondou>

  * storage/cnfs/cnfs.c (1.31):
    storage/cnfs/cnfs.c:
	    - There was a problem if token was for an article which is
    close to
	      the latest cycbuff->free.  In this case SMretrieve() should
	      re-read CYCBUFFEXTERN.

Fri Jun 12 08:37:50 1998  <kondou>

  * nnrpd/nnrpd.c (1.41):
    nnrpd/nnrpd.c:
	    - suppress compilation warning

Thu Jun 11 23:00:19 1998  <kondou>

  * innfeed/misc.c (1.7):
    innfeed/misc.c:
	    - From: Heath Kehoe <hakehoe@norand.com>
	    - The other patch adds a declaration for h_errno, which is not
    provided
	      for in HP's headers.  Since innfeed/misc.c is the only place
    that
	      uses h_errno, I put it in there; though it may be better to
    put it
	      in clibrary.h.

Thu Jun 11 22:59:42 1998  <kondou>

  * include/clibrary.h.in (1.7):
    include/clibrary.h.in:
	    - From: Heath Kehoe <hakehoe@norand.com>
	    - The problem here is that the HP/UX headers define a 'union
    wait' (for
	      BSD compatibility), but the WEXITSTATUS macro is written to
    work on
	      an int.  So, the compile bombs in waitnb.c on '*statusp =
    WAITVAL(w);'
	      since WAITVAL(w) expands to WEXITSTATUS(w), which expands to
	      (((int)(w)>>8)&0377), which causes the error because w is
    defined as
	      a union wait.
    
	      Since the HP/UX wait syscalls are declared to use (int *)
    instead
	      of (union wait *), I think the best solution is to force
	      HAVE_UNION_WAIT to be off.  A simple addition to clibrary.h
    does the
	      trick.

Thu Jun 11 14:52:02 1998  <kondou>

  * INSTALL (1.4):
    INSTALL:
	    - add some note on IRIX-6.5 for overviewmmap

Thu Jun 11 01:24:22 1998  <kondou>

  * samples/inncheck.in (1.11):
    samples/inncheck.in:
	    - update for newly incorporated parameters

Thu Jun 11 01:23:23 1998  <kondou>

  * innd/perl.c (1.7):
    innd/perl.c:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Check for the existence of filter_messageid before running it
	    - Reformat style to be more in line with rest of inn code

Thu Jun 11 01:22:40 1998  <kondou>

  * nnrpd/article.c (1.40):
    nnrpd/article.c:
	    - From: "Matthias Urlichs" <smurf@noris.de>
	    - This patch fixes three rather serious bugs.
	      - Empty lines added at the end of article bodies.
	      - "HEAD" command output ends with
		 X-Foobar: ...last line of header... CRLF
		 . CRLF
		 CRLF
		 . CRLF
	      - The logic for testing whether a wire-format article was
    terminated
		correctly was broken.

Thu Jun 11 01:21:11 1998  <kondou>

  * storage/cnfs/cnfs-private.h (1.8):
  * storage/cnfs/cnfs.c (1.30):
    storage/cnfs/cnfs.c:
    storage/cnfs/cnfs-private.h:
	    - From: "Matthias Urlichs" <smurf@noris.de>
	    - storage/cnfs/cnfs.c, storage/cnfs/cnfs-private.h:
	      Add ability to read spool files from the "old" INN+CNFS
	      so that people can switch to INN 2.0 without losing all their
    data.

Thu Jun 11 01:20:20 1998  <kondou>

  * lib/endian.c (1.7):
    lib/endian.c:
	    - From: "Matthias Urlichs" <smurf@noris.de>
	    - lib/endian.c: The Standard says main() must return an int.

Thu Jun 11 01:19:26 1998  <kondou>

  * innd/art.c (1.78):
    innd/art.c:
	    - From: "Matthias Urlichs" <smurf@noris.de>
	    - innd/art.c: innconf->xrefslave isn't a pointer, therefore
    comparing
	      it to NULL is wrong.

Thu Jun 11 01:18:35 1998  <kondou>

  * expire/makehistory.c (1.43):
    expire/makehistory.c:
	    - From: "Matthias Urlichs" <smurf@noris.de>
	    - expire/makehistory.c: Parens set wrong.
	    - expire/makehistory.c: empty index line suppressed.

Thu Jun 11 01:16:48 1998  <kondou>

  * config/config.scoreboard (1.54):
    config/config.scoreboard:
	    - From: Heath Kehoe <hakehoe@norand.com>
	    - While running configure for INN 2.0 on an HP/UX 10.20 system,
    I
	      noticed that the mmap test failed.  This is incorrect; the HP
	      mmap should work fine with INN.  So I investigated, and found
	      that autoconf's mmap test tries a specific usage of mmap that
	      HP/UX does not like (namely, it tries mmap with the MAP_FIXED
	      flag).  INN does not use MAP_FIXED.  In addition, the
    autoconf
	      test verifies that MAP_PRIVATE works properly, which is also
	      useless since INN always uses MAP_SHARED.
    
	      So, I've modified configure.in to replace AC_FUNC_MMAP with
	      a version of the mmap test modified to use MAP_SHARED instead
	      of MAP_FIXED|MAP_PRIVATE.
    
	      In addition, I added a similar test, that can determine how
	      MMAP_SYNC should be set.	I've tried this on HP/UX and linux,
	      and got correct results (HP needs MMAP_SYNC=DO, and linux
	      does not).
    
	      The enclosed patch includes the modifications to configure.in
	      and config.scoreboard; and also includes a fix to a minor,
	      HPUX-specific problem in nnrpd.c

Thu Jun 11 01:15:12 1998  <kondou>

  * nnrpd/nnrpd.c (1.40):
    nnrpd/nnrpd.c:
	    - From: Heath Kehoe <hakehoe@norand.com>
	    - While running configure for INN 2.0 on an HP/UX 10.20 system,
    I
	      noticed that the mmap test failed.  This is incorrect; the HP
	      mmap should work fine with INN.  So I investigated, and found
	      that autoconf's mmap test tries a specific usage of mmap that
	      HP/UX does not like (namely, it tries mmap with the MAP_FIXED
	      flag).  INN does not use MAP_FIXED.  In addition, the
    autoconf
	      test verifies that MAP_PRIVATE works properly, which is also
	      useless since INN always uses MAP_SHARED.
    
	      So, I've modified configure.in to replace AC_FUNC_MMAP with
	      a version of the mmap test modified to use MAP_SHARED instead
	      of MAP_FIXED|MAP_PRIVATE.
    
	      In addition, I added a similar test, that can determine how
	      MMAP_SYNC should be set.	I've tried this on HP/UX and linux,
	      and got correct results (HP needs MMAP_SYNC=DO, and linux
	      does not).
    
	      The enclosed patch includes the modifications to configure.in
	      and config.scoreboard; and also includes a fix to a minor,
	      HPUX-specific problem in nnrpd.c

Thu Jun 11 01:14:13 1998  <kondou>

  * configure (1.74):
  * configure.in (1.77):
    configure:
    configure.in:
	    - From: Heath Kehoe <hakehoe@norand.com>
	    - While running configure for INN 2.0 on an HP/UX 10.20 system,
    I
	      noticed that the mmap test failed.  This is incorrect; the HP
	      mmap should work fine with INN.  So I investigated, and found
	      that autoconf's mmap test tries a specific usage of mmap that
	      HP/UX does not like (namely, it tries mmap with the MAP_FIXED
	      flag).  INN does not use MAP_FIXED.  In addition, the
    autoconf
	      test verifies that MAP_PRIVATE works properly, which is also
	      useless since INN always uses MAP_SHARED.
    
	      So, I've modified configure.in to replace AC_FUNC_MMAP with
	      a version of the mmap test modified to use MAP_SHARED instead
	      of MAP_FIXED|MAP_PRIVATE.
    
	      In addition, I added a similar test, that can determine how
	      MMAP_SYNC should be set.	I've tried this on HP/UX and linux,
	      and got correct results (HP needs MMAP_SYNC=DO, and linux
	      does not).
    
	      The enclosed patch includes the modifications to configure.in
	      and config.scoreboard; and also includes a fix to a minor,
	      HPUX-specific problem in nnrpd.c

Wed Jun 10 21:57:55 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.15):
    # Changes from 1.9 -> 1.10
    # -- minor diddling for INN 2.0: use $inn'pathtmp if it exists, and
    #	 work with the new subst method to find innshellvars.pl
    # -- do not truncate the tmp file when opening, in case it is really
    linked
    #	 to another file
    
    # NOTICE TO INN MAINTAINERS:  The version that is shipped with INN
    # is the same as the version that I make available to the rest of the
    # world (including non-INN sites), so please make all changes through
    me.

Tue Jun 09 23:09:28 1998  <kondou>

  * storage/trash/trash.c (1.6):
    storage/trash/trash.c:
	   - include configdata.h before clibrary.h

Tue Jun 09 23:08:55 1998  <kondou>

  * storage/timehash/timehash.c (1.23):
    storage/timehash/timehash.c:
	   - include configdata.h before clibrary.h

Tue Jun 09 23:08:21 1998  <kondou>

  * storage/interface.c (1.29):
    storage/interface.c:
	    - add new parameter storeonxref to store articles based on
	      newsgroup name in Xref header

Tue Jun 09 23:07:45 1998  <kondou>

  * samples/inn.conf.in (1.9):
    samples/inn.conf.in:
	    - add new parameter storeonxref to store articles based on
	      newsgroup name in Xref header

Tue Jun 09 23:07:00 1998  <kondou>

  * nnrpd/nnrpd.c (1.39):
    nnrpd/nnrpd.c:
	    - From: rune@ftech.net
	    - This patch is against the nnrpd from the inn-2.0 release. It
    causes
	      nnrpd to run as the news userid when started as root on a low
    port (eg
	      119) and also fixes a bug whereby SO_REUSEADDR wasn't set on
    the
	      socket thus causing all kinds of fun and games when killing
    and
	      restarting the daemon.

Tue Jun 09 23:05:23 1998  <kondou>

  * lib/endian.c (1.6):
  * lib/getconfig.c (1.36):
  * lib/dbz.c (1.25):
    lib/dbz.c:
    lib/endian.c:
	    - include configdata.h before clibrary.h
    lib/getconfig.c:
	    - add new parameter storeonxref to store articles based on
	      newsgroup name in Xref header

Tue Jun 09 22:59:40 1998  <kondou>

  * configure.in (1.76):
  * configure (1.73):
    configure:
    configure.in:
	    - Unisys UNIX needs -lsocket -lnsl to ckeck gethostbyname()

Tue Jun 09 10:53:31 1998 Marc Fournier <scrappy>

  * samples/filter_innd.pl (1.2):
  * samples/inn.conf.in (1.8):
  * lib/getconfig.c (1.35):
  * innd/status.c (1.11):
  * innd/innd.h (1.39):
  * innd/nc.c (1.31):
  * innd/perl.c (1.6):
  * innd/chan.c (1.26):
  * include/innconf.h (1.5):
  * include/libinn.h (1.38):
  * README.perl_hook (1.5):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch adds the capability to perl filter by Message-ID at
    the article CHECK/IHAVE stage and also to refuse Message-ID's
    starting with '<cancel.'. No history lookup/add is done on
    the assumption that it is quicker to do this check.
    
    Perl side modified from patch by Jeremy Nixon <jeremy@exit109.com>
    available at: ftp://ftp.exit109.com/users/jeremy/messageid.patch
    
    README.perl_hook
     - add doc about new perl hook
    
    doc/inn.conf.5
     - document refusecybercancels option
    
    include/innconf.h
     - add refusecybercancels option
     - reformat the columns to make it more readable
    
    include/libinn.h
    lib/getconfig.c
    samples/inn.conf.in
     - add refusecybercancels option
    
    innd/chan.c
    innd/innd.h
    innd/status.c
     - add refusecybercancels option with logging to inn.status
    
    innd/nc.c
     - add refusecybercancels option
     - add call to perl Message-ID check
    
    innd/perl.c
     - add Message-ID perl hook

Tue Jun 09 09:47:37 1998  <kondou>

  * MANIFEST (1.7):
    MANIFEST:
	    - delete innfeed/config_y.c and innfeed/config_y.h

Tue Jun 09 09:44:39 1998  <kondou>

  * storage/cnfs/cnfs.c (1.29):
    storage/cnfs/cnfs.c:
	    - suppress "'1000000'th article" message
    
	    - From: Piotr Kucharski <chopin@sgh.waw.pl>
	    - minartoffset was wrongly calculated

Tue Jun 09 09:41:15 1998  <kondou>

  * innd/cc.c (1.41):
    innd/cc.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - The lowmark for these groups is indeed '0', but innd/cc.c
    doesn't
	      accept this ..

Mon Jun 08 15:00:59 1998 James Brister <brister>

  * samples/control.ctl (1.7):
    Simon Lyall's update.

Mon Jun 08 14:17:41 1998 James Brister <brister>

  * README (1.3):
    2.0 release changes

Mon Jun 08 13:56:55 1998 James Brister <brister>

  * MANIFEST (1.6):
    Misc updates

Mon Jun 08 13:45:48 1998 James Brister <brister>

  * include/patchlevel.h (1.4):
  * samples/version.in (1.12):
    Version number updates

Mon Jun 08 13:40:33 1998 James Brister <brister>

  * Makefile (1.16):
    Version number change.

Mon Jun 08 13:19:25 1998 James Brister <brister>

  * CONTRIBUTORS (1.9):
    Added entry for Joshua M. Thompson

Fri Jun 05 10:40:35 1998  <kondou>

  * makedirs.sh.in (1.8):
    makedirs.sh.in:
	    - create <pathspool>/innfeed

Fri Jun 05 09:55:42 1998  <kondou>

  * samples/sendbatch.in (1.10):
    samples/sendbatch.in:
	    - From: Julio Sanchez <jsanchez@esegi.es>
	    - Sendbatch is broken.  It has an extra fi and an expansion
    problem.

Fri Jun 05 09:09:24 1998  <kondou>

  * makedirs.sh.in (1.7):
    makedirs.sh.in:
	    - pathspool/innfeed and pathspool/uniover were not created

Fri Jun 05 09:08:07 1998  <kondou>

  * innfeed/main.c (1.16):
    innfeed/main.c:
	    - Message of usage was incorrect
	    - did chdir(pathspool) incorrectly by default

Fri Jun 05 03:15:38 1998  <kondou>

  * MANIFEST (1.5):
    MANIFEST:
	    - updated to match the current sources

Fri Jun 05 00:39:21 1998  <kondou>

  * include/clibrary.h.in (1.6):
    include/clibrary.h.in:
	    - append #include <netinet/in.h> before including arpa/inet.h

Thu Jun 04 23:37:20 1998  <kondou>

  * storage/overview.c (1.32):
    storage/overview.c:
	    - OVERmmapconfig was cleared even after overview file is
    mmapped.
	      This caused another mmapping while expire.

Thu Jun 04 23:35:19 1998  <kondou>

  * innd/art.c (1.77):
    innd/art.c:
	    - handed wrong pointer for qsort() (for keyword support)

Thu Jun 04 03:29:06 1998  <kondou>

  * configure.in (1.75):
  * configure (1.72):
    configure:
    configure.in:
	    - From: Michael Hall <mhall@riverside.org>
	    - The variable for 'tmp-path' is 'LOGDIR' instead of 'TMPPATH'

Thu Jun 04 00:07:28 1998  <kondou>

  * storage/cnfs/cnfs.c (1.28):
    storage/cnfs/cnfs.c:
	    - From: Keith Lewis <keithl@mukluk.cc.monash.edu.au>
	    - int subr( ... ) { ulong a,b ; ...; return a & b; }
	      truncates the returned value if sizeof(ulong) > sizeof(int).

Wed Jun 03 23:43:16 1998  <kondou>

  * README (1.2):
    README:
	    - update for 2.0
    README.pgp:
    README.track:
	    - they are removed now

Wed Jun 03 23:34:55 1998  <kondou>

  * lib/getconfig.c (1.34):
    lib/getconfig.c:
	    - 'storeonxref' which will be used after 2.0 is added
	    - If 'FROMHOST', 'NNTPSERVER', 'ORGANIZATION' and
    'INND_BIND_ADDRESS'
	      are set, use their value for innconf (do what inn.conf(5)
    says)

Wed Jun 03 23:30:09 1998  <kondou>

  * include/innconf.h (1.4):
  * include/libinn.h (1.37):
    include/innconf.h:
    include/libinn.h:
	    - 'storeonxref' which will be used after 2.0 is added

Wed Jun 03 22:43:40 1998  <kondou>

  * include/clibrary.h.in (1.5):
    include/clibrary.h.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - include arpa/inet.h where inet_addr is declared properly for
    the OS

Wed Jun 03 07:26:09 1998  <kondou>

  * storage/trash/Makefile (1.2):
    storage/trash/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:25:41 1998  <kondou>

  * storage/timehash/Makefile (1.15):
    storage/timehash/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:25:09 1998  <kondou>

  * storage/cnfs/Makefile (1.9):
    storage/cnfs/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:24:39 1998  <kondou>

  * storage/Makefile (1.27):
    storage/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:24:14 1998  <kondou>

  * nnrpd/Makefile (1.19):
  * nnrpd/nnrpd.c (1.38):
    nnrpd/Makefile:
    nnrpd/nnrpd.c:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:23:31 1998  <kondou>

  * lib/Makefile (1.24):
    lib/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:23:02 1998  <kondou>

  * innfeed/connection.c (1.19):
  * innfeed/endpoint.c (1.13):
  * innfeed/misc.c (1.6):
  * innfeed/Makefile (1.26):
    innfeed/Makefile:
    innfeed/connection.c:
    innfeed/endpoint.c:
    innfeed/misc.c:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:22:06 1998  <kondou>

  * innd/Makefile (1.31):
  * innd/lc.c (1.7):
  * innd/rc.c (1.28):
    innd/Makefile:
    innd/lc.c:
    innd/rc.c:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:21:03 1998  <kondou>

  * include/clibrary.h.in (1.4):
    include/clibrary.h.in:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
	    - #if defined(_AIX41) is moved to clibrary.h (kondou@nec.co.jp)
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:18:52 1998  <kondou>

  * frontends/Makefile (1.26):
    frontends/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:18:15 1998  <kondou>

  * expire/Makefile (1.19):
    expire/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:17:44 1998  <kondou>

  * doc/Makefile (1.29):
    doc/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:17:12 1998  <kondou>

  * config/Makefile (1.16):
    config/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:16:34 1998  <kondou>

  * backends/Makefile (1.19):
    backends/Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 07:15:12 1998  <kondou>

  * Makefile (1.15):
  * Makefile.global.in (1.18):
    Makefile.global.in:
    Makefile:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - There are two sets of patches attached to this note to make
    the AIX
	      xlC compiler and make happy with inn.
    
	    - The first fixes the last of the compile errors in innfeed,
    innd, and
	      nnrpd.  innfeed's misc.c was not including time.h which
    defines ctime
	      to be "char *" so the compiler would complain about using the
    output
	      of ctime where a "char *" was expected.  There are also
    numerous
	      places in innd's lc.c, rc.c; nnrpd's nnrpd.c; and innfeed's
    connect.c
	      and endpoint.c where the last parameter to accept,
    getsockopts, etc
	      is a "size_t *" on AIX, but was being passed as an "int *" so
    I've
	      added #if define's to handle that case.
    
	    - The second set of patches removes the "CFLAGS +=" from the
    Makefiles,
	      so gnu make is not required -- I finally gave up and changed
    it after
	      site/do_subst.sh called AIX's make and passed a "-w" flag
    under gnu
	      make.

Wed Jun 03 05:58:33 1998  <kondou>

  * storage/overview.c (1.31):
    storage/overview.c:
	    - split directory for unified overview from pathoverview
	    - overview corrpution when expiring with mmapoverview is now
    fixed

Wed Jun 03 05:57:00 1998  <kondou>

  * samples/inn.conf.in (1.7):
    samples/inn.conf.in:
	    - split directory for unified overview from pathoverview

Wed Jun 03 05:56:42 1998  <kondou>

  * lib/getconfig.c (1.33):
    lib/getconfig.c:
	    - split directory for unified overview from pathoverview

Wed Jun 03 05:56:18 1998  <kondou>

  * innd/nc.c (1.30):
    innd/nc.c:
	    - still did setsockopt for AF_UNIX

Wed Jun 03 05:55:24 1998  <kondou>

  * include/innconf.h (1.3):
  * include/libinn.h (1.36):
    include/innconf.h:
    include/libinn.h:
	    - split directory for unified overview from pathoverview

Wed Jun 03 05:54:12 1998  <kondou>

  * makedirs.sh.in (1.6):
  * INSTALL (1.3):
    INSTALL:
	    - add overviewmmap description for some system
    makedirs.sh.in:
	    - split directory for unified overview from pathoverview

Wed Jun 03 01:16:27 1998  <kondou>

  * expire/makehistory.c (1.42):
    expire/makehistory.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.

Wed Jun 03 00:34:51 1998  <kondou>

  * samples/signcontrol.in (1.6):
  * samples/innshellvars.tcl.in (1.14):
  * samples/innstat.in (1.10):
  * samples/pgpverify.in (1.14):
  * samples/innshellvars.in (1.16):
  * samples/innshellvars.pl.in (1.16):
  * samples/inn.conf.in (1.6):
    samples/inn.conf.in:
    samples/innshellvars.csh.in:
    samples/innshellvars.in:
    samples/innshellvars.pl.in:
    samples/innshellvars.tcl.in:
    samples/pgpverify.in:
    samples/signcontrol.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.
    
    samples/innstat.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds the path to pathdb to the "df" output.

Wed Jun 03 00:32:33 1998  <kondou>

  * lib/md5.c (1.5):
  * lib/over.c (1.5):
  * lib/defdist.c (1.5):
  * lib/endian.c (1.5):
  * lib/getconfig.c (1.32):
  * lib/getmodaddr.c (1.6):
  * lib/clientactive.c (1.6):
    lib/clientactive.c:
    lib/defdist.c:
    lib/getconfig.c:
    lib/getmodaddr.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.
    
    lib/endian.c:
    lib/md5.c:
    lib/over.c:
	    - From: Adam Caldwell <adam@atl.eni.net>
	    - Does not properly detect unaligned access on linux/axp
	    - - If INN_MUST_ALIGN is defined in md5.c, but INN_BIG_ENDIAN
    isn't
	      the code won't compile
	    - The Pack code in over.c doesn't work if sizeof(long)==8 and
	      INN_LITTLE_ENDIAN.  It ends up setting all article numbers in
    the
	      overview file to 0.

Wed Jun 03 00:29:21 1998  <kondou>

  * innfeed/innfeed-convcfg.in (1.1):
  * innfeed/procbatch.in (1.1):
  * innfeed/INSTALL (1.2):
  * innfeed/Makefile (1.25):
  * innfeed/README (1.3):
    innfeed/INSTALL:
    innfeed/Makefile:
    innfeed/README:
    innfeed/convertconfig.pl:
    innfeed/procbatch.pl:
    innfeed/innfeed-convcfg.in:
    innfeed/procbatch.in
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - autoconfigures the interpreter paths in convertconfig.pl and
	      procbatch.pl
	    - lets procbatch.pl use the defaults from inn.conf
	    - renames convertconfig to innfeed-convcfg to make it clear
    what it
	      does, otherwise this might get confusing. Note that it might
    not be
	      a bad idea to remove this file alltogether, but oh well.

Wed Jun 03 00:24:51 1998  <kondou>

  * innd/inndstart.c (1.14):
    innd/inndstart.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.

Wed Jun 03 00:24:00 1998  <kondou>

  * include/paths.h.in (1.23):
  * include/innconf.h (1.2):
  * include/libinn.h (1.35):
    include/libinn.h:
	    - From: Adam Caldwell <adam@atl.eni.net>
	    - libinn.h makes an assumption that sizeof(unsigned long) == 4
	      in a place that matters for the overview code.
    
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.
    
    include/innconf.h:
    include/paths.h.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.

Wed Jun 03 00:21:15 1998  <kondou>

  * frontends/inews.c (1.12):
  * frontends/rnews.c (1.14):
    frontends/inews.c:
    frontends/rnews.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.

Wed Jun 03 00:20:12 1998  <kondou>

  * doc/typical.subst (1.5):
    doc/inn.conf.5:
    doc/makehistory.8:
    doc/typical.subst:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.

Wed Jun 03 00:18:15 1998  <kondou>

  * backends/shrinkfile.c (1.3):
  * backends/nntpget.c (1.11):
    backends/nntpget.c:
    backends/shrinkfile.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.

Wed Jun 03 00:16:29 1998  <kondou>

  * configure.in (1.74):
  * configure (1.71):
    configure:
    configure.in:
	    - This patch adds a pathtmp setting to inn.conf. All programs
    use this
	      instead of the old /var/tmp or $TMPDIR. getconfig.c and the
	      innshellvars* scripts also set the environment variable
    $TMPDIR to
	      the setting in inn.conf for consistency.
    
	    - This is needed for the security of the INN system - writing
	      predictable files in publically writable directories is a
    VERY bad
	      idea.
    
	    - The new default tmp path is set at configure time to
    $prefix/tmp, but
	      ofcourse you can change that.
    
	    - autoconfigures the interpreter paths in convertconfig.pl and
	      procbatch.pl
	    - lets procbatch.pl use the defaults from inn.conf
	    - renames convertconfig to innfeed-convcfg to make it clear
    what it
	      does, otherwise this might get confusing. Note that it might
    not be
	      a bad idea to remove this file alltogether, but oh well.

Mon Jun 01 00:29:59 1998  <kondou>

  * innd/site.c (1.20):
  * innd/art.c (1.76):
  * innd/innd.h (1.38):
    innd/art.c:
    innd/innd.h:
    innd/site.c:
	    - 'WP' did not work correctly (sometimes dumping core)

Sun May 31 13:03:45 1998  <kondou>

  * nnrpd/article.c (1.39):
  * nnrpd/group.c (1.24):
    nnrpd/article.c
    nnrpd/group.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - check for 0 byte overview.index files
	    - change ARTNUM (== unsigned long) to int in places where a
    test
	      like "if (i < 0)" is done (and sometimes, the other way
    around)
	    - Sanitize reply messages for bogus xover/xpat commands

Sun May 31 10:51:52 1998  <kondou>

  * configure.in (1.73):
  * configure (1.70):
    configure:
    configure.in:
	    - BUILD.in is removed
    BUILD.in:
    autoinsert.pl:
    developconfig.sh:
	    - removed

Sat May 30 16:00:06 1998  <kondou>

  * INSTALL (1.2):
    INSTALL:
	    - correct syntax
	    - add 'Ao' to sample entry for overchan

Sat May 30 15:46:59 1998  <kondou>

  * innd/nc.c (1.29):
    innd/nc.c:
	    - remove SET_SOCKOPT from config.data

Sat May 30 15:46:25 1998  <kondou>

  * include/configdata.h (1.34):
    include/configdata.h:
	    - remove SET_SOCKOPT from config.data

Sat May 30 15:45:58 1998  <kondou>

  * config/config.scoreboard (1.53):
    config/config.scoreboard:
	    - remove SET_SOCKOPT from config.data

Sat May 30 09:22:09 1998  <kondou>

  * site/getsafe.sh (1.4):
    site/getsafe.sh:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Do a cmp of files to determine if changed and touch site file
	      if no change

Fri May 29 14:32:14 1998  <kondou>

  * Makefile.global.in (1.17):
    Makefile.global.in:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    -  Fix bad variable termination error.

Fri May 29 06:12:37 1998  <kondou>

  * INSTALL (1.1):
    INSTALL:
	    - From: "Joshua M. Thompson" <om@mich.com>

Fri May 29 05:18:48 1998  <kondou>

  * samples/news.daily.in (1.23):
    samples/news.daily.in:
	    - didn't consider expire{over|index} when delayrm is specified

Fri May 29 02:39:50 1998  <kondou>

  * storage/overview.c (1.30):
    storage/overview.c:
	    - did not consider token->overlen is 0 when calling
    OVERcheckmmap()
	    - trashing last character in data when OVERretrieve() with
    overviewmmap
	      false is fixed

Fri May 29 00:56:28 1998  <kondou>

  * samples/inn.conf.in (1.5):
  * samples/rc.news.in (1.13):
    samples/inn.conf.in:
    samples/rc.news.in:
	    - delete '-i 0' for innd by default

Fri May 29 00:14:09 1998  <kondou>

  * samples/news.daily.in (1.22):
    samples/news.daily.in:
	    - if lowmark is specified, norenumber is also specified
    implicitly
	    - now expireover can be specified even if SAPI is defined and
    without
	      delayrm

Thu May 28 23:25:35 1998  <kondou>

  * samples/innreport.conf.in (1.5):
  * samples/innreport.in (1.13):
    samples/innreport.conf.in:
    samples/innreport.in:
	    - use MB or GB instead of Mb or Gb

Thu May 28 23:09:59 1998  <kondou>

  * storage/overview.c (1.29):
    storage/overview.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - As I wrote in a previous message, my expire process
    coredumpes. I've
	      finally managed to find what it is; a wrongly initialized
    variable in
	      storage/overview.c.

Thu May 28 14:13:10 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.27):
  * samples/inn.conf.in (1.4):
  * lib/getconfig.c (1.31):
  * include/libinn.h (1.34):
  * include/paths.h.in (1.22):
  * include/clibrary.h.in (1.3):
  * include/config.h.in (1.20):
  * include/innconf.h (1.1):
  * frontends/innconfval.c (1.12):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch removes a compiler warning and includes some (hopefully)
    improvements to the innconf setup. New file will be sent in a separate
    message.
    
    frontends/innconfval.c
     - allow a blank parameter in inn.conf
    
    include/clibrary.h.in
     - include limits.h if exists
    include/config.h.in
     - add possible definition for HAVE_LIMITS_H
    include/libinn.h
    include/paths.h.in
     - remove all the CONF parameters (now in separate include)
    
    lib/getconfig.c
     - include innconf.h
     - cleanup so that CONF defines match the parameter names
    
    inn.conf.in
     - blank parameters are now allowed. Default to NULL or empty string
     - a few cleanups with comments and positioning
    
    storage/cnfs/cnfs.c
     - remove duplicate include of configdata.h
     - move clibrary.h to be after configdata.h to pick up defines

Thu May 28 07:45:29 1998  <kondou>

  * innd/art.c (1.75):
    innd/art.c:
	    - revert DO_KEYWORDS (for systems that do not support regexec)

Thu May 28 07:42:39 1998  <kondou>

  * configure (1.69):
  * configure.in (1.72):
    configure.in:
    configure:
	    -  remove '--with-keywords' and just check regexec()

Thu May 28 03:29:34 1998  <kondou>

  * innfeed/Makefile (1.24):
    innfeed/Makefile:
	    - makinig startinnfeed.o erorr fixed

Thu May 28 03:01:15 1998  <kondou>

  * innfeed/startinnfeed.c (1.5):
    innfeed/startinnfeed.c:
	    - use sprintf() instead of snprintf(), and buffer is alloated
    by NEW()

Thu May 28 02:09:12 1998  <kondou>

  * lib/dbz.c (1.24):
    lib/dbz.c:
	    - From: Sang-yong Suh <sysuh@kigam.re.kr>
	    - It is intended to limit the massive "can't tag" warnings once
    per
	      dbzinit().
	    - Also, it supports larger than 1 gigabyte (still less than 2
    Gb)
	      history offset on a 32-bit machine.
	    - This patch is effective only for tagged-hash mode but not for
	      splitted hash method.

Wed May 27 23:49:56 1998  <kondou>

  * samples/news.daily.in (1.21):
    samples/news.daily.in:
	    - syntax error is fixed

Wed May 27 23:48:58 1998  <kondou>

  * storage/interface.c (1.28):
  * storage/overview.c (1.28):
    storage/interface.c:
	    - add index duplication check for each method
    storage/overview.c:
	    - bug fixed for dumping core of expire

Wed May 27 23:48:34 1998  <kondou>

  * site/Makefile (1.32):
    site/Makefile:
	    - From: Daniel Ryde <ryde@tripnet.se>
	    - Dont know if you want bugreports on inn v2.0beta, but this
    patch
	      applies to 1998-05-26_04-00 snapshot to make it install

Wed May 27 23:48:16 1998  <kondou>

  * nnrpd/article.c (1.38):
    nnrpd/article.c:
	    - From: Daniel Ryde <ryde@tripnet.se>
	    - Small fix to get nnrpd "next" command to work

Wed May 27 23:48:00 1998  <kondou>

  * include/clibrary.h.in (1.2):
  * include/dbz.h (1.12):
    include/clibrary.h.in:
    include/dbz.h:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - Modifies the include/clibrary.h.in file so the INADDR_NONE
    define is
	      not done on AIX (caused lib/perl.c to not compile).
	    - Modifies lib/dbz.h to make sure PACKED is defined before it
    is used.

Wed May 27 23:47:36 1998  <kondou>

  * expire/makehistory.c (1.41):
    expire/makehistory.c:
	    - add new option '-x' not to write history (this is used to
    rebuild
	      overview.index)

Wed May 27 23:46:45 1998  <kondou>

  * configure (1.68):
  * configure.in (1.71):
    configure.in:
    configure:
	    - From: "Francis Swasey" <fswasey@btv.ibm.com>
	    - Anyway, this patch will modify the configure script so the
    types of
	      free, malloc, and realloc are set correctly.

Wed May 27 00:10:23 1998  <kondou>

  * nnrpd/nnrpd.c (1.37):
    nnrpd/nnrpd.c:
	    - From: "Joshua M. Thompson" <om@mich.com>
	    - On a related note, trying to use the # of bits notation for
	      specifying address masks in nnrp.access is broken. The simple
	      patch below fixes the problem -- basically the value of
    "mask"
	      was in network order during the for() loop that generates the
	      bitmask, causing the loop to fail. Since network byte order
    is
	      big-endian the bug would only manifest itself on
    little-endian
	      systems, which may be why it has gone unnoticed until now.

Tue May 26 18:41:22 1998 James Brister <brister>

  * CONTRIBUTORS (1.8):
    Added Steve Carrie

Tue May 26 17:08:58 1998  <kondou>

  * innd/art.c (1.74):
    innd/art.c:
	    - declaratoin of wvec_freq_cmp(), wvec_length_cmp() and
    ptr_strcmp()
	      were not suitable for qsort()'s function

Tue May 26 16:11:15 1998  <kondou>

  * storage/overview.c (1.27):
    storage/overview.c:
	    - not mmap if overview file is null

Tue May 26 16:10:28 1998  <kondou>

  * expire/makehistory.c (1.40):
    expire/makehistory.c:
	    - not append unwanted '\0' trailing overview data (this broke
	      overview data)
	    - not mmap overview unless translate from history

Tue May 26 14:41:27 1998  <kondou>

  * innd/cc.c (1.40):
  * innd/art.c (1.73):
    innd/art.c:
    innd/cc.c:
	    - remove DO_KEYWORDS, DO_VERIFY_CANCELS and
    DO_LOG_CANCEL_COMMANDS
	      since they were already moved to inn.conf

Tue May 26 14:38:53 1998  <kondou>

  * include/configdata.h (1.33):
    include/configdata.h:
	    - remove DO_VERIFY_CANCELS and DO_LOG_CANCEL_COMMANDS since
	      they were already moved to inn.conf

Tue May 26 00:55:53 1998  <kondou>

  * storage/overview.c (1.26):
    storage/overview.c:
	    - handled return value of OVERopen() incorrectly

Mon May 25 22:42:30 1998  <kondou>

  * storage/overview.c (1.25):
  * storage/overview.h (1.3):
  * storage/buildconfig.in (1.2):
    storage/buildconfig.in:
	    - include clibrary.h in methods.h
    storage/overview.c:
	    - add new setup parameter 'OVER_PREOPEN'
	    - add overview length into token
	    - not mmap whole overview files
    storage/overview.h:
	    - add new setup parameter 'OVER_PREOPEN'
	    - add overview length into token

Mon May 25 22:41:19 1998  <kondou>

  * nnrpd/nnrpd.c (1.36):
  * nnrpd/nnrpd.h (1.22):
  * nnrpd/article.c (1.37):
  * nnrpd/misc.c (1.22):
    nnrpd/article.c:
	    - remove meaningless strerror
    nnrpd/misc.c:
	    - add overview length into token
    nnrpd/nnrpd.c:
	    - remove meaningless strerror
    nnrpd/nnrpd.h:
	    - move MAXOVERLINE definition to libinn.h

Mon May 25 22:40:19 1998  <kondou>

  * innd/his.c (1.28):
  * innd/innd.c (1.38):
  * innd/cc.c (1.39):
    innd/cc.c:
	    - add overview length into token
	    - remove meaningless strerror
    innd/his.c:
	    - add overview length into token
    innd/innd.c:
	    - remove meaningless strerror
	    - add new setup parameter 'OVER_PREOPEN'

Mon May 25 22:39:20 1998  <kondou>

  * include/storage.h (1.7):
  * include/dbz.h (1.11):
  * include/libinn.h (1.33):
    include/dbz.h:
	    - add overview length into token
    include/libinn.h:
	    - move MAXOVERLINE definition to libinn.h
	    - add overview length into token
	    - add new setup parameter 'OVER_PREOPEN'
    include/storage.h:
	    - add overview length into token

Mon May 25 22:38:29 1998  <kondou>

  * frontends/sm.c (1.10):
    frontends/sm.c:
	    - move MAXOVERLINE definition to libinn.h
	    - remove meaningless strerror

Mon May 25 22:38:01 1998  <kondou>

  * expire/grephistory.c (1.14):
  * expire/makehistory.c (1.39):
  * expire/expire.c (1.48):
    expire/expire.c:
	    - move MAXOVERLINE definition to libinn.h
	    - add overview length into token
	    - add new setup parameter 'OVER_PREOPEN'
	    - remove meaningless strerror
    expire/grephistory.c:
	    - add overview length into token
	    - remove meaningless strerror
    expire/makehistory.c:
	    - move MAXOVERLINE definition to libinn.h
	    - add overview length into token
	    - add new setup parameter 'OVER_PREOPEN'
	    - remove meaningless strerror

Sun May 24 03:24:57 1998  <kondou>

  * samples/news.daily.in (1.20):
    samples/news.daily.in:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - I forgot that the DO* variables are set to "false" or "true"
    instead
	      of empty or non-empty.

Sat May 23 03:42:18 1998  <kondou>

  * innfeed/connection.c (1.18):
    innfeed/connection.c:
	    - From: "Todd C. Miller" <Todd.Miller@courtesan.com>
	    - The innfeed included with inn-1998-05-17_04-00 still has a
    problem
	      where an assert can fail with "cxn->writeBlockedTimerId ==
    0".
	      Below is a message on the innfeed-users list talking about
    the
	      problem and a one-line patch that implements the described
    fix.

Sat May 23 00:59:59 1998  <kondou>

  * samples/incoming.conf (1.3):
    samples/incoming.conf:
	    - From: Aidan Cully <aidan@panix.com>
	    - docs for previous "poison" patch for incoming.conf

Fri May 22 07:57:44 1998  <kondou>

  * lib/getconfig.c (1.30):
    lib/getconfig.c:
	    - From: Michael Hall <mhall@riverside.org>
	    - I've had a couple of positive replies in response to my
    suggestion to
	      lower the logging level and none against so far so here is a
    patch to
	      change it.

Fri May 22 07:56:57 1998  <kondou>

  * backends/shrinkfile.c (1.2):
  * backends/actsync.c (1.16):
    backends/actsync.c:
    backends/shrinkfile.c:
	    - From: Michael Hall <mhall@riverside.org>
	    - I overlooked 'actsync.c' and 'shrinkfile.c' in the recent
    patch
	      to add the 'openlog()' calls, below is the patch for them. I
    think
	      thats all of them now :-).

Fri May 22 06:01:42 1998  <kondou>

  * storage/cnfs/cnfs.c (1.26):
    storage/cnfs/cnfs.c:
	    - If the number of article retrieval reaches 1000,
    CNFSArtMayBeHere()
	      always searches whole cycbuff to refresh CYCBUFFEXTERN and
    this
	      led the problem.

Fri May 22 06:00:06 1998  <kondou>

  * backends/innxmit.c (1.18):
    backends/innxmit.c:
	    - call SMsetup(SM_PREOPEN)

Fri May 22 04:31:29 1998  <kondou>

  * nnrpd/article.c (1.36):
    nnrpd/article.c:
	    - any command which can take range might have a problem when
	      retrieving the data for the article which does not exist

Fri May 22 00:01:08 1998  <kondou>

  * site/Makefile (1.31):
    site/Makefile:
	    - From: Michael Hall <mhall@riverside.org>
	    - Another small patch to add 'incoming.conf' to the 'REST' tag.
	      It wasn't being removed by 'make clean/clobber'.

Fri May 22 00:00:17 1998  <kondou>

  * samples/innwatch.ctl.in (1.4):
    samples/innwatch.ctl.in:
	    - From: Michael Hall <mhall@riverside.org>
	    - Heres a small patch to change 'out.going' -> 'outgoing' and
	      'over.view' -> 'overview' in 'samples/innwatch.ctl.in' to
    match
	      the default names used.

Thu May 21 23:59:18 1998  <kondou>

  * innd/rc.c (1.27):
  * innd/art.c (1.72):
  * innd/innd.h (1.37):
    innd/art.c:
    innd/innd.h:
    innd/rc.c:
	    - From: Aidan Cully <aidan@panix.com>
	    - This shouldn't count as a feature.  It allows one to use the
    '@'
	      syntax from newsfeeds in the incoming.conf, this has long
    been seen
	      as a shortcoming in INN, and it's very important for Usenet-2
    sites.

Thu May 21 15:40:15 1998  <kondou>

  * samples/scanlogs.in (1.18):
  * samples/news.daily.in (1.19):
    samples/news.daily.in:
    samples/scanlogs.in:
	    - news.daily report told last expire.log (the lastest log is
	      now attached)

Thu May 21 15:38:14 1998  <kondou>

  * innd/art.c (1.71):
    innd/art.c:
	    - nntplinklog was logartsize, and some cosmetic change

Thu May 21 15:37:21 1998  <kondou>

  * expire/newsrequeue.c (1.16):
    expire/newsrequeue.c:
	    - fix for storage api use
	    - consider the case that logartsize is on

Thu May 21 15:34:59 1998  <kondou>

  * backends/actsync.c (1.15):
    backends/actsync.c:
	    - read .overview.index to get lowmark and himark for storage
    api

Thu May 21 12:36:20 1998  <kondou>

  * innfeed/main.c (1.15):
    innfeed/main.c:
	    - LOG_PERROR is removed from openlog()

Thu May 21 12:30:32 1998 Marc Fournier <scrappy>

  * innfeed/startinnfeed.c (1.4):
    change #include "logging.h" to #include <syslog.h>

Thu May 21 12:25:36 1998 Marc Fournier <scrappy>

  * samples/innshellvars.in (1.15):
    Missed a NEWSUMASK removal

Thu May 21 10:21:44 1998  <kondou>

  * lib/getconfig.c (1.29):
    lib/getconfig.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - This corrects pathfilter in getconfig.c. BTW I think
    pathfilter and
	    - rnews.libexec should NOT be under /bin/ but oh well ..

Thu May 21 10:20:55 1998  <kondou>

  * lib/clientactive.c (1.5):
    lib/clientactive.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - My fix to clientactive.c was applied some time ago but
    there's
	      still a small error in it.

Thu May 21 10:18:34 1998  <kondou>

  * site/Makefile (1.30):
    site/Makefile:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - Here's a patch to integrate innfeed more into inn. It lets
    innfeed
	      and startinnfeed use inn.conf, fixes the manpages, and adds a
	      manpage for startinnfeed (yes, documentation..)

Thu May 21 10:17:25 1998  <kondou>

  * samples/storage.ctl (1.3):
  * samples/news.daily.in (1.18):
  * samples/innfeed.conf (1.1):
    samples/innfeed.conf:
    samples/news.daily.in:
    samples/newsfeeds:
    samples/storage.ctl:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - Here's a patch to integrate innfeed more into inn. It lets
    innfeed
	      and startinnfeed use inn.conf, fixes the manpages, and adds a
	      manpage for startinnfeed (yes, documentation..)
	    - Some patches to correct and extend the information in some
    samples
	      files.
	      In addition I added a few lines to news.daily to ensure one
    calls it
	      with consistent arguments - it took me long enough to figure
    out why
	      my news.daily didn't work, I'd prefer a clearer error
    message.

Thu May 21 10:14:48 1998  <kondou>

  * innfeed/tape.c (1.9):
  * innfeed/startinnfeed.c (1.3):
  * innfeed/misc.c (1.5):
  * innfeed/main.c (1.14):
  * innfeed/host.c (1.23):
  * innfeed/config.h (1.5):
  * innfeed/Makefile (1.23):
    innfeed/Makefile:
    innfeed/config.h:
    innfeed/host.c:
    innfeed/innfeed.conf:
    innfeed/main.c:
    innfeed/misc.c:
    innfeed/startinnfeed.c:
    innfeed/tape.c:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - Here's a patch to integrate innfeed more into inn. It lets
    innfeed
	      and startinnfeed use inn.conf, fixes the manpages, and adds a
	      manpage for startinnfeed (yes, documentation..)

Thu May 21 10:12:50 1998  <kondou>

  * doc/Makefile (1.28):
    doc/Makefile:
    doc/innfeed.1:
    doc/innfeed.conf.5:
    doc/startinnfeed.1:
	    - From: miquels@cistron.nl (Miquel van Smoorenburg)
	    - Here's a patch to integrate innfeed more into inn. It lets
    innfeed
	      and startinnfeed use inn.conf, fixes the manpages, and adds a
	      manpage for startinnfeed (yes, documentation..)

Thu May 21 06:02:41 1998  <kondou>

  * include/configdata.h (1.32):
    include/configdata.h:
	    - STRING and CSTRING are now defined at config.h
	    - OWNERSHIPS AND FILE MODES are now defined at config.h
	    - DO_HAVE_UNIX_DOMAIN is now defined at config.h

Thu May 21 05:59:57 1998  <kondou>

  * storage/timehash/timehash.c (1.22):
    storage/timehash/timehash.c:
	    - use syslog.h instead of logging.h

Thu May 21 05:58:35 1998  <kondou>

  * doc/Makefile (1.27):
    doc/Makefile:
	    - MANPAGESTYLE is defined at Makefile.global

Thu May 21 04:38:02 1998 Marc Fournier <scrappy>

  * configure.in (1.70):
  * include/config.h.in (1.19):
  * configure (1.67):
    Clean up the syslog FACILITY setting in configure

Thu May 21 04:07:14 1998 Marc Fournier <scrappy>

  * nnrpd/post.c (1.22):
  * lib/inndcomm.c (1.4):
  * lib/localopen.c (1.4):
  * lib/remopen.c (1.6):
  * innd/lc.c (1.6):
  * innd/rc.c (1.26):
  * innfeed/main.c (1.13):
  * include/config.h.in (1.18):
  * include/macros.h (1.3):
  * innd/cc.c (1.38):
  * config/config.scoreboard (1.52):
  * configure.in (1.69):
    HAVE_UNIX_DOMAIN_SOCKETS detected in configure...remove it from
    config.data
    and move it into config.h

Thu May 21 03:51:33 1998 Marc Fournier <scrappy>

  * samples/innshellvars.pl.in (1.15):
  * samples/innshellvars.tcl.in (1.13):
  * config/config.scoreboard (1.51):
  * include/config.h.in (1.17):
    Move "default" permissions to config.h, with a note to the effect that
    if
    UMASK is changed, it has to be changed in innshellvars* as well...

Thu May 21 03:41:24 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.50):
  * include/config.h.in (1.16):
  * configure.in (1.68):
  * Makefile.global.in (1.16):
  * configure (1.66):
    If I'm understanding autoconf and AC_C_CONST, if the check fails, then:
    
    typedef char const	    *STRING;
    typedef char * const    CSTRING;
    
    in config.h should become:
    
    typedef char *STRING;
    typedef char * CSTRING;
    
    i have no way of checking this...

Thu May 21 03:00:05 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.25):
  * storage/overview.c (1.24):
  * nnrpd/nnrpd.h (1.21):
  * nnrpd/perl.c (1.6):
  * storage/interface.c (1.27):
  * lib/getconfig.c (1.28):
  * lib/malloc.c (1.3):
  * lib/perl.c (1.6):
  * nnrpd/Makefile (1.18):
  * innd/timer.c (1.8):
  * innfeed/malloc.c (1.3):
  * innfeed/sysconfig.h (1.10):
  * innd/Makefile (1.30):
  * innd/innd.h (1.36):
  * innd/inndstart.c (1.13):
  * innd/status.c (1.10):
  * frontends/sm.c (1.9):
  * include/config.h.in (1.15):
  * frontends/Makefile (1.25):
  * frontends/ctlinnd.c (1.11):
  * frontends/getlist.c (1.7):
  * frontends/inews.c (1.11):
  * frontends/innconfval.c (1.11):
  * frontends/rnews.c (1.13):
  * expire/newsrequeue.c (1.15):
  * expire/prunehistory.c (1.9):
  * expire/expireover.c (1.15):
  * expire/fastrm.c (1.10):
  * expire/grephistory.c (1.13):
  * expire/makeactive.c (1.7):
  * expire/makehistory.c (1.38):
  * config/files.list (1.23):
  * expire/expire.c (1.47):
  * expire/expireindex.c (1.11):
  * backends/overchan.c (1.19):
  * config/config.scoreboard (1.49):
  * backends/innxbatch.c (1.7):
  * backends/innxmit.c (1.17):
  * backends/nntpget.c (1.10):
  * backends/buffchan.c (1.10):
  * backends/crosspost.c (1.9):
  * backends/cvtbatch.c (1.7):
  * backends/filechan.c (1.5):
  * backends/archive.c (1.10):
  * backends/batcher.c (1.7):
  * backends/Makefile (1.18):
  * configure.in (1.67):
  * MakeRnews (1.4):
  * configure (1.65):
  * MANIFEST (1.4):
    Remove logging.h header file, merge with config.h
    Remove LOG_*/syslog entries from config.scoreboard
    
    Have LOG_INN_* values auto-determined by configure

Thu May 21 02:32:53 1998 Marc Fournier <scrappy>

  * lib/getconfig.c (1.27):
    From: Michael Hall <mhall@riverside.org>
    
    Commit the "Reading from inn.conf..." patch

Thu May 21 02:24:36 1998 Marc Fournier <scrappy>

  * Makefile (1.14):
    Make sure 'make clobber' cleans out everything in samples that was
    auto-generated by configure...

Thu May 21 02:10:15 1998 Marc Fournier <scrappy>

  * frontends/getlist.c (1.6):
  * frontends/inews.c (1.10):
  * frontends/innconfval.c (1.10):
  * frontends/sm.c (1.8):
  * expire/makehistory.c (1.37):
  * expire/newsrequeue.c (1.14):
  * expire/prunehistory.c (1.8):
  * frontends/ctlinnd.c (1.10):
  * expire/expireindex.c (1.10):
  * expire/expireover.c (1.14):
  * expire/fastrm.c (1.9):
  * expire/grephistory.c (1.12):
  * expire/makeactive.c (1.6):
  * expire/expire.c (1.46):
  * backends/buffchan.c (1.9):
  * backends/cvtbatch.c (1.6):
  * backends/filechan.c (1.4):
  * backends/nntpget.c (1.9):
  * backends/overchan.c (1.18):
  * backends/archive.c (1.9):
    From: Michael Hall <mhall@riverside.org>
    
    1. 'openlog' patches all *.c files for INN programs that have any
    'syslog()'
       or 'ReadInnConf()' calls by adding '#include <logging.h>' and adding
    an
       'openlog()' early in 'main()'. Any programs that already had an
    existing
       'openlog()' line were left as is to avoid breaking anything.

Thu May 21 01:36:14 1998  <kondou>

  * lib/reservedfd.c (1.3):
    lib/reservedfd.c:
	    - check 1st argument of Fopen() before freopen()
	    - not to freopen() with NULL FILE

Thu May 21 01:34:19 1998  <kondou>

  * include/libinn.h (1.32):
    include/libinn.h:
	    - From: Russell Vincent <russellv@uk.uu.net>
	    - Further to my previous message, add the following patch to
	      include/libinn.h and you should be moving again.

Thu May 21 01:32:20 1998  <kondou>

  * frontends/rnews.c (1.12):
    frontends/rnews.c:
	    - From: Mark Hittinger <msh@FreeBSD.ORG>
	    - If RNEWSLOCALCONNECT is DONT then the call to OpenRemote
    needs "port".

Thu May 21 01:31:32 1998  <kondou>

  * contrib/fixhist (1.2):
    contrib/fixhist:
	    - base version is upgraded to 1.4 (by Michael Hucka)

Thu May 21 01:30:03 1998  <kondou>

  * configure (1.64):
  * configure.in (1.66):
    configure.in:
    configure:
	    - default --with-log-dir was PREFIX/news

Thu May 21 01:28:24 1998  <kondou>

  * innfeed/Makefile (1.22):
    innfeed/Makefile:
	    - From: Aidan Cully <aidan@panix.com>
	    - OK, done just about the same way as the current version does
    it, to
	      avoid rocking the boat.  That is, $D$(PATHWHATEVER) is
    ubiquitous
	      patch sent to inn-committers.

Thu May 21 01:27:38 1998  <kondou>

  * innd/Makefile (1.29):
    innd/Makefile:
	    - From: Aidan Cully <aidan@panix.com>
	    - OK, done just about the same way as the current version does
    it, to
	      avoid rocking the boat.  That is, $D$(PATHWHATEVER) is
    ubiquitous
	      patch sent to inn-committers.

Thu May 21 01:26:38 1998  <kondou>

  * backends/Makefile (1.17):
    backends/Makefile:
	    - From: Aidan Cully <aidan@panix.com>
	    - OK, done just about the same way as the current version does
    it, to
	      avoid rocking the boat.  That is, $D$(PATHWHATEVER) is
    ubiquitous
	      patch sent to inn-committers.

Wed May 20 14:55:21 1998 Marc Fournier <scrappy>

  * samples/inn.conf.in (1.3):
  * nnrpd/misc.c (1.21):
  * nnrpd/nnrpd.c (1.35):
  * lib/getconfig.c (1.26):
  * innd/inndstart.c (1.12):
  * include/paths.h.in (1.21):
  * frontends/getlist.c (1.5):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Convert the remaining use of Get{File|Boolean}ConfigValue()
    calls to use innconf.
    
    doc/inn.conf.5
     - add decnetdomain description
     - remove the '-' in the mime* parameters
    
    doc/libinn.3
    frontends/getlist.c
    innd/inndstart.c
     - Get{File|Boolean}ConfigValue() has become ReadInnConf()
    
    include/libinn.h
    include/paths.h.in
    lib/getconfig.c
    samples/inn.conf.in
     - add in some missing variables that used GetConfigValue()
    
    nnrpd/misc.c
     - convert back_* variables to innconf->backoff_* variables
    
    nnrpd/nnrpd.c
     - use innconf->decnetdomain

Wed May 20 12:52:50 1998 Marc Fournier <scrappy>

  * site/Makefile (1.29):
  * innfeed/Makefile (1.21):
  * innd/Makefile (1.28):
  * frontends/Makefile (1.24):
  * expire/Makefile (1.18):
  * doc/Makefile (1.26):
  * config/Makefile (1.15):
  * backends/Makefile (1.16):
  * Makefile (1.13):
  * MakeInews (1.3):
  * MakeLib (1.3):
  * MakeRnews (1.3):
    more lint cleanups

Wed May 20 12:46:14 1998 Marc Fournier <scrappy>

  * contrib/listoi.c (1.1):
  * contrib/cleanoi (1.1):
    From: Brian Murrell <Brian_Murrell@bctel.net>
    
    listoi.c
	    - lists the contents of an .overview.index file given a group
    name as
	      arg. 1
    
    cleanoi
	    - uses the output from listoi.c along with grephistory to
    create
	      a list suitable as an input to expireindex.

Wed May 20 12:41:02 1998 Marc Fournier <scrappy>

  * configure (1.63):
  * configure.in (1.65):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Still has problem with include/config.h, @NEWSMASTER@ etc.
    are not substituted.  I fixed this yesterday, but reverted.
    Attached fixes.

Wed May 20 12:20:21 1998 Marc Fournier <scrappy>

  * configure.in (1.64):
  * configure (1.62):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Patch to correct the configure defaults for SPOOLDIR and LOGDIR
    to the previously discussed hierarchy (/news/spool and /news/log).

Wed May 20 12:18:04 1998 Marc Fournier <scrappy>

  * syslog/syslog.c (1.3):
  * storage/timehash/Makefile (1.14):
  * storage/cnfs/Makefile (1.8):
  * storage/Makefile (1.26):
  * samples/innwatch.ctl.in (1.3):
  * nnrpd/Makefile (1.17):
  * lib/Makefile (1.23):
  * frontends/Makefile (1.23):
  * config/config.scoreboard (1.48):
  * config/files.list (1.22):
  * backends/Makefile (1.15):
  * backends/sendxbatches.sh.in (1.2):
  * Makefile.global.in (1.15):
    18 files left under subst control ...

Wed May 20 11:42:12 1998 Marc Fournier <scrappy>

  * lib/Makefile (1.22):
    Missed some lint related stuff..

Wed May 20 11:37:11 1998 Marc Fournier <scrappy>

  * storage/Makefile (1.25):
  * site/Makefile (1.28):
  * nnrpd/Makefile (1.16):
  * lib/Makefile (1.21):
  * innfeed/Makefile (1.20):
  * innd/Makefile (1.27):
  * frontends/Makefile (1.22):
  * expire/Makefile (1.17):
  * doc/Makefile (1.25):
  * backends/Makefile (1.14):
  * MakeLib (1.2):
  * MakeRnews (1.2):
  * Makefile.global.in (1.14):
  * MakeInews (1.2):
    First pass through at removing the LINT stuff from the Makefile(s)

Wed May 20 11:28:18 1998 Marc Fournier <scrappy>

  * syslog/syslog.c (1.2):
  * backends/sendxbatches.sh.in (1.1):
  * backends/actsyncd.sh.in (1.1):
  * backends/actmerge.sh.in (1.1):
  * configure.in (1.63):
  * configure (1.61):
    Clean up various 'subst' related warnings in backends shell scripts
    
    syslog/syslog.c:
	    - include config.h
	    - change size_t reference to SIZE_T

Wed May 20 11:19:55 1998 Marc Fournier <scrappy>

  * configure.in (1.62):
  * configure (1.60):
    Odd problem with generating include/config.h .. think its fixed now

Wed May 20 11:15:11 1998 Marc Fournier <scrappy>

  * include/configdata.h (1.31):
    FORK define moved to config.h and determined by configure
	    - this is untested, since I don't know of or have access to any
    machines with
	       a 'broken' vfork

Wed May 20 11:13:52 1998 Marc Fournier <scrappy>

  * include/clibrary.h.in (1.1):
  * configure.in (1.61):
  * configure (1.59):
    Aspects of clibrary.h are modified by autoconf

Wed May 20 10:08:05 1998 Marc Fournier <scrappy>

  * storage/qio.c (1.6):
  * lib/lockfile.c (1.4):
  * innfeed/tape.c (1.8):
  * lib/gettime.c (1.4):
  * innd/icd.c (1.10):
  * include/config.h.in (1.14):
  * include/mydir.h (1.2):
  * config/config.scoreboard (1.47):
  * configure.in (1.60):
  * configure (1.58):
    More config.data->configure cleanups
    Code changes so that DONT_HAVE_TM_GMTOFF is just
    !defined(HAVE_TM_GMTOFF)
    and similar changes for LOCK_* code

Wed May 20 03:24:23 1998 Marc Fournier <scrappy>

  * include/config.h.in (1.13):
  * include/configdata.h (1.30):
  * config/config.scoreboard (1.46):
  * configure.in (1.59):
  * configure (1.57):
    More cleanups...
    
    NBIO_* from config.data to configure/config.h

Wed May 20 02:45:38 1998 Marc Fournier <scrappy>

  * syslog/syslogd.c (1.2):
  * innfeed/sysconfig.h (1.9):
  * lib/waitnb.c (1.5):
  * nnrpd/nnrpd.c (1.34):
  * include/config.h.in (1.12):
  * include/configdata.h (1.29):
  * innfeed/main.c (1.12):
  * config/config.scoreboard (1.45):
  * doc/typical.subst (1.4):
  * backends/actsync.c (1.14):
  * configure.in (1.58):
  * configure (1.56):
    changes for detecting use of 'union wait', as well as changes to use
    '<sys/wait.h>' vs '<wait.h>'
	    ie. configure was trying to use <wait.h> for its internal
    tests, while
		just about everything else was using <sys/wait.h>

Wed May 20 01:50:16 1998  <kondou>

  * backends/actsync.c (1.13):
    backends/actsync.c:
	    - From: "Neal Rigney" <neal@pernet.net>
	    - Actsync coredumps with only one host argument.  Turns out no
	      ReadInnConf() happened before innconf was used.

Wed May 20 01:44:45 1998  <kondou>

  * Makefile.global.in (1.13):
    Makefile.global.in:
	    - NEWSGROUP is appended

Wed May 20 01:42:33 1998  <kondou>

  * samples/news.daily.in (1.17):
    samples/news.daily.in:
	    - scanlogs is invoked before expire

Wed May 20 01:41:33 1998  <kondou>

  * lib/reservedfd.c (1.2):
    lib/reservedfd.c:
	    - Fclose() did not free fp
	    - the code is arranged to be simpler

Wed May 20 01:38:56 1998  <kondou>

  * innd/art.c (1.70):
    innd/art.c:
	    - suppress bad_article message

Tue May 19 08:36:46 1998  <kondou>

  * innfeed/Makefile (1.19):
  * innfeed/main.c (1.11):
    innfeed/Makefile:
	    - LINTFLAGS is now defined in Makefile.global
    innfeed/main.c:
	    - call SMinit() only if innconf->storageapi is true

Tue May 19 08:36:21 1998  <kondou>

  * include/config.h.in (1.11):
  * include/paths.h.in (1.20):
    include/config.h.in:
	    - DONT_HAVE_TM_GMTOFF should be defined
	    - need quotation
    include/paths.h.in:
	    - _PATH_COMPRESS and _PATH_GZIP was not substituted

Tue May 19 08:35:42 1998  <kondou>

  * expire/expire.c (1.45):
  * expire/makehistory.c (1.36):
    expire/expire.c:
    expire/makehistory.c:
	    - call SMinit() only if innconf->storageapi is true

Tue May 19 08:35:11 1998  <kondou>

  * doc/Makefile (1.24):
    doc/Makefile:
	    - OWNER is now defined in Makefile.global

Tue May 19 08:34:50 1998  <kondou>

  * configure (1.55):
  * configure.in (1.57):
    configure.in:
    configure:
	    - bugs are fixed

Tue May 19 08:34:12 1998  <kondou>

  * config/config.scoreboard (1.44):
    config/config.scoreboard:
	    - _PATH_SH, _PATH_COMPRESS and _PATH_GZIP was not substituted

Tue May 19 08:33:55 1998  <kondou>

  * backends/innxmit.c (1.16):
    backends/innxmit.c:
	    - call SMinit() only if innconf->storageapi is true

Tue May 19 04:21:35 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.43):
  * include/config.h.in (1.10):
  * include/configdata.h (1.28):
  * configure.in (1.56):
  * configure (1.54):
    Have configure auto-detect msync() with 3 args
    remove from config.data

Tue May 19 04:04:10 1998 Marc Fournier <scrappy>

  * samples/innshellvars.pl.in (1.14):
  * samples/innshellvars.tcl.in (1.12):
  * samples/innshellvars.in (1.14):
  * configure.in (1.55):
  * configure (1.53):
    Revert gzip/compress changes back to having LOGS seperate compress from
    stuff like RNEWS

Tue May 19 03:52:48 1998 Marc Fournier <scrappy>

  * include/configdata.h (1.27):
  * include/config.h.in (1.9):
  * config/config.scoreboard (1.42):
  * configure.in (1.54):
  * configure (1.52):
    Remove CLX_STYLE from config.data

Tue May 19 03:14:11 1998 Marc Fournier <scrappy>

  * .now_do (1.2):
    Point out innfeed/config.h for now...should include include/config.h
    instead

Tue May 19 03:12:09 1998 Marc Fournier <scrappy>

  * include/config.h.in (1.8):
    From: SO Kwok Tsun <ktso@cuhk.edu.hk>
    
    I just noticed that include/config.h do not have HAVE_STRING_H and
    HAVE_MEMORY_H defined properly after running configure.  I am using
    FreeBSD 2.2.6.

Tue May 19 03:08:29 1998 Marc Fournier <scrappy>

  * include/config.h.in (1.7):
  * include/configdata.h (1.26):
  * config/config.scoreboard (1.41):
  * configure (1.51):
  * configure.in (1.53):
    More cleanups...
    
	    Remove LOCK_* from config.data

Tue May 19 02:59:33 1998 Marc Fournier <scrappy>

  * include/config.h.in (1.6):
  * config/config.scoreboard (1.40):
  * configure.in (1.52):
  * configure (1.50):
    Set DIR_DIRENT if dirent.h exists, else DIR_DIRECT in config.h
    Remove ST_BLKSIZE from config.data
    Remove TM_GMTOFF from config.data

Tue May 19 01:58:44 1998 Marc Fournier <scrappy>

  * samples/innshellvars.in (1.13):
  * samples/innshellvars.pl.in (1.13):
  * samples/innshellvars.tcl.in (1.11):
  * include/config.h.in (1.5):
  * include/configdata.h (1.25):
  * config/config.scoreboard (1.39):
  * configure.in (1.51):
  * configure (1.49):
  * Makefile.global.in (1.12):
    Add NEWSMASTER to configure
    Start working on configdata.h, which was overlooked

Mon May 18 23:41:09 1998  <kondou>

  * storage/overview.h (1.2):
  * storage/interface.c (1.26):
  * storage/overview.c (1.23):
    storage/interface.c:
	    - use Fopen() and Fclose() instead of fopen() and fclose()
    storage/overview.c:
    storage/overview.h:
	    - use Fopen() and Fclose() instead of fopen() and fclose()
	    - add new function to let OVERstore() buffers

Mon May 18 23:40:36 1998  <kondou>

  * lib/getconfig.c (1.25):
  * lib/reservedfd.c (1.1):
  * lib/Makefile (1.20):
  * lib/dbz.c (1.23):
    lib/Makefile:
	    - add new file reservedfd.c
    lib/dbz.c:
	    - remove unused FILE * from struct hash_table
	    - add new function dbzneedfilecount() to tell the number of fd
    for
	      fopen()
	    - use Fopen() and Fclose() instead of fopen() and fclose()
    lib/getconfig.c:
	    - use Fopen() and Fclose() instead of fopen() and fclose()
    lib/reservedfd.c:
	    - add new function Fopen() and Fclose() not to use fd over 255

Mon May 18 23:39:51 1998  <kondou>

  * innfeed/innlistener.c (1.8):
  * innfeed/connection.c (1.17):
    innfeed/connection.c:
    innfeed/innlistener.c:
	    - From: Per Hedeland <per@erix.ericsson.se>
	    - When using funnel file input to innfeed, and you have a
    system
	      crash, there seems to be a large probability that you end up
    with
	      a bunch of NUL characters in the funnel file. Innfeed deals
    very
	      badly with this, inasmuch as it will stop sending anything
    out and
	      just keep reading the funnel file into memory forever. The
    problem
	      is also present when using a channel feed of course, but
    probably
	      far less likely to occur.
    
	      The patches below deal with this by making innfeed exit after
	      logging an error message if there are any NULs in the input -
    they
	      have been tested as far as possible by both myself and John
    Line
	      - we've both been hit twice recently by the behaviour
    described
	      above. They were originally against innfeed-0.10.1.7 which
    we're
	      running, but have been converted to the version in
	      inn-1998-05-11_04-00, which seems identical in this respect.
    
	    - There are also a couple of more-or-less unrelated changes in
    the
	      patch:
    
	    - Innfeed used memcpy() for (potentially) overlapping copies,
    which
	      is a no-no of course - I guess this hasn't caused problems
    because
	      most implementations probably manage it in the "downward"
	      direction and/or the copy in practice rarely/never really is
	      overlapping.
    
	    - I think innfeed packing up and going home warrants a LOG_CRIT
	      (meaning that if you run innwatch it will send you mail about
    it).

Mon May 18 23:39:13 1998  <kondou>

  * innd/ng.c (1.12):
  * innd/rc.c (1.25):
  * innd/status.c (1.9):
  * innd/cc.c (1.37):
  * innd/his.c (1.27):
  * innd/innd.c (1.37):
  * innd/art.c (1.69):
    innd/art.c:
    innd/cc.c:
    innd/his.c:
    innd/innd.c:
    innd/ng.c:
    innd/rc.c:
    innd/status.c:
	    - use Fopen() and Fclose() instead of fopen() and fclose()
	    - offset type is now OFFSET_T
	    - reserve fd for fopen()

Mon May 18 23:38:22 1998  <kondou>

  * include/libinn.h (1.31):
    include/libinn.h:
	    - add some definition for fdopen() for reserved fd
	    - add news type 'OVER_BUFFERED' into OVERSETUP
	    - offset type is now OFFSET_T
	    - add prototype for dbzneedfilecount()
	    - add prototype for fdreserve(), Fopen() and Fclose()

Mon May 18 23:37:32 1998  <kondou>

  * expire/expire.c (1.44):
  * expire/makehistory.c (1.35):
    expire/expire.c:
    expire/makehistory.c:
	    - offset type is now OFFSET_T
	    - let OVERstore() buffers

Mon May 18 23:37:02 1998  <kondou>

  * configure.in (1.50):
  * configure (1.48):
    configure.in:
    configure:
	    - subst ac_cv_subst_innwatch_df (sysuh@kigam.re.kr)

Mon May 18 23:30:16 1998 Marc Fournier <scrappy>

  * samples/version.in (1.11):
  * samples/writelog.in (1.6):
  * samples/sendbatch.in (1.9):
  * samples/sendme.in (1.10):
  * samples/sendsys.in (1.9):
  * samples/senduuname.in (1.9):
  * samples/tally.control.in (1.6):
  * samples/rmgroup.in (1.10):
  * samples/scanlogs.in (1.17):
  * samples/scanspool.in (1.9):
  * samples/send-ihave.in (1.7):
  * samples/send-nntp.in (1.7):
  * samples/send-uucp.in (1.8):
  * samples/news.daily.in (1.16):
  * samples/nntpsend.in (1.9):
  * samples/parsecontrol.in (1.15):
  * samples/pgpverify.in (1.13):
  * samples/rc.news.in (1.12):
  * samples/innshellvars.pl.in (1.12):
  * samples/innshellvars.tcl.in (1.10):
  * samples/innstat.in (1.9):
  * samples/innwatch.ctl.in (1.2):
  * samples/innwatch.in (1.7):
  * samples/newgroup.in (1.9):
  * samples/innreport.conf.in (1.4):
  * samples/innreport.in (1.12):
  * samples/innshellvars.in (1.12):
  * samples/docheckgroups.in (1.8):
  * samples/expirerm.in (1.8):
  * samples/ihave.in (1.9):
  * samples/inncheck.in (1.10):
  * samples/innmail.in (1.8):
  * samples/actsync.cfg.in (1.2):
  * samples/checkgroups.in (1.10):
  * samples/default.in (1.9):
  * configure.in (1.49):
  * include/paths.h.in (1.19):
  * Makefile.global.in (1.11):
  * configure (1.47):
    Try and catch everything ETCDIR related before ppl start to test...

Mon May 18 23:05:02 1998 Marc Fournier <scrappy>

  * samples/inn.conf.in (1.2):
  * configure (1.46):
  * configure.in (1.48):
  * makedirs.sh.in (1.5):
  * Makefile.global.in (1.10):
    Make changes such that configure allows for:
    
	    --with-etc-dir
	    --with-db-dir
	    --with-run-dir
    
    So that you can move those around/set them at compile time

Mon May 18 22:29:48 1998 Marc Fournier <scrappy>

  * storage/timehash/Makefile (1.13):
  * storage/Makefile (1.24):
  * storage/cnfs/Makefile (1.7):
  * innd/Makefile (1.26):
  * lib/Makefile (1.19):
  * nnrpd/Makefile (1.15):
  * frontends/Makefile (1.21):
  * include/configdata.h (1.24):
  * doc/Makefile (1.23):
  * expire/Makefile (1.16):
  * backends/Makefile (1.13):
  * config/config.scoreboard (1.38):
  * Makefile.global.in (1.9):
    More cleanups:
    
	    Move CTAGS/LINT/PROF related stuff to Makefile.global from
    config.data

Mon May 18 22:11:51 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.37):
  * configure.in (1.47):
  * configure (1.45):
    Remove MAN directories from config.score, since they aren't used there
    
    Have configure check and set string.h and memory.h in
    include/clibrary.h

Mon May 18 21:58:19 1998 Marc Fournier <scrappy>

  * site/Makefile (1.27):
  * storage/Makefile (1.23):
  * storage/cnfs/Makefile (1.6):
  * storage/timehash/Makefile (1.12):
  * innfeed/Makefile (1.18):
  * lib/Makefile (1.18):
  * nnrpd/Makefile (1.14):
  * doc/Makefile (1.22):
  * expire/Makefile (1.15):
  * frontends/Makefile (1.20):
  * innd/Makefile (1.25):
  * backends/Makefile (1.12):
  * config/config.scoreboard (1.36):
  * configure (1.44):
  * configure.in (1.46):
  * .now_do (1.1):
  * Makefile.global.in (1.8):
    P (parellelism of make) is defined in Makefile.global now
    
    Add a note (.now_do) to the end of configure to point ppl at the three
    files
    (that I'm aware of at this point) that should be checked after
    configure is
    finished running before proceeding with a make

Mon May 18 17:30:56 1998 Marc Fournier <scrappy>

  * include/paths.h.in (1.18):
  * samples/innshellvars.in (1.11):
  * samples/innshellvars.pl.in (1.11):
  * samples/innshellvars.tcl.in (1.9):
  * Makefile.global.in (1.7):
  * makedirs.sh.in (1.4):
    various cleanups prompted by Uli Zappe
    <uli@tallowcross.uni-frankfurt.de>
    to the configure system...

Sat May 16 17:23:14 1998 Marc Fournier <scrappy>

  * storage/buildconfig (1.6):
  * samples/inn.conf.in (1.1):
  * configure.in (1.45):
  * configure (1.43):
    Autogenerate a pathhost based on 'uname -n'
    make changes to inn.conf for various paths via configure

Thu May 14 03:55:54 1998  <kondou>

  * storage/interface.c (1.25):
  * storage/interface.h (1.10):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/interface.c:
    storage/interface.h:
	    - add new function SMsetup() to specify open mode or open
    timing

Thu May 14 03:55:25 1998  <kondou>

  * storage/cnfs/cnfs-private.h (1.7):
  * storage/cnfs/cnfs.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/cnfs/cnfs-private.h:
	    - use one fd for each cycbuff
    storage/cnfs/cnfs.c:
	    - use just one fd for each cycbuff
	    - specify open mode and open timing
	    - "length not matched ..." line removed

Thu May 14 03:54:53 1998  <kondou>

  * lib/getconfig.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    lib/getconfig.c:
	    - allowreaders was incorrectly set

Thu May 14 03:54:19 1998  <kondou>

  * innfeed/sysconfig.h (1.8):
  * innfeed/main.c (1.10):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    innfeed/main.c:
	    - add new function SMsetup() to specify open mode or open
    timing
    innfeed/sysconfig.h:
	    - use '__SVR4' instead of __svr4__ (for solaris)

Thu May 14 03:53:08 1998  <kondou>

  * innd/innd.c (1.36):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    innd/innd.c:
	    - add new function SMsetup() to specify open mode or open
    timing

Thu May 14 03:52:40 1998  <kondou>

  * include/storage.h (1.6):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    include/clibrary.h:
	    - use '__SVR4' instead of __svr4__ (for solaris)
	    - define strtoul for SunOS
    include/storage.h:
	    - add new function SMsetup() to specify open mode or open
    timing

Thu May 14 03:52:06 1998  <kondou>

  * frontends/sm.c (1.7):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    frontends/sm.c:
	    - add new function SMsetup() to specify open mode or open
    timing

Thu May 14 03:51:36 1998  <kondou>

  * expire/makehistory.c (1.34):
  * expire/expire.c (1.43):
  * expire/fastrm.c (1.8):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/expire.c:
    expire/fastrm.c:
	    - add new function SMsetup() to specify open mode or open
    timing
    expire/makehistory.c:
	    - add new function SMsetup() to specify open mode or open
    timing
	    - '-r' did not work for non-storage api

Tue May 12 06:22:08 1998  <kondou>

  * nnrpd/article.c (1.35):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/article.c:
	    - article cannot be retrieved with traditional spool

Tue May 12 06:19:54 1998  <kondou>

  * lib/dbz.c (1.22):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    lib/dbz.c:
	    - set errno to 0 before read()

Tue May 12 02:28:00 1998  <kondou>

  * samples/news.daily.in (1.15):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    samples/news.daily.in:
	    - lowmark was skipped if ${RMFILE} was empty

Tue May 12 02:09:29 1998  <kondou>

  * nnrpd/nnrpd.h (1.20):
  * nnrpd/group.c (1.23):
  * nnrpd/misc.c (1.20):
  * nnrpd/article.c (1.34):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/article.c:
    nnrpd/group.c:
    nnrpd/misc.c:
    nnrpd/nnrpd.h:
	    - The first patch is to misc.c, it fixes a bug where the
    history file
	      pointer can be closed even when it is NULL, which on my
    system causes
	      nnrpd to crash when changing groups. This is caused by
    OVERgetent
	      setting the setup flag without opening the history text file.
    (from
	      "Joshua M. Thompson" <om@mich.com>)
	    - article whoes overview is already sent cannot be retireved
	      (thanks "Joshua M. Thompson" <om@mich.com>)

Tue May 12 02:04:55 1998  <kondou>

  * lib/getconfig.c (1.23):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    lib/getconfig.c:
	    - remove syslog("Reading config from ...") line

Mon May 11 20:54:38 1998 <mibsoft>

  * storage/cnfs/cnfs.c (1.23):
    32 bit safe arithmetic when operating close to CNFS buffer size.
    
    Problem reported by Marc Hittinger, who suggested a fix with
    some temporary variables.  Instead, I changed the expression to
    avoid the problem:
    !	  if (cycbuff->free + article.len > cycbuff->len - CNFS_BLOCKSIZE -
    1) {
    
    changed to:
    !	  if (article.len > cycbuff->len - cycbuff->free - CNFS_BLOCKSIZE -
    1) {
    
    Forrest

Mon May 11 06:09:16 1998  <kondou>

  * storage/cnfs/cnfs.c (1.22):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/cnfs/cnfs.c:
	    - From: Matt Stein <matt@ican.net>
	    - I have noticed that INN 2.0 configures fine, but does not
	      compile on HPUX.	Below, are some patches that are required
	      to compile.  I don't know what this does on any other OS',
	      but it does fix the problems under HPUX.	I hope someone
	      has time to look through, and include these.

Mon May 11 06:06:30 1998  <kondou>

  * samples/inncheck.in (1.9):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    samples/inn.conf:
    samples/inncheck.in:
	    - new parameter 'nnrpdoverstats' is added to inn.conf
	    - overview stats for nnrpd will be logged to syslog with this
	      parameter

Mon May 11 06:05:27 1998  <kondou>

  * nnrpd/nnrpd.c (1.33):
  * nnrpd/article.c (1.33):
  * nnrpd/misc.c (1.19):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/article.c:
	    - consider non-storage api
	    - read dbz file for each article (not at a time)
    nnrpd/misc.c:
	    - new parameter 'nnrpdoverstats' is added to inn.conf
	    - overview stats for nnrpd will be logged to syslog with this
	      parameter
	    - entrysize is calculated
	    - use lseek() for read() (thanks sysuh)
	    - check '\n' in the buffer instead of return value of read()
	      (thanks Aidan Cully)
    nnrpd/nnrpd.c:
	    - new parameter 'nnrpdoverstats' is added to inn.conf
	    - overview stats for nnrpd will be logged to syslog with this
	      parameter

Mon May 11 06:04:06 1998  <kondou>

  * lib/parsedate.y (1.3):
  * lib/dbz.c (1.21):
  * lib/getconfig.c (1.22):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    lib/getconfig.c:
	    - new parameter 'nnrpdoverstats' is added to inn.conf
	    - overview stats for nnrpd will be logged to syslog with this
	      parameter
    lib/dbz.c:
	    - use lseek() and read() for small size buffer instead of
    fseek()
	      and fread()
    lib/parsedate.y:
	    - From: Matt Stein <matt@ican.net>
	    - I have noticed that INN 2.0 configures fine, but does not
	      compile on HPUX.	Below, are some patches that are required
	      to compile.  I don't know what this does on any other OS',
	      but it does fix the problems under HPUX.	I hope someone
	      has time to look through, and include these.

Mon May 11 06:02:41 1998  <kondou>

  * innfeed/configfile.y (1.7):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    innfeed/configfile.y:
	    - From: Matt Stein <matt@ican.net>
	    - I have noticed that INN 2.0 configures fine, but does not
	      compile on HPUX.	Below, are some patches that are required
	      to compile.  I don't know what this does on any other OS',
	      but it does fix the problems under HPUX.	I hope someone
	      has time to look through, and include these.

Mon May 11 06:01:56 1998  <kondou>

  * include/paths.h.in (1.17):
  * include/dbz.h (1.10):
  * include/libinn.h (1.30):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    include/dbz.h:
	    - From: Matt Stein <matt@ican.net>
	    - I have noticed that INN 2.0 configures fine, but does not
	      compile on HPUX.	Below, are some patches that are required
	      to compile.  I don't know what this does on any other OS',
	      but it does fix the problems under HPUX.	I hope someone
	      has time to look through, and include these.
    include/libinn.h:
    include/paths.h.in:
	    - new parameter 'nnrpdoverstats' is added to inn.conf
	    - overview stats for nnrpd will be logged to syslog with this
	      parameter

Sun May 10 00:52:13 1998  <kondou>

  * samples/news.daily.in (1.14):
    From: kondou@nec.co.jp
    
    samples/news.daily.in:
	    - expire.index.rm was never sorted if expire.rm is null

Sat May 09 13:28:23 1998  <kondou>

  * samples/inncheck.in (1.8):
    From: Michael Hall <mhall@riverside.org>
    
    samples/inncheck.in:
    
    Heres a patch for 'inncheck' to get rid of the error messages it
    currently gives regarding 'hosts.nntp' (no longer used in INN 2.0)
    and a few 'unknown keywords' in 'inn.conf'.
      It just changes all references from 'hosts.nntp' to 'incoming.conf',
    and has a dummy subroutine (just returns 1) for checking the syntax
    of 'incoming.conf' for now. I also added lines for the 'unknown
    keywords' to match the keywords currently in 'inn.conf'.
    
    nnrpdposthost and extendeddbz is still needed (by kondou@nec.co.jp)

Sat May 09 13:25:10 1998  <kondou>

  * nnrpd/nnrpd.c (1.32):
    From: David Carmean <dlc@avtel.net> and with some modification by
	  kondou@nec.co.jp
    
    nnrpd/nnrpd.c:
	    - If unable to resolve ip address to hostname, nnrp access
	      denied regardless of IP entries in nnrp.access.  Was
	      calling PERMinfile with bogus ClientAddr.

Fri May 08 06:15:39 1998  <kondou>

  * lib/dbz.c (1.20):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    lib/dbz.c:
	    - include clibrary.h before md5.h

Fri May 08 06:01:31 1998  <kondou>

  * nnrpd/nnrpd.c (1.31):
  * nnrpd/nnrpd.h (1.19):
  * nnrpd/commands.c (1.17):
  * nnrpd/group.c (1.22):
  * nnrpd/misc.c (1.18):
  * nnrpd/article.c (1.32):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/article.c:
    nnrpd/commands.c:
    nnrpd/group.c:
    nnrpd/misc.c:
    nnrpd/nnrpd.c:
    nnrpd/nnrpd.h:
	    - include overview offset into dbz
	    - change dbm* to dbz*

Fri May 08 06:00:40 1998  <kondou>

  * lib/md5.c (1.4):
  * include/md5.h (1.3):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    include/md5.h:
    lib/md5.c:
	    - use U_INT32_T

Fri May 08 06:00:02 1998  <kondou>

  * expire/expire.c (1.42):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/expire.c:
	    - include overview offset into dbz
	    - change dbm* to dbz*
	    - lowmark problem fixed
	    - chdir() to pathoverview if storageapi is on

Fri May 08 05:58:46 1998  <kondou>

  * lib/getconfig.c (1.21):
  * include/libinn.h (1.29):
  * include/paths.h.in (1.16):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/inn.conf.5:
    include/libinn.h:
    include/paths.h.in:
    lib/getconfig.c:
    samples/inn.conf:
	    - extendeddbz is added to include overview offset into dbz

Fri May 08 05:57:07 1998  <kondou>

  * expire/grephistory.c (1.11):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/grephistory.1:
    expire/grephistory.c:
	    - include overview offset into dbz
	    - change dbm* to dbz*
	    - add new options for overview

Fri May 08 05:55:14 1998  <kondou>

  * storage/overview.c (1.22):
  * lib/dbz.c (1.19):
  * innd/his.c (1.26):
  * innd/innd.h (1.35):
  * innd/art.c (1.68):
  * innd/cc.c (1.36):
  * include/dbz.h (1.9):
  * expire/newsrequeue.c (1.13):
  * expire/prunehistory.c (1.7):
  * expire/makehistory.c (1.33):
  * backends/nntpget.c (1.8):
  * backends/innxmit.c (1.15):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    backends/innxmit.c:
    backends/nntpget.c:
    doc/dbz.3:
    expire/makehistory.c:
    expire/newsrequeue.c:
    expire/prunehistory.c:
    include/dbz.h:
    innd/art.c:
    innd/cc.c:
    innd/his.c:
    innd/innd.h:
    lib/dbz.c:
    storage/overview.c:
	    - include overview offset into dbz
	    - change dbm* to dbz*

Fri May 08 04:51:20 1998  <kondou>

  * storage/cnfs/cnfs.c (1.21):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    storage/cnfs/cnfs.c:
	    - there was a problem if cycnum is 1 in cnfs_next()

Thu May 07 14:24:55 1998 James Brister <brister>

  * CONTRIBUTORS (1.7):
    Updated Clayton's entry

Tue May 05 19:54:12 1998 James Brister <brister>

  * CONTRIBUTORS (1.6):
    More additions and a change.

Tue May 05 18:14:34 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.21):
  * storage/interface.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/interface.c:
    storage/overview.c:
	    - SMshutdown() and OVERshutdown() may be registered more than
    once

Tue May 05 18:07:51 1998 Marc Fournier <scrappy>

  * expire/expire.c (1.41):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/expire.c:
	    - set "w" for newly created overview data

Mon May 04 15:57:48 1998 Marc Fournier <scrappy>

  * frontends/getlist.c (1.4):
    Add a '-p port' switch to getlist.

Mon May 04 13:38:46 1998  <barr>

  * CONTRIBUTORS (1.5):
    A small update on my attribution entry

Mon May 04 12:56:07 1998 James Brister <brister>

  * CONTRIBUTORS (1.4):
    More updates.

Mon May 04 07:50:14 1998 James Brister <brister>

  * CONTRIBUTORS (1.3):
    More misc additions/changes.

Mon May 04 07:36:02 1998 James Brister <brister>

  * CONTRIBUTORS (1.2):
    Noted some more people's contributions.

Sat May 02 19:51:22 1998 Marc Fournier <scrappy>

  * samples/control.ctl (1.6):
    From: Per Hedeland <per@erix.ericsson.se>
    
    Sorry for this rather non-technical interruption, but we've started up
    anew national hierarchy se.* over here in Sweden, and it would be
    reallyappreciated if the config info for it could be included in
    thecontrol.ctl that will presumably ship with the 2.0 release,
    throughsomeone with the appropriate powers applying the patch below.
    The goal
    is that it should eventually replace swnet.*, but through evolution
    rather than "great renaming", so swnet.* should be left in for the time
    being.

Tue Apr 28 20:47:01 1998 David C Lawrence <tale>

  * samples/moderators (1.2):
    Direct all public hierarchies to the master moderator database.
    
    moderators.uu.net -> moderators.isc.org

Tue Apr 28 20:37:46 1998 David C Lawrence <tale>

  * samples/control.ctl (1.5):
    Changed sfnet control message sender to hmj@kuukkeli.cs.tut.fi
    (Hannu-Matti Jrvinen) per Lars Wirzenius <liw@iki.fi>.

Tue Apr 28 12:04:10 1998 Marc Fournier <scrappy>

  * innfeed/tape.c (1.7):
  * innfeed/connection.c (1.16):
  * innfeed/config.h (1.4):
  * innfeed/article.c (1.15):
  * innd/nc.c (1.28):
  * innd/innd.h (1.34):
  * innd/chan.c (1.25):
  * innd/art.c (1.67):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    innd/art.c:
	    - fixing parsing xref header
    innd/chan.c:
	    - Waker for SCHANadd() should be FUNCPTR
	    - changed to ANSI C style
    innd/innd.h:
	    - Waker for SCHANadd() should be FUNCPTR
    innd/nc.c:
	    - second arg type for NCwritereply() was mismatched
	    - NCwritereply() needs no length
	    - changed to ANSI C style
    innfeed/article.c:
	    - type mismatched
    innfeed/config.h:
	    - must be boolean value
    innfeed/connection.c:
	    - type mismatched
    innfeed/tape.c:
	    - type mismatched

Mon Apr 27 13:18:26 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.20):
  * storage/interface.c (1.23):
  * nnrpd/post.c (1.21):
  * nnrpd/nnrpd.c (1.30):
  * nnrpd/misc.c (1.17):
  * nnrpd/article.c (1.31):
  * lib/getfqdn.c (1.5):
  * frontends/encode.c (1.2):
  * expire/makehistory.c (1.32):
  * backends/nntpget.c (1.7):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/makehistory.c:
	    - QIOclose() should be called before return
    frontends/encode.c:
	    - cast needed since argument type is different
    backends/nntpget.c:
	    - DISPOSE unallocated space
    nnrpd/article.c:
	    - cast position changed
    nnrpd/misc.c:
	    - function type is void
	    - argument type should be time_t
    nnrpd/nnrpd.c:
	    - cast needed since argument type is different
    nnrpd/post.c:
	    - cast needed since argument type is different
    lib/getfqdn.c:
	    - clibrary.h should be included after netdb.h since INADDR_NONE
	      may be redefined
    storage/interface.c:
	    - SMnext() might refer illegal method_data
	    - return FALSE if SMcancel() fails
    storage/overview.c:
	    - cast position changed
	    - remove meaningless comparison

Mon Apr 27 12:47:49 1998 Marc Fournier <scrappy>

  * contrib/fixhist (1.1):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    contrib/fixhist:
	    - handle new history format

Mon Apr 27 12:46:14 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.20):
  * nnrpd/post.c (1.20):
  * nnrpd/nnrpd.c (1.29):
  * lib/getconfig.c (1.20):
  * innd/innd.c (1.35):
  * innd/cc.c (1.35):
  * include/libinn.h (1.28):
  * include/paths.h.in (1.15):
  * frontends/rnews.c (1.11):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/inn.conf.5:
    frontends/rnews.c:
    include/libinn.h:
    include/paths.h.in:
    innd/cc.c:
    innd/innd.c:
    lib/getconfig.c:
    nnrpd/nnrpd.c:
    nnrpd/post.c:
    samples/inn.conf:
	    - xrefslave is back to boolean value
	    - nnrpdposthost is added to specify master (this is independent
	      of xrefslave)
    storage/cnfs/cnfs.c:
	    - use strtoul() instead of atoi()
	    - if S_ISREG() true, check the size
	    - if the size is less than CYCBUFFEXTERN, cnfs_init() fails
	    - if the size is not matched, just logs it
	    - call SMseterror(), if cnfs_init() fails
	    - if cycbuffname not found when article retrieval, just claim
    once

Sat Apr 25 18:20:16 1998 Marc Fournier <scrappy>

  * nnrpd/misc.c (1.16):
  * nnrpd/nnrpd.h (1.18):
  * expire/makehistory.c (1.31):
  * nnrpd/group.c (1.21):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/makehistory.c:
	    - do not create index data if overview data is not created
    nnrpd/group.c:
    nnrpd/misc.c:
    nnrpd/nnrpd.h:
	    - close history and dbz files if history is replaced when
	      'group' command is issued (this is not complete, but open
	      and close history files so often may cause bad performance)

Sat Apr 25 18:18:59 1998 Marc Fournier <scrappy>

  * samples/innreport_inn.pm (1.4):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    samples/innreport_inn.pm:
	    - missing ';'

Fri Apr 24 18:48:59 1998 Marc Fournier <scrappy>

  * samples/innreport.in (1.11):
    From: Fabien Tassin <fta@oleane.net>
    
    According to Fabien Tassin:
    
    > Follow a patch for innreport.
    >
    > samples/innreport.in:
    >	- add '-notdaily' to avoid daily actions (such as unwanted.log
    changes)
    >	  when not needed. This allow hourly/daily/weekly reports.
    >	- change the major version.
    
    oops.. small problem. (& vs &&). Use this patch instead.

Fri Apr 24 17:56:00 1998 Marc Fournier <scrappy>

  * frontends/rnews.c (1.10):
  * expire/expire.c (1.40):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/rnews.1:
    frontends/rnews.c:
	    - '-S' is removed and use xrefslave instead
    expire/expire.c:
	    - still remain old data even if article is canceled
	      (for articles stored thru storage api)

Fri Apr 24 11:57:21 1998 Marc Fournier <scrappy>

  * samples/innreport_inn.pm (1.3):
  * samples/innreport.conf.in (1.3):
  * nnrpd/article.c (1.30):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/expire.ctl.5:
	    - describe class expiration more precisely
    nnrpd/article.c:
	    - call OVERclose() just after the response is written
    samples/innreport.conf.in:
	    - innreport referred ${MOST_LOGS}/news/unwanted.log
    samples/innreport_inn.pm:
	    - unlink useless file

Thu Apr 23 13:25:41 1998 <mibsoft>

  * samples/incoming.conf (1.2):
    samples/incoming.conf:
	    - @ is not usable
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 23 Apr 1998 21:07:26 +0900

Thu Apr 23 12:52:21 1998 <mibsoft>

  * nnrpd/newnews.c (1.8):
    nnrpd/newnews.c:
	    - newnews code for storage api
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 23 Apr 1998 14:37:05 +0900

Tue Apr 21 13:50:28 1998 <mibsoft>

  * samples/rc.news.in (1.11):
    samples/rc.news.in:
	    - missing '{'
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Tue, 21 Apr 1998 22:34:24 +0900

Tue Apr 21 13:49:56 1998 <mibsoft>

  * README.perl_hook (1.4):
    Attached is the documentation correction.
    
    
    Install.ms.1:
    README.perl_hook:
    doc/innd.8:
	    - description corrected
    samples/rc.news.in:
	    - missing '{'
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Tue, 21 Apr 1998 22:34:24 +0900

Tue Apr 21 04:29:56 1998 Marc Fournier <scrappy>

  * innd/innd.h (1.33):
  * innd/newsfeeds.c (1.18):
  * innd/art.c (1.66):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    I've added new check 'o' for flag 'A' in newsfeeds.
    Attached makes it possible to not to propagate message
    if overview data is not written to unified overview.
    This can simplify overview setup in newsfeeds.
    
    doc/ctlinnd.8:
	    - description is corrected (addhist, cancel, newgroup and
    rmgroup)
    
    doc/newsfeeds.5:
    doc/overchan.8:
    innd/art.c:
    innd/innd.h:
    innd/newsfeeds.c:
	    - add new check 'o' for flag 'A'

Mon Apr 20 00:12:17 1998 Marc Fournier <scrappy>

  * innd/innd.c (1.34):
  * innd/innd.h (1.32):
  * innd/cc.c (1.34):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    innd/cc.c:
    innd/innd.c:
    innd/innd.h:
	    - if Mode is OMthrottled by io error or OMpaused,
	      reject addhist, cancel, newgroup and rmgroup

Sun Apr 19 04:37:37 1998 Marc Fournier <scrappy>

  * innd/site.c (1.19):
  * backends/batcher.c (1.6):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    backends/batcher.c:
	    - call SMinit()
	    - ignore handed size
    doc/newsfeeds.5:
	    - correct description for 'b' and 'f' items
    innd/site.c:
	    - do not prepend patharticles if storageapi is true for 'f'
    item

Sun Apr 19 00:19:54 1998 James Brister <brister>

  * frontends/innconfval.c (1.9):
    Don't core dump when inn.conf is broken (missing colon in line).

Sun Apr 19 00:04:08 1998 James Brister <brister>

  * frontends/Makefile (1.19):
    Replace dropped trailing backslash.

Sat Apr 18 18:36:16 1998 Marc Fournier <scrappy>

  * backends/batcher.c (1.5):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    backends/batcher.c:
	    - use qio(3) for token to read in

Sat Apr 18 18:35:01 1998 Marc Fournier <scrappy>

  * nnrpd/group.c (1.20):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/group.c:
	    - always read() .overview.index regardless of overviewmmap in
    inn.conf
	      this avoids overchan locks

Sat Apr 18 04:18:52 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.19):
    From: Sven Paulus <sven@oops.sub.de>
    
    It seems like it's FreeBSD's error (3.0-SNAP-971208, a little old, I
    know),
    but storage/overview.c doesn't compile. Switching two includes fixes
    this:

Sat Apr 18 04:06:32 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.18):
  * expire/expire.c (1.39):
  * expire/makehistory.c (1.30):
  * innd/nc.c (1.27):
  * backends/overchan.c (1.17):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    backends/overchan.c:
    expire/makehistory.c:
    storage/overview.c:
	    - ignore all characters subsequent to Xref content in overview
	      (this happens if keywords is included in overview)
    doc/expire.8:
	    - describe handling articles which have self expire
	      functionality more simply
    doc/qio.3:
	    - correct description
    expire/expire.c:
	    - did not create data to purge .overview.index if articles
	      are self expired
	    - ignore all characters subsequent to Xref content in overview
	      (this happens if keywords is included in overview)
    innd/nc.c:
	    - 'bad_command ...' still happned if throttled

Fri Apr 17 15:16:15 1998 <mibsoft>

  * samples/innreport.conf.in (1.2):
  * samples/innreport.in (1.10):
    samples/innreport.conf.in
     - comment out setting of html_dir - now in inn.conf, but can uncomment
       this to override
    
    samples/innreport.in
     - use innshellvars.pl
     - use inn.conf value for pathhtml
    
    From:	      Russell Vincent <russellv@uk.uu.net>
    Date sent:	      Fri, 17 Apr 1998 15:53:15 +0100 (BST)

Fri Apr 17 15:16:00 1998 <mibsoft>

  * include/patchlevel.h (1.3):
    include/patchlevel.h
     - bump version number and date to reflect reality
    
    From:	      Russell Vincent <russellv@uk.uu.net>
    Date sent:	      Fri, 17 Apr 1998 15:53:15 +0100 (BST)

Fri Apr 17 12:10:55 1998 <mibsoft>

  * innd/status.c (1.8):
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Fri, 17 Apr 1998 12:11:09 +0900
    
    Pathhost in innd status file includes '!'.
    
    innd/status.c:
	   - use innconf->pathhost instead

Fri Apr 17 10:30:59 1998 <mibsoft>

  * innd/art.c (1.65):
    I was having two problems with xrefslaving: coredumps, and once
    that was fixed, the first character of the newsgroup was being
    dropped.
    
    Date sent:	      Thu, 16 Apr 1998 20:44:21 -0700
    From:	      David Carmean <dlc@avtel.net>

Thu Apr 16 16:09:35 1998 Marc Fournier <scrappy>

  * samples/version.in (1.10):
  * lib/getconfig.c (1.19):
  * innd/status.c (1.7):
  * include/libinn.h (1.27):
  * include/paths.h.in (1.14):
    From: Russell Vincent <russellv@uk.uu.net>
    
    doc/inn.conf.5
    include/libinn.h
    include/paths.h.in
    innd/status.c
    lib/getconfig.c
    samples/inn.conf
     - Add pathhttp option to inn.conf (defaults to pathlog) and
       use it in status.c
    samples/version.in
     - Upgrade version number...finally :)

Thu Apr 16 13:49:28 1998 <mibsoft>

  * site/Makefile (1.26):
    The following patch fixes the $D and $DESTDIR prefixes in some
    of the Makefiles and scripts. This is needed for installs in another
    directory then /.
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 13:48:59 1998 <mibsoft>

  * samples/sendbatch.in (1.8):
  * samples/send-uucp.in (1.7):
    This patch makes the send-uucp and sendbatch scripts work out of the
    box in most situations.
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 13:47:13 1998 <mibsoft>

  * lib/getmodaddr.c (1.5):
  * lib/clientactive.c (1.4):
    This patch adds a fallback to the local moderators host if inews cannot
    list the moderators file on the news server (some very old servers
    don't
    support "list moderators" - don't assume _everybody_ is using inews
    from
    inn to talk to inn..)
    
    It also fixes the manpage to describe what the code actually does (and
    has been doing for quite some time).
    
    And a stupid bug in getmodaddr.c is fixed, though the whole file should
    probably be rewritten.
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 13:46:51 1998 <mibsoft>

  * innd/cc.c (1.33):
    This patch disallows some things that can shred the active file or
    history
    file when INN is throttled. In addition in case of a lookup when paused
    INN should briefly open the history database before HIShavearticle or
    strange things might happen (such as INN crashing).
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 13:46:28 1998 <mibsoft>

  * frontends/Makefile (1.18):
    The following patch fixes the $D and $DESTDIR prefixes in some
    of the Makefiles and scripts. This is needed for installs in another
    directory then /.
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 13:44:06 1998 <mibsoft>

  * config/subst.c (1.3):
    This small patch lets subst.c compile with GNU libc (aka Linux libc6)
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 13:43:43 1998 <mibsoft>

  * makedirs.sh.in (1.3):
    The following patch fixes the $D and $DESTDIR prefixes in some
    of the Makefiles and scripts. This is needed for installs in another
    directory then /.
    
    Date: Thu, 16 Apr 1998 11:18:52 +0200
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    To: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 16 11:54:44 1998 <mibsoft>

  * frontends/innconfval.c (1.8):
    frontends/innconfval.c
     - quote single quotes and backslashes for perl
    
    From:	      Russell Vincent <russellv@uk.uu.net>
    Date sent:	      Thu, 16 Apr 1998 11:55:24 +0100 (BST)

Thu Apr 16 10:48:33 1998 <mibsoft>

  * storage/overview.c (1.17):
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 15:15:53 +0900
    
    Here is the patch for OVERstore() reported on inn-workers.

Thu Apr 16 04:57:17 1998 Marc Fournier <scrappy>

  * innd/Makefile (1.24):
    From: Kjetil Torgrim Homme <kjetilho@ifi.uio.no>
    
    I didn't bother to see if this has been fixed since it is so trivial,
    and only visible if you attempt to install as an ordinary user.

Thu Apr 16 04:55:53 1998 Marc Fournier <scrappy>

  * innd/nc.c (1.26):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    innd/nc.c:
	    - call NCwriteshutdown() if innd is throttled

Thu Apr 16 01:56:02 1998 <mibsoft>

  * storage/cnfs/cnfs.c (1.19):
    storage/cnfs/cnfs.c:
	    - did free() unallocated space
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:55:42 1998 <mibsoft>

  * samples/news.daily.in (1.13):
    samples/inn.conf:
	    - add logsitename
	    - xrefslave is changed to specify master server and commented
    out
    samples/news.daily.in:
	    - didn't set ${SAPI} if storage api is turned on
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:55:17 1998 <mibsoft>

  * nnrpd/nnrpd.c (1.28):
  * nnrpd/nnrpd.h (1.17):
  * nnrpd/post.c (1.19):
    nnrpd/nnrpd.c:
    nnrpd/nnrpd.h:
    nnrpd/post.c:
	    - drop '-S'
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:54:57 1998 <mibsoft>

  * lib/getconfig.c (1.18):
    lib/getconfig.c:
	    - add set bit flag not to set same parameter more than twice
	    - use GetFQDN() value if fromhost is not specified
	    - use GetFQDN() value if pathhost is not specified
	    - do not set wireformat if storageapi is already true
	    - add logsitename
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:54:12 1998 <mibsoft>

  * innd/newsfeeds.c (1.17):
  * innd/rc.c (1.24):
  * innd/innd.h (1.31):
  * innd/nc.c (1.25):
  * innd/cc.c (1.32):
  * innd/innd.c (1.33):
  * innd/art.c (1.64):
    innd/art.c:
	    - X-Trace was duplicated in ARTheaders[]
	    - skip sequent spaces when parsing string
	    - add logsitename
	    - add new check 'e' to flag 'A' to specify not to feed unknown
	      newsgroup
	    - xrefslave is changed to specify master server
    innd/cc.c:
	    - xrefslave is changed to specify master server
    innd/innd.c:
    innd/innd.h:
    innd/nc.c:
    innd/rc.c:
	    - xrefslave is changed to specify master server
    innd/newsfeeds.c:
	    - add new check 'e' to flag 'A' to specify not to feed unknown
	      newsgroup
	    - flag 'C' is removed ('C' is check for 'A')
    
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:53:45 1998 <mibsoft>

  * include/paths.h.in (1.13):
  * include/libinn.h (1.26):
    include/libinn.h:
	    - define bit number for each parameter
    include/paths.h.in:
	    - add logsitename
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:53:14 1998 <mibsoft>

  * expire/newsrequeue.c (1.12):
  * expire/expire.c (1.38):
    expire/expire.c:
	    - skip sequent separators when parsing string (EXPsplit())
    doc/newsrequeue.8:
    expire/newsrequeue.c:
	    - if storageapi is turned on, '-l' is implicitly specified
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Thu Apr 16 01:51:22 1998 <mibsoft>

  * backends/innxmit.c (1.14):
    backends/innxmit.c:
	    - check SMerrno if QIOopen() fails
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Thu, 16 Apr 1998 08:57:24 +0900

Wed Apr 15 19:11:36 1998 <mibsoft>

  * nnrpd/commands.c (1.16):
  * nnrpd/group.c (1.19):
    This patch is relative to INN-2.0-current. It fixes some minor
    bugs related to reader permissions in nnrpd:
    
    - the GROUP command gave different replies depending
      whether a group doesn't exist or you have no permission to read
    - XGTITLE didn't use permissions at all
    - comments weren't stripped from the output of LIST distributions,
      LIST moderators, LIST subscriptions, LIST distrib.pats
    - LIST distrib.pats didn't use permissions (it's a bit ugly to
      match patterns against patterns, but I think it's ok to do
      it that way)
    Date sent:	      Wed, 15 Apr 1998 20:36:57 +0200
    From:	      Sven Paulus <sven@oops.sub.de>

Wed Apr 15 05:46:02 1998 Marc Fournier <scrappy>

  * storage/interface.c (1.22):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/interface.c:
	    - suppress initialization failure message

Wed Apr 15 05:44:55 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.18):
  * lib/inndcomm.c (1.3):
  * lib/remopen.c (1.5):
    Reply-To: Dale Ghent <daleg@elemental.org>
    
    | Silence the INADDR_NONE redefines...
    
    This needs to be done with lib/inndcomm.c and lib/remopen.c
    
    Also, the type is not being specified in the declaration of count in
    storage/cnfs/cnfs.c.

Wed Apr 15 05:41:42 1998 Marc Fournier <scrappy>

  * samples/inncheck.in (1.7):
  * samples/control.ctl (1.4):
    From: Russell Vincent <russellv@uk.uu.net>
    
    samples/inncheck.in
     - bring this in line with the inn.conf changes
     - check for correct permissions on some files in light of recent
    changes
    
    samples/control.ctl
     - checkgroup -> checkgroups in a couple of lines (detected by
    inncheck)

Tue Apr 14 20:44:26 1998 Marc Fournier <scrappy>

  * nnrpd/track.c (1.5):
  * nnrpd/nnrpd.c (1.27):
  * nnrpd/perl.c (1.5):
  * nnrpd/post.c (1.18):
  * nnrpd/loadave.c (1.2):
  * nnrpd/misc.c (1.15):
  * nnrpd/newnews.c (1.7):
  * nnrpd/article.c (1.29):
  * nnrpd/commands.c (1.15):
  * nnrpd/group.c (1.18):
    Silence the INADDR_NONE redefines...

Tue Apr 14 20:28:13 1998 Marc Fournier <scrappy>

  * innd/status.c (1.6):
  * innd/tcl.c (1.6):
  * innd/timer.c (1.7):
  * innd/wip.c (1.8):
  * innd/proc.c (1.4):
  * innd/rc.c (1.23):
  * innd/site.c (1.18):
  * innd/newsfeeds.c (1.16):
  * innd/ng.c (1.11):
  * innd/perl.c (1.5):
  * innd/innd.c (1.32):
  * innd/lc.c (1.5):
  * innd/nc.c (1.24):
  * innd/his.c (1.25):
  * innd/icd.c (1.9):
    Bad move...move clibrary.h back, but add netinet/in.h

Tue Apr 14 20:15:58 1998 Marc Fournier <scrappy>

  * innd/chan.c (1.24):
    Same again

Tue Apr 14 20:15:12 1998 Marc Fournier <scrappy>

  * innd/cc.c (1.31):
    more spaghetti ... netinet/in.h needs to be included before clibrary.h,
    but clibrary.h needs to be included before innd.h ...

Tue Apr 14 20:12:06 1998 Marc Fournier <scrappy>

  * innd/art.c (1.63):
    Damn...I hate spaghetti include s :(

Tue Apr 14 20:01:14 1998 Marc Fournier <scrappy>

  * innd/wip.c (1.7):
  * innd/status.c (1.5):
  * innd/tcl.c (1.5):
  * innd/timer.c (1.6):
  * innd/proc.c (1.3):
  * innd/rc.c (1.22):
  * innd/site.c (1.17):
  * innd/newsfeeds.c (1.15):
  * innd/ng.c (1.10):
  * innd/perl.c (1.4):
  * innd/inndstart.c (1.11):
  * innd/lc.c (1.4):
  * innd/nc.c (1.23):
  * innd/his.c (1.24):
  * innd/icd.c (1.8):
  * innd/innd.c (1.31):
  * innd/art.c (1.62):
  * innd/cc.c (1.30):
  * innd/chan.c (1.23):
    Reverse clibrary.h with innd.h, since clibrary.h depends on things
    (INADDR_* for FreeBSD) that get definied in innd.h

Tue Apr 14 16:40:52 1998 <mibsoft>

  * innd/newsfeeds.c (1.14):
  * innd/innd.h (1.30):
  * innd/art.c (1.61):
    From:	      Russell Vincent <russellv@uk.uu.net>
    Date sent:	      Tue, 14 Apr 1998 16:57:51 +0100 (BST)
    
    This patch adds a parameter to allow sending of a control only
    newsfeed (improvement and tested over the one I posted to inn-workers).
    
    innd/art.c
    innd/newsfeeds.c
    innd/innd.h
    doc/newsfeeds.5
     - Add option to newsfeeds for Control: articles only
     - grammar correction in man page

Mon Apr 13 12:19:08 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.16):
  * nnrpd/article.c (1.28):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/article.c:
	    - xpat and xhdr could not respond with correct data
    storage/overview.c:
	    - OVERreinit() forgot to set size
	    - OVERretrieve() should call OVERreinit()
	      if config->size <= token->offset

Mon Apr 13 02:44:20 1998 Marc Fournier <scrappy>

  * storage/interface.c (1.21):
  * innd/art.c (1.60):
  * innfeed/article.c (1.14):
  * expire/expire.c (1.37):
  * expire/fastrm.c (1.7):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    If some methods are gone from storage.ctl, innd and fastrm,
    etc. may fail to SMcancel() with SMERR_UNINIT.  This may leads
    tons of annoying messages or expirerm failure.  Attached is not
    to fail even if SMerrno is SMERR_UNINIT.
    
    expire/expire.c:
    expire/fastrm.c:
    innd/art.c:
    innfeed/article.c:
	    - avoid error processing even if SMerrno is SMERR_UNINIT
    storage/interface.c:
	    - set SMERR_UNINIT for initialization error

Mon Apr 13 02:42:26 1998 Marc Fournier <scrappy>

  * samples/checkgroups.in (1.9):
  * site/Makefile (1.25):
  * innd/art.c (1.59):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    README.pgp:
	    - sample.control is now under sample directory
    innd/art.c:
	    - _PATH_BADCONTROLPROG is now under innconf->pathetc
    samples/checkgroups.in:
	    - docheckgroups is now under innconf->pathetc
    samples/Makefile:
	    - sample.control should not be installed under
    innconf->pathcontrol

Sun Apr 12 23:51:58 1998 Marc Fournier <scrappy>

  * innd/art.c (1.58):
  * innd/cc.c (1.29):
  * innd/innd.c (1.30):
  * frontends/ctlinnd.c (1.9):
  * expire/expire.c (1.36):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    frontends/ctlinnd.c:
	    - there is a problem that frees unallocated space
    expire/expire.c:
	    - articles stored by cnfs method without overview were all
    expired
	      regardless of their existence
	    - expire statistics is modified to accomodate storage api
    innd/cc.c:
	    - reload inn.conf is still incomplete and just commented out
	      not to make it worse
    innd/innd.c:
	    - pathalias did not add '!' in its path
    
    ================================
    
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    Guess nobody's been looking in their 'junk' groups lately. :-)  The
    handlling
    of the 'wanttrash' option is backwards. Patch below.

Sun Apr 12 05:19:09 1998 Marc Fournier <scrappy>

  * samples/news.daily.in (1.12):
  * samples/expirerm.in (1.7):
  * config/config.scoreboard (1.35):
  * configure.in (1.44):
  * configure (1.42):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    BUILD.in:
	    - used for create BUILD (enable tagged hash and merge to
    groups)
	      newly added
    config/config.scoreboard:
    configure:
    configure.in:
	    - enable tagged hash and merge to groups for configure
    samples/expirerm.in:
	    - do not claim if expire.rm is null when storage api is turned
    on
    samples/news.daily.in:
	    - allow other value other than 'true' for storage api value in
	      inn.conf

Fri Apr 10 19:19:05 1998 Marc Fournier <scrappy>

  * samples/innshellvars.in (1.10):
  * samples/innshellvars.pl.in (1.10):
  * samples/innshellvars.tcl.in (1.8):
  * samples/scanlogs.in (1.16):
  * config/config.scoreboard (1.34):
  * configure.in (1.43):
  * configure (1.41):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is the patch for adding log compression method
    selection option. (--with-log-compress=METHOD, default
    is gzip)
    
    config/config.scoreboard:
	    - _PATH_COMPRESSEXT is removed
    configure.in:
    configure:
	    - '--with-log-compress=METHOD' is added
    samples/innshellvars.csh.in:
    samples/innshellvars.in:
    samples/innshellvars.pl.in:
    samples/innshellvars.tcl.in:
	    - add LOG_COMPRESS
    samples/scanlogs.in:
	    - use LOG_COMPRESS instead of COMPRESS

Thu Apr 09 18:14:30 1998 <mibsoft>

  * samples/innshellvars.pl.in (1.9):
  * innfeed/Makefile (1.17):
  * configure.in (1.42):
  * configure (1.40):
  * Makefile.global.in (1.6):
    Makefile.global.in
    innfeed/Makefile.in
    configure
    configure.in
     - Move definition of EXTRA_SRC to Makefile.global.in
     - this also makes the subst for innfeed/Makefile work again
    
    frontends/innconfval.c
     - use single quotes for perl vars to avoid perl variable substitution
    
    samples/innshellvars.pl.in
     - pathlogs ->pathlog
    
    Need to rename innfeed/Makefile.in to innfeed/Makefile after applying
    this patch.
    From: Russell Vincent <russellv@uk.uu.net>

Thu Apr 09 16:34:55 1998 James Brister <brister>

  * frontends/innconfval.c (1.7):
    Put single quotes around generated perl strings to stop
    incorrect variable interpolation (like with the '@' in
    an email address).

Thu Apr 09 15:16:45 1998 <mibsoft>

  * expire/makehistory.c (1.29):
  * expire/newsrequeue.c (1.11):
    expire/makehistory.c:
	    - _PATH_SCHEMA location was incorrect
    expire/newsrequeue.c:
	    - _PATH_NEWSFEEDS location was incorrect
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 09 15:16:01 1998 <mibsoft>

  * doc/Makefile (1.21):
    doc/Makefile:
    doc/incoming.conf.5:
	    - incoming.conf.5 is newly added
    doc/*:
	    - _PATH_* and other parameter previously defined
	      in config.data are corrected
	    - some cosmetic changes
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>

Thu Apr 09 15:03:57 1998 <mibsoft>

  * storage/interface.c (1.20):
  * storage/overview.c (1.15):
  * nnrpd/nnrpd.c (1.26):
  * lib/remopen.c (1.4):
  * lib/sendpass.c (1.4):
  * lib/clientlib.c (1.4):
  * lib/getfqdn.c (1.4):
  * lib/getmodaddr.c (1.4):
  * innd/inndstart.c (1.10):
  * frontends/rnews.c (1.9):
  * frontends/sm.c (1.6):
  * frontends/ctlinnd.c (1.8):
  * frontends/inews.c (1.9):
  * expire/newsrequeue.c (1.10):
  * expire/prunehistory.c (1.6):
  * expire/expireover.c (1.13):
  * expire/grephistory.c (1.10):
  * expire/makeactive.c (1.5):
  * expire/makehistory.c (1.28):
  * expire/expireindex.c (1.9):
  * expire/expire.c (1.35):
  * backends/overchan.c (1.16):
  * backends/innxbatch.c (1.6):
  * backends/innxmit.c (1.13):
  * backends/nntpget.c (1.6):
  * backends/crosspost.c (1.8):
  * backends/cvtbatch.c (1.5):
  * backends/filechan.c (1.3):
  * backends/archive.c (1.8):
  * backends/batcher.c (1.4):
  * backends/buffchan.c (1.8):
  * backends/actsync.c (1.12):
    | - convert some more GetConfigValue(_CONF*) variables to innconf use
    (and in the
    |	process found that 'moderatormailer' is used after all.
    | - be consistent about the exit value for ReadInnConf() failure
    | - inn.conf cosmetic changes
    From:	      Russell Vincent <russellv@uk.uu.net>

Wed Apr 08 14:07:15 1998 <mibsoft>

  * innfeed/Makefile (1.16):
  * innfeed/strerror.c (1.1):
    Makefile.in generates Makefile.
    strerror.c should have been added to the repository.

Wed Apr 08 12:54:45 1998 <mibsoft>

  * innfeed/misc.c (1.4):
  * configure.in (1.41):
  * configure (1.39):
    Here is the patch for problem related on configure.
    Please remove innfeed/Makefile from cvs since it is
    created by configure.
    
    configure.in:
    configure:
	    - remove ${LIBS} from ${perl_core_libs}
	      without this, linking innd and nnrpd always claim
	      "multiple inclusion" on some systems if "--with-perl"
	      is specified
	    - add EXTRA_SRC and, if inet_aton() is not found in both
	      libresolv and libbind, append "inet_addr.c"
	    - if strerror() is not found, "strerror.c" is appended to
	      EXTRA_SRC
    innfeed/Makefile.in:
	    - EXTRA_SRC is revived
	    - startinnfeed needs EXTRA_SRC on some systems which don't
	      have strerror()
    innfeed/misc.c:
	    - move strerror() to strerror.c
    innfeed/strerror.c:
	    - move out from misc.c
    
    From:	      Katsuhiro Kondou <kondou@nec.co.jp>
    Date sent:	      Wed, 08 Apr 1998 14:05:32 +0900

Wed Apr 08 12:42:05 1998 James Brister <brister>

  * include/paths.h.in (1.12):
    Remove dash from inside some config variable as that break when
    they're turned into shell variables by innconfval.

Wed Apr 08 12:30:27 1998 James Brister <brister>

  * innfeed/innlistener.c (1.7):
    From Kenneth.Herron@mci.com
    
    Fix typo inside two ASSERT statements.

Tue Apr 07 16:11:34 1998 Marc Fournier <scrappy>

  * lib/dbz.c (1.18):
  * innd/art.c (1.57):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    
    innd/art.c:
	    - supress compilation warning on SunOS
    lib/dbz.c:
	    - pass #pragma lines on SunOS

Tue Apr 07 05:16:42 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.14):
  * nnrpd/nnrpd.h (1.16):
  * nnrpd/misc.c (1.14):
  * nnrpd/newnews.c (1.6):
  * nnrpd/nnrpd.c (1.25):
  * nnrpd/commands.c (1.14):
  * nnrpd/group.c (1.17):
  * nnrpd/article.c (1.27):
  * innd/site.c (1.16):
  * lib/getconfig.c (1.17):
  * innd/inndstart.c (1.9):
  * innd/rc.c (1.21):
  * innd/innd.c (1.29):
  * innd/innd.h (1.29):
  * innd/cc.c (1.28):
  * innd/art.c (1.56):
  * expire/newsrequeue.c (1.9):
  * expire/prunehistory.c (1.5):
  * expire/makehistory.c (1.27):
  * backends/overchan.c (1.15):
  * expire/grephistory.c (1.9):
  * backends/cvtbatch.c (1.4):
  * backends/innxmit.c (1.12):
  * backends/archive.c (1.7):
  * backends/batcher.c (1.3):
  * Makefile (1.12):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Mostly minor changes, a few bug fixes and better use of innconf
    options.
    
    Makefile
     - Add a comment on how to create a new history file if none exists
    
    backends/archive.c
    backends/batcher.c
    backends/cvtbatch.c
    backends/innxmit.c
    backends/overchan.c
    expire/grephistory.c
    expire/newsrequeue.c
    expire/prunehistory.c
    innd/art.c
    innd/cc.c
    innd/innd.c
    innd/innd.h
    innd/inndstart.c
    innd/rc.c
    nnrpd/article.c
    nnrpd/commands.c
    nnrpd/group.c
    nnrpd/misc.c
    nnrpd/newnews.c
    nnrpd/nnrpd.c
    nnrpd/nnrpd.h
    storage/overview.c
     - make better use of innconf variables
     - fix a few STRLEN uses
     - move check for define of INADDR_NONE to clibrary.h
	    (nnrpd wouldn't compile because it is missing on Solaris)
     - make some variables in inn.conf able to be changed live
    
    inn.conf
     - mainly cosmetic changes
     - pathhost compulsory
     - some options can be changed live now
    
    lib/getconfig.c
     - make pathhost a compulsory inn.conf option
    
    include/clibrary.h

Mon Apr 06 14:37:10 1998 James Brister <brister>

  * samples/overview.fmt (1.3):
  * configure.in (1.40):
  * include/configdata.h (1.23):
  * configure (1.38):
  * config/config.scoreboard (1.33):
  * lib/getconfig.c (1.16):
  * include/paths.h.in (1.11):
  * innd/art.c (1.55):
  * include/libinn.h (1.25):
    Karl Kleinpaste's keywords-in-overview patch (modified by me to fit
    into 2.0).

Mon Apr 06 12:14:01 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.13):
  * samples/inncheck.in (1.6):
  * nnrpd/nnrpd.c (1.24):
  * lib/getconfig.c (1.15):
  * innd/innd.h (1.28):
  * innd/art.c (1.54):
  * innd/innd.c (1.28):
  * include/paths.h.in (1.10):
  * include/libinn.h (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    There was pathalias and nnrpd cidr patch last year, but
    they've not been incorporated into 1.8current.  Now I've
    done and fixed some other problems.
    
    doc/makehistory.8:
	    - correct example since DBZ_TAGGED_HASH was incorporated
    
    doc/nnrp.access.5:
    nnrpd/nnrpd.c:
	    - now nnrp.access understands netmask (Dale Ghent made
	      it originally, but there was a problem handling mask
	      length)
    
    doc/inn.conf.5:
    include/libinn.h:
    include/paths.h.in:
    innd/art.c:
    innd/innd.c:
    innd/innd.h:
    lib/getconfig.c:
    samples/inn.conf:
    samples/inncheck.in:
	    - incorporate pathalias patch which was made by
	      Tsar Barry BOFHwsma originally
    
    storage/overview.c:
	    - 'sm -o' could not work correctly since sm does not
	      call ReadInnConf()

Fri Apr 03 15:56:12 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.17):
  * storage/cnfs/cnfs-private.h (1.6):
  * config/config.scoreboard (1.32):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    METACYCBUFF_UPDATE can be replaced with some other parameter
    which can be specified in cycbuff.conf, and I've done it.
    
    config/config.scoreboard:
	    - remove unused cnfs stuff
    doc/cycbuff.conf.5:
	    - describe new line 'cycbuffupdate'
    storage/cnfs/cnfs-private.h:
    storage/cnfs/cnfs.c:
	    - read 'cycbuffupdate' and use its before calling
	      CNFSflushhead()

Fri Apr 03 13:28:00 1998 Marc Fournier <scrappy>

  * samples/rc.news.in (1.10):
  * samples/scanspool.in (1.8):
  * include/paths.h.in (1.9):
  * config/config.scoreboard (1.31):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Some patches:
    
    config/config.scoreboard
     - cleanup some config variables no longer used
    
    doc/inn.conf.5
     - new inn.conf variables: innflags + doinnwatch
    
    include/paths.h.in
     - _PATH_OVERVIEW no longer used
    
    samples/inn.conf
     - new variables: innflags + doinnwatch
    
    samples/rc.news.in
     - use new innconf variables
    
    samples/scanspool.in
     - use innshellvars.pl and remove config.data info

Fri Apr 03 12:43:15 1998 Marc Fournier <scrappy>

  * nnrpd/commands.c (1.13):
    Fixed compilation error in nnrpd/commands.c
    
    From: Katsuhiro Kondou <kondou@nec.co.jp>

Fri Apr 03 05:56:46 1998 Marc Fournier <scrappy>

  * innd/innd.c (1.27):
    Missing a ) at line 913

Fri Apr 03 02:11:23 1998 Marc Fournier <scrappy>

  * configure (1.37):
  * configure.in (1.39):
    remove subst.pl from being configured, since it doesn't exist anymore

Fri Apr 03 02:08:15 1998 Marc Fournier <scrappy>

  * site/getsafe.sh (1.3):
    No longer use subst.pl ...

Fri Apr 03 02:06:42 1998 Marc Fournier <scrappy>

  * samples/tally.control.in (1.5):
  * samples/version.in (1.9):
  * samples/writelog.in (1.5):
  * samples/sendme.in (1.9):
  * samples/sendsys.in (1.8):
  * samples/senduuname.in (1.8):
  * samples/send-ihave.in (1.6):
  * samples/send-nntp.in (1.6):
  * samples/send-uucp.in (1.6):
  * samples/sendbatch.in (1.7):
  * samples/rc.news.in (1.9):
  * samples/rmgroup.in (1.9):
  * samples/scanlogs.in (1.15):
  * samples/nntpsend.in (1.8):
  * samples/parsecontrol.in (1.14):
  * samples/pgpverify.in (1.12):
  * samples/innwatch.in (1.6):
  * samples/newgroup.in (1.8):
  * samples/news.daily.in (1.11):
  * samples/docheckgroups.in (1.7):
  * samples/expirerm.in (1.6):
  * samples/ihave.in (1.8):
  * samples/innstat.in (1.8):
  * samples/checkgroups.in (1.8):
  * samples/default.in (1.8):
  * configure.in (1.38):
  * configure (1.36):
    Get rid of site/subst.pl.in
    Make sure samples/* files are all configured by configure, where
    appropriate

Fri Apr 03 01:34:56 1998 Marc Fournier <scrappy>

  * samples/pgpverify.in (1.11):
  * samples/scanspool.in (1.7):
  * samples/signcontrol.in (1.5):
  * samples/inncheck.in (1.5):
  * samples/innmail.in (1.7):
  * samples/innreport.in (1.9):
  * configure.in (1.37):
  * configure (1.35):
    Cleanups:
    
	    set pgp binary based on configure
	    set _PATH_PERL to @PATH_PERL@, to be generated by configure
    
    Remove:
    
	    _PATH_PERL from site/subst.pl.in

Thu Apr 02 23:09:47 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.10):
    Match bad signature text before good signature text.

Thu Apr 02 22:31:48 1998 David C Lawrence <tale>

  * samples/innreport.in (1.8):
  * samples/scanspool.in (1.6):
  * samples/signcontrol.in (1.4):
  * samples/innmail.in (1.6):
    fixed @_PATH_PERL to _PATH_PERL (mail I sent to inn-workers had a typo
    that led to a bad commit ...)

Thu Apr 02 22:30:00 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.9):
    Sync with external version 1.9
    # Changes from 1.8 -> 1.9
    # -- match 'Bad signature' pgp output to return exit status 3 by
    removing
    #	 '^' in regexp matched on multiline string.

Thu Apr 02 19:58:53 1998 Marc Fournier <scrappy>

  * innd/art.c (1.53):
  * expire/Makefile (1.14):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is some bug fix for 1.8current(mainly for SunOS).
    
    expire/Makefile:
	    - to supress warning with 'make lint'
    include/clibrary.h:
	    - add atexit macro for SunOS
    innd/art.c:
	    - to supress compilation warning

Thu Apr 02 18:44:33 1998 James Brister <brister>

  * frontends/innconfval.c (1.6):
    Removed 'l' that was probably a typo.
    Added semicolon to end of each line output in perl mode.

Thu Apr 02 18:39:26 1998 James Brister <brister>

  * config/config.scoreboard (1.30):
    Removed PATH_MAILCMD as it's no longer necessary.

Thu Apr 02 18:37:03 1998 James Brister <brister>

  * lib/dbz.c (1.17):
    Lowered the default size used when creating new history files, as
    makehistory tried to malloc way too much memory (30MB) for smallish
    machines.
    I may have lowered it too far....

Thu Apr 02 18:26:55 1998 James Brister <brister>

  * configure (1.34):
  * configure.in (1.36):
    Don't link with both -lbind and -lresolv together unless necessary.
    Fixed _PATH_DF and PATH_SH problems
    Fixed fork/vfork problems

Thu Apr 02 18:23:18 1998 James Brister <brister>

  * samples/innreport.in (1.7):
  * samples/pgpverify.in (1.8):
  * samples/scanspool.in (1.5):
  * samples/sendme.in (1.8):
  * samples/signcontrol.in (1.3):
  * samples/innmail.in (1.5):
    From: David Lawrence
    
    Fix perl scripts so subst.pl can take care of them instead of
    fixinterps.pl

Thu Apr 02 18:19:02 1998 James Brister <brister>

  * config/Makefile (1.14):
    From: David Lawrence
    
    Drop use of fixinterps.pl as subst.pl handles things fine.

Thu Apr 02 13:11:58 1998 Marc Fournier <scrappy>

  * samples/innshellvars.pl.in (1.8):
  * nnrpd/commands.c (1.12):
  * innd/innd.c (1.26):
    From: Russell Vincent <russellv@uk.uu.net>
    
    These patches are fairly critical:
    
    innd/innd.c
     - Use a temp var for one of the PERLsetup() parameters
    
    nnrpd/commands.c
     - specify the correct path in the LIST commands
    
    samples/innshellvars.pl.in
     - don't eval in a separate block - we want the variables
	 (this should fix the daily report not being mailed)

Wed Apr 01 15:40:39 1998 Marc Fournier <scrappy>

  * samples/innshellvars.in (1.9):
  * samples/innshellvars.pl.in (1.7):
  * samples/innshellvars.tcl.in (1.7):
  * samples/innmail.in (1.4):
  * nnrpd/post.c (1.17):
  * lib/getconfig.c (1.14):
  * include/paths.h.in (1.8):
  * include/libinn.h (1.23):
  * frontends/inews.c (1.8):
  * expire/fastrm.c (1.6):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Some more patches:
    
    frontends/fastrm.c
     - Add ReadInnConf() for Storage API to use
    
    frontends/inews.c
    doc/inn.conf.5
    include/libinn.h
    include/paths.h.in
    lib/getconfig.c
    nnrpd/post.c
    samples/inn.conf
    samples/innmail
    samples/innshellvars*
     - Add 'mailcmd' inn.conf variable
     - Get rid of PATH_SENDMAIL in favour of mailcmd.

Wed Apr 01 11:27:28 1998 <mibsoft>

  * storage/interface.c (1.19):
  * innd/tcl.c (1.4):
    1. Typo in innd/tcl.c (wrong function name)
    
    2. SMreadconfig() uses an innconf-> variable, but SMreadconfig() is
    called by
    programs (like innfeed!) that don't call ReadInnConf(), so innconf is
    null.
    Fix to make SMreadconfig() read inn.conf if needed.
    
    Date sent:	      Wed, 01 Apr 1998 01:13:26 -0600
    From:	      Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>

Wed Apr 01 03:41:09 1998 <mibsoft>

  * nnrpd/perl.c (1.4):
    Corrections to NNRPD perl filter_post.
    From:	      Dave Hayes <dave@jetcafe.org>

Tue Mar 31 17:47:16 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.12):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    In the Message :<19980331233947.20250@CCCA.nctu.edu.tw>,
	    benjamin1 <clcheng@CCCA.nctu.edu.tw> wrote;
    
    } Expire core dumped when I modify the overview.ctl and then run
    news.daily.
    }
    } (gdb) where
    } #0  OVERretrieve (token=0x1, Overlen=0xeffff90c) at overview.c:513
    
    Oops!  There is a problem in OVERretrieve().  OVERconfig is not
    an array and it should be searched by ->next.  Attached is the
    patch for it.

Tue Mar 31 17:46:35 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.21):
  * storage/cnfs/cnfs-private.h (1.5):
  * storage/cnfs/cnfs.c (1.16):
  * nnrpd/nnrpd.c (1.23):
    From: Russell Vincent <russellv@uk.uu.net>
    
    doc/inn.conf.5
     - typo of pathfilter
    
    nnrpd/nnrpd.c
     - extra parameter for cpcatpath() in PERLsetup
    
    storage/cnfs/cnfs-private.h
    storage/cnfs/cnfs.c
    storage/cnfs/timehash.c
     - fixed some path changes I missed

Tue Mar 31 12:31:54 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.15):
  * storage/overview.c (1.11):
  * storage/interface.c (1.18):
  * site/Makefile (1.24):
  * samples/version.in (1.8):
  * samples/senduuname.in (1.7):
  * samples/sendsys.in (1.7):
  * samples/sendme.in (1.7):
  * samples/sendbatch.in (1.6):
  * samples/scanlogs.in (1.14):
  * samples/rmgroup.in (1.8):
  * samples/rc.news.in (1.8):
  * samples/parsecontrol.in (1.13):
  * samples/nntpsend.in (1.7):
  * samples/news.daily.in (1.10):
  * samples/newgroup.in (1.7):
  * samples/innstat.in (1.7):
  * samples/innshellvars.tcl.in (1.6):
  * samples/innshellvars.pl.in (1.6):
  * samples/innshellvars.in (1.8):
  * samples/innreport.in (1.6):
  * samples/ihave.in (1.7):
  * samples/docheckgroups.in (1.6):
  * samples/default.in (1.7):
  * samples/checkgroups.in (1.7):
  * nnrpd/track.c (1.4):
  * nnrpd/post.c (1.16):
  * nnrpd/nnrpd.h (1.15):
  * nnrpd/nnrpd.c (1.22):
  * nnrpd/newnews.c (1.5):
  * nnrpd/misc.c (1.13):
  * nnrpd/group.c (1.16):
  * nnrpd/commands.c (1.11):
  * nnrpd/article.c (1.26):
  * nnrpd/Makefile (1.13):
  * lib/sendpass.c (1.3):
  * lib/remopen.c (1.3):
  * lib/over.c (1.4):
  * lib/localopen.c (1.3):
  * lib/inndcomm.c (1.2):
  * lib/getmodaddr.c (1.3):
  * lib/getconfig.c (1.13):
  * lib/defdist.c (1.4):
  * lib/clientactive.c (1.3):
  * innfeed/Makefile (1.15):
  * innd/tcl.c (1.3):
  * innd/status.c (1.4):
  * innd/rc.c (1.20):
  * innd/ng.c (1.9):
  * innd/newsfeeds.c (1.13):
  * innd/nc.c (1.22):
  * innd/lc.c (1.3):
  * innd/inndstart.c (1.8):
  * innd/innd.h (1.27):
  * innd/innd.c (1.25):
  * innd/icd.c (1.7):
  * innd/his.c (1.23):
  * innd/chan.c (1.22):
  * innd/cc.c (1.27):
  * innd/art.c (1.52):
  * innd/Makefile (1.23):
  * include/paths.h.in (1.7):
  * include/libinn.h (1.22):
  * frontends/rnews.c (1.8):
  * frontends/innconfval.c (1.5):
  * frontends/inews.c (1.7):
  * frontends/ctlinnd.c (1.7):
  * frontends/Makefile (1.17):
  * expire/prunehistory.c (1.4):
  * expire/newsrequeue.c (1.8):
  * expire/makehistory.c (1.26):
  * expire/makeactive.c (1.4):
  * expire/grephistory.c (1.8):
  * expire/expireover.c (1.12):
  * expire/expireindex.c (1.8):
  * expire/expire.c (1.34):
  * expire/Makefile (1.13):
  * doc/Makefile (1.20):
  * config/config.scoreboard (1.29):
  * backends/overchan.c (1.14):
  * backends/nntpget.c (1.5):
  * backends/innxmit.c (1.11):
  * backends/innxbatch.c (1.5):
  * backends/filechan.c (1.2):
  * backends/cvtbatch.c (1.3):
  * backends/crosspost.c (1.7):
  * backends/buffchan.c (1.7):
  * backends/batcher.c (1.2):
  * backends/archive.c (1.6):
  * backends/actsync.c (1.11):
  * backends/Makefile (1.11):
  * makedirs.sh.in (1.2):
  * Makefile.global.in (1.5):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch does the majority of the work in converting INN
    to read path information from inn.conf(5).
    
    Changes include:
    
     - switch to innconf for most of the _PATH_* define paths in
       almost all the .c files.
     - fixes to frontends/innconfval.c
     - samples/innshellvar* now execute inconfval to get inn.conf vars
       - the variables are the same name as the inn.conf name (mostly).
     - update makedirs.sh.in to grab default paths from configure
     - remove a few unused variables
     - use ReadInnConf() in all utils that need info from inn.conf(5)
     - add 'overviewname' to inn.conf to allow specifying the name
       of the file to be used for overview data
     - change _PATH_* defines in include/paths.h.in to be only
       filenames - paths come from inn.conf, but can be set in
       this file (this setting takes preference)
     - updates to inn.conf(5) man page
     - fix prefix for MAILCMD in config/config.scoreboard

Tue Mar 31 03:12:56 1998 Marc Fournier <scrappy>

  * nnrpd/perl.c (1.3):
  * nnrpd/post.c (1.15):
    From: Dave Hayes <dave@jetcafe.org>
    
    1) If $modify_headers is set to a non-zero value, then all headers in
    the associative array "%hdr" are written back to the posted message.
    You may add or modify any news article header in this way.
    
    2) The article body is copied to the scalar variable "$body", for use
    in pattern matching. It is -not- modifiable. (Why would you want to?)

Tue Mar 31 03:07:19 1998 Marc Fournier <scrappy>

  * lib/perl.c (1.5):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    Every time PerlSilence() and PerlUnSilence() are called (basically,
    every
    time the perl filter is reinitialized) a few fds get leaked, including
    one
    on the open log file (which is bad, because it means the log file will
    still
    be open and taking up space even after the news.daily run).  Fix below.

Tue Mar 31 03:05:51 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.14):
  * storage/timehash/timehash.c (1.20):
  * storage/interface.c (1.17):
  * innd/art.c (1.51):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    To: inn-patches@vix.com
    Subject: bug fix for cnfs_next() and etc.
    
    Here is some bug fix for cnfs_next() and etc.
    
    doc/libstorage.3:
	    - correct description of OVERsetup()
    doc/storage.ctl.5:
	    - describe ``maxsize'' a bit more
    innd/art.c:
	    - call IOError() only if SMerrno is not SMERR_NOERROR
    storage/cnfs/cnfs.c:
	    - cnfs_next() could not retrieve article
	    - check size in CNFSARTHEADER before mmap
    storage/interface.c:
	    - SMnext() handed old ARTHANDLE even if the method is switched
    storage/timehash/timehash.c:
	    - timehash_next(RETR_BODY) could not retrieve article

Sun Mar 29 03:18:21 1998 Marc Fournier <scrappy>

  * doc/Makefile (1.19):
    Missing colon replaced...

Fri Mar 27 04:12:16 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.13):
  * expire/expire.c (1.33):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    There is a problem in expire.c if overview is not stored, and
    cnfs method does not close cycbuff and not set close-on-exec.
    Attached is against my latest patch posted inn-patches.
    
    expire/expire.c:
	    - EXPremove() should be called only if overview is stored
    storage/cnfs/cnfs.c:
	    - not close cycbuff when cnfs_shutdown() is called
	    - not set close-on-exec for cycbuff

Fri Mar 27 04:08:29 1998 Marc Fournier <scrappy>

  * storage/trash/trash.h (1.2):
  * storage/timehash/timehash.c (1.19):
  * storage/timehash/timehash.h (1.5):
  * storage/trash/trash.c (1.5):
  * storage/cnfs/cnfs.c (1.12):
  * storage/cnfs/cnfs.h (1.3):
  * storage/interface.h (1.9):
  * include/storage.h (1.5):
  * storage/interface.c (1.16):
  * expire/expire.c (1.32):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    I've added a new function to see if the method has
    self expire functionality (eg. cnfs and trash have
    this).  If it has, expire purges entry regardless
    of expire.ctl.
    
    doc/expire.8:
    expire/expire.c:
	    - add new option '-N' to ignore self expire functionality
    doc/libstorage.3
    include/storage.h
    storage/cnfs/cnfs.c
    storage/cnfs/cnfs.h
    storage/interface.c
    storage/interface.h
    storage/timehash/timehash.c
    storage/timehash/timehash.h
    storage/trash/trash.c
    storage/trash/trash.h
	    - now method_init() takes one argument which shows the method
	      has self expire functionality
	    - add new function SMprobe()
    doc/storage.ctl.5
	    - describe each method

Thu Mar 26 00:35:37 1998 Marc Fournier <scrappy>

  * storage/interface.c (1.15):
  * storage/overview.c (1.10):
  * storage/Makefile (1.22):
  * doc/Makefile (1.18):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/Makefile:
	    cycbuff.conf.5 will be installed
    doc/expire.8:
	    describe '-c' more precisely if overview is not stored
    doc/overview.ctl.5:
    doc/storage.ctl.5:
    storage/interface.c:
    storage/overview.c:
	    matching wildmat in order (was in reverse order)
    storage/Makefile:
	    update Make.methods before 'make methods' and 'make
    libstorage.a'

Wed Mar 25 22:25:04 1998 <mibsoft>

  * configure.in (1.35):
  * configure (1.33):
    Typo in last check-in.
    (Would abort if sendmail was in the path.)

Wed Mar 25 22:13:11 1998 <mibsoft>

  * configure.in (1.34):
  * configure (1.32):
    Add a --with-sendmail option to configure.	This is used if it is
    given.
    If not given, the path is searched.  If nothing found there, then we
    give up with a message.  (The message notes if sendmail was found in
    /usr/lib, /usr/sbin, or /usr/ucblib.  And gives a pointer to the
    --with-sendmail
    usage.)
    
    Also fixed a typo: _PAGH_PGP  -> _PATH_PGP.
    (No one ran configure wanting PGP I guess, or this bug would have been
    found sooner.)
    
    From: Forrest Cavalier

Mon Mar 23 17:06:36 1998 <mibsoft>

  * samples/control.ctl (1.3):
    Add checkgroups action for fr heirarchy.
    From Fabien Tassin

Mon Mar 23 16:54:18 1998 <mibsoft>

  * storage/trash/trash.c (1.4):
  * storage/cnfs/cnfs.c (1.11):
  * site/Makefile (1.23):
  * include/libinn.h (1.21):
    More cleanups from Fabien which were not previously applied.

Mon Mar 23 16:10:01 1998 <mibsoft>

  * innfeed/misc.h (1.4):
  * innfeed/tape.c (1.6):
  * innfeed/innlistener.c (1.6):
  * innfeed/main.c (1.9):
  * innfeed/misc.c (1.3):
  * innfeed/endpoint.c (1.12):
  * innfeed/host.c (1.22):
  * innfeed/configfile.y (1.6):
  * innfeed/connection.c (1.15):
  * innfeed/buffer.c (1.5):
  * innfeed/article.c (1.13):
    From Fabien Tassin:
    dprintf() name conflicts with a stdio.h function in Linux.
    It is easier to rename one function name than to change Linux
    or have conditional compilations.  Sigh.  Applied by Forrest
    Cavalier.

Mon Mar 23 16:03:29 1998 <mibsoft>

  * innfeed/configfile.y (1.5):
    From Fabien Tassin.  Under Linux innfeed compile fails with
    undefined reference to yydebug.  This changes declaration from
    extern int yydebug; to
    int yydebug;.
    
    If this breaks other compilations, let us know.  I didn't test
    it. -- Forrest Cavalier

Mon Mar 23 15:33:16 1998 <mibsoft>

  * lib/endian.c (1.4):
    From Fabien Tassin.  Never applied from 13 Mar.
    Add include for sys/types.h

Mon Mar 23 14:05:20 1998 <mibsoft>

  * samples/innreport.in (1.5):
  * contrib/README.contrib (1.2):
  * config/Makefile (1.13):
  * MANIFEST (1.3):
    innreport cleanups from Fabien Tassin

Mon Mar 23 13:26:47 1998 <mibsoft>

  * configure (1.31):
  * configure.in (1.33):
    Check for perl 5.004, which is needed for installation, regardless
    of PERL filtering setup.
    
    Code from Fabien Tassin, hand applied by Forrest Cavalier.

Mon Mar 23 05:15:22 1998 Marc Fournier <scrappy>

  * expire/expireindex.c (1.7):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>To:
    inn-patches@isc.org
    
    1) In the function LISTappend, the Refresh->Index array gets resized to
     "Refresh->Used" elements long, where it should be resized to
    Refresh->Size
     (as the other array is.)
    2) In RefreshLines(), the ARTarraysize variable is never set to a
    non-zero
     value, so each time through the function it thinks it has to allocate
    all
     new arrays.

Sun Mar 22 17:20:42 1998 Marc Fournier <scrappy>

  * lib/getconfig.c (1.12):
  * include/libinn.h (1.20):
  * frontends/innconfval.c (1.4):
    From: Russell Vincent <russellv@uk.uu.net>To: inn-patches@isc.org
    Subject: Fix for innconfval
    
    'innconffile' was meant to be a global variable shared by
    getconfig.cand innconfval.c - its setup goes lost sometime in my
    setting up the patch.
    This fixes it.

Sun Mar 22 04:08:20 1998 Marc Fournier <scrappy>

  * samples/scanlogs.in (1.13):
  * site/Makefile (1.22):
  * frontends/innconfval.c (1.3):
  * nnrpd/nnrpd.c (1.21):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    1) config/Makefile and site/Makefile hadn't gotten the word that
    innreport.pl
    has changed names and is now called "innreport".  Ditto for
    samples/scanlogs.
    
    2) frontends/innconfval wouldn't compile, since the def. of the new
     'innconffile' variable was missing.
    
    3) local var pid was defined twice in a function in nnrpd.c

Sat Mar 21 21:31:45 1998 Marc Fournier <scrappy>

  * nnrpd/nnrpd.c (1.20):
    From: Sven Paulus <sven@oops.sub.de>
    
    Thanks, but in the meantime i found two little things, that might cause
    problems on some systems (sorry!):
    
    * wait3() is not supported on all systems, but libinn offers a
    waitnb()-
      function to do this portable.
    
    * My setup for sigaction() contained  sa_restorer, which doesn't exist
    on
      BSD systems. In this case it's easier to use signal() anyway.

Sat Mar 21 18:36:31 1998 Marc Fournier <scrappy>

  * frontends/sm.c (1.5):
  * samples/parsecontrol.in (1.12):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/sm.8:
	    - add description of '-q' option
    frontends/sm.c:
	    - add '-q' option which supresses stderr message
    samples/parsecontrol:
	    - ${SM} now includes '-q' option

Sat Mar 21 18:27:08 1998 Marc Fournier <scrappy>

  * backends/overchan.c (1.13):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    Couple problems here in overchan.  First, at line 246, a copy of the
    "Xref" string is allocated, and a pointer stuck in the Xref pointer
    variable. Further down, that variable is freed -- but in the
    intervening code,
    the Xref pointer can change, causing free() to get passed a pointer to
    the middle of a malloc()ed block, which will give free() indigestion.
    Secondly, the DISPOSE(Xref) is in the wrong place anyway; it should be
    *inside* the loop, since a new Xref string is allocated each time
    through
    the loop.

Sat Mar 21 18:22:54 1998 Marc Fournier <scrappy>

  * samples/inncheck.in (1.4):
    From: Thomas Mike Michlmayr <mike@cosy.sbg.ac.at>
    
    still missing: removing the hosts.nntp check, adding incoming.conf

Sat Mar 21 18:17:24 1998 Marc Fournier <scrappy>

  * samples/innshellvars.in (1.7):
    Rename _PATH_SH to @_PATH_SH@

Sat Mar 21 18:04:25 1998 Marc Fournier <scrappy>

  * nnrpd/commands.c (1.10):
  * nnrpd/misc.c (1.12):
  * nnrpd/article.c (1.25):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    nnrpd/article.c:
    nnrpd/commands.c:
    nnrpd/misc.c:
	    - nnrpd did not parse history entry correctly at
	      ARTopenbyid()

Sat Mar 21 17:59:59 1998 Marc Fournier <scrappy>

  * nnrpd/nnrpd.c (1.19):
  * nnrpd/nnrpd.h (1.14):
  * nnrpd/post.c (1.14):
    From: Sven Paulus <sven@oops.sub.de>
    
    Attached is a little patch which introduces a few new command line
    options
    to nnrpd I considered to be useful sometimes:
    
    -o	Instead of sending articles to the server, nnrpd always spools
	them in the in.coming directory (like it does already when sending
	the article to the server fails).
    
    -D	starts nnrpd in standalone daemon mode. nnrpd forks itself and
	detaches from the tty. It binds on NNTP port and waits for incoming
	connections. This is an alternative to starting innd out of
	inetd, e.g. if you have moved innd to a different port (readers
	connect a lot faster this way, if the innd loop is very loaded)
    
    -p	sets an alternative port number when nnrpd is started in daemon
	mode
    
    -b	binds to the specified address when nnrpd is startet in daemon
	mode. So it's possible to bind innd to one address on port 119
	(I hope inndstart supports this in INN 1.8?) and nnrpd on another
	address.

Fri Mar 20 18:19:17 1998 <mibsoft>

  * nnrpd/post.c (1.13):
  * include/paths.h.in (1.6):
  * include/libinn.h (1.19):
  * frontends/innconfval.c (1.2):
    From:	      Russell Vincent <russellv@uk.uu.net>
    
    BCC and CC should be Bcc and Cc
    
    Many more options to innconfval
     - add command-line option to specify location of inn.conf
     - options to allow all the values in inn.conf to be printed out
       in a script assignment format, ready for a {sh,csh,perl,tcl}
       script to use them. Putting paths into inn.conf is going to
       be a lot easier and innconfval won't need to be run for
       every value required.
     - updated man page to reflect new options

Fri Mar 20 00:46:51 1998 David C Lawrence <tale>

  * frontends/Makefile (1.16):
    Revert rnews permissions from 04555 to 04550.

Thu Mar 19 22:27:07 1998 Marc Fournier <scrappy>

  * samples/innreport.in (1.4):
  * nnrpd/perl.c (1.2):
  * lib/perl.c (1.4):
  * lib/waitnb.c (1.4):
  * innd/cc.c (1.26):
  * innd/perl.c (1.3):
  * frontends/sm.c (1.4):
  * configure.in (1.32):
  * configure (1.30):
    From: Fabien Tassin <fta@oleane.net>
    - bug fix for innreport (graphs on the HTML index)
    - problem with */perl.c. There's no 'bool' type under Linux.
    - USE_XX vs DO_USE_XX problem in waitnb.c
    - sys/types.h needed by sm.c
    - configure and Perl versions (5.004 required, +ldopts)

Thu Mar 19 13:20:43 1998 <mibsoft>

  * samples/nnrpd.track (1.2):
    Fix some problems with tracking patches:
     - document '-l' option correctly (was documented as '-L') in
    doc/inn.conf.5
     - Remove mail headers and some blank lines from doc/nnrpd.track.5
     - remove some blank lines in samples/nnrpd.track
     - add 'readertrack' to samples/inn.conf
     - Fix description of default in doc/inn.conf.5
    
    Limit the addition of To:, CC: and BCC: lines to postings to moderated
	newsgroups
     - Change default of mta line in samples/inn.conf to include '%s'
     - Add a new inn.conf(5) option 'strippostcc' to strip those headers
       from any local postings. Default it to off for backwards
    compatability.
    From:	      Russell Vincent <russellv@uk.uu.net>

Thu Mar 19 13:20:16 1998 <mibsoft>

  * nnrpd/post.c (1.12):
  * nnrpd/misc.c (1.11):
    Fix 2 critical problems with latest nnrpd/misc.c patch:
     - unitialised variable 'toolong'
     - use of incorrect case in 'FALSE'
    
    Limit the addition of To:, CC: and BCC: lines to postings to moderated
	newsgroups
     - Change default of mta line in samples/inn.conf to include '%s'
     - Add a new inn.conf(5) option 'strippostcc' to strip those headers
       from any local postings. Default it to off for backwards
    compatability.
    From:	      Russell Vincent <russellv@uk.uu.net>

Thu Mar 19 13:19:28 1998 <mibsoft>

  * lib/getconfig.c (1.11):
    Limit the addition of To:, CC: and BCC: lines to postings to moderated
	newsgroups
     - Change default of mta line in samples/inn.conf to include '%s'
     - Add a new inn.conf(5) option 'strippostcc' to strip those headers
       from any local postings. Default it to off for backwards
    compatability.
    From:	      Russell Vincent <russellv@uk.uu.net>

Thu Mar 19 13:18:55 1998 <mibsoft>

  * include/libinn.h (1.18):
  * include/paths.h.in (1.5):
    Fix some problems with tracking patches:
     - document '-l' option correctly (was documented as '-L') in
    doc/inn.conf.5
     - Remove mail headers and some blank lines from doc/nnrpd.track.5
     - remove some blank lines in samples/nnrpd.track
     - add 'readertrack' to samples/inn.conf
     - Fix description of default in doc/inn.conf.5
    
    Limit the addition of To:, CC: and BCC: lines to postings to moderated
	newsgroups
     - Change default of mta line in samples/inn.conf to include '%s'
     - Add a new inn.conf(5) option 'strippostcc' to strip those headers
       from any local postings. Default it to off for backwards
    compatability.
    From:	      Russell Vincent <russellv@uk.uu.net>

Wed Mar 18 19:19:58 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.7):
    Sync with external version 1.8:
    # Changes from 1.7 -> 1.8
    # -- ignore final dot-CRLF if article is in NNTP format
    #	 some news servers (eg, Highwind's "Breeze") include the dot-CRLF
    #	 of the NNTP protocol in the article data passed to this script

Wed Mar 18 17:09:18 1998 <mibsoft>

  * nnrpd/misc.c (1.10):
    nnrpd.READline.patch - 3-13-98 - curt@kcwc.com (Curt Welch)
    
    This patch fixes a small off-by-one problem with the RFC line length
    checks of nnrpd.  It makes nnrpd confirm to the 512 octet limit
    of RFC 977 for NNTP commands and the son-of-1036 1000 octet limit
    for article data in a POST command.  Before this patch, nnrpd's
    limit was one character too short for both (511 & 999).
    
    I'm not aware of any problems this caused for the NNTP command
    length, but the article line length would in rare cases cause
    problems for long References: lines which were trimmed exactly to
    the 998 character limit by a newsreader.  The articles would be
    rejected on the POST due to the long line.
    
    Patch for nnrp/misc.c applied to the inn 1.7.2 version.  Also
    works on inn 1.5.1 and I suspect many other versions of inn.
    
    (Some portions applied by hand by Forrest Cavalier.)

Tue Mar 17 04:37:52 1998 Marc Fournier <scrappy>

  * expire/expire.c (1.31):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/expire.c:
	    - supress tons of "Bad entry ..." messages if storage api
	      is true and no overview data is stored

Tue Mar 17 03:41:09 1998 Marc Fournier <scrappy>

  * lib/perl.c (1.3):
    From: Dave Hayes <dave@jetcafe.org>
    |
    |In my first chance to test nnrpd with perl filtering, I've found that
    |any compile-time bug in the script shows up on the user's NNTP socket
    |as well as in the system logs.

Mon Mar 16 18:40:47 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.10):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Aha!  I've found the reason.  Ntohl is not used when
    any CNFSARTHEADER member is read.  Attached will fix
    the problem.

Mon Mar 16 18:38:49 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.9):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Hmm, I debugged with dbx to see what is wrong.  Then I've found
    some promblems in the code but I don't think the problem causes
    your innd's crash.	Maybe we need some other approach to solve
    your problem.  Attached is the patch for the problem I've found
    and please commit.

Sat Mar 14 18:21:36 1998 Marc Fournier <scrappy>

  * nnrpd/Makefile (1.12):
    Remove PERLLIB/PERLINC from nnrpd/Makefile

Sat Mar 14 17:55:53 1998 Marc Fournier <scrappy>

  * Makefile.global.in (1.4):
  * innd/Makefile (1.22):
    Move PERLLIB/PERLINC into Makefile.global and remove it from
    innd/Makefile
    as a start...

Sat Mar 14 17:45:58 1998 Marc Fournier <scrappy>

  * frontends/Makefile (1.15):
    $(LIBNEWS) needs to be included twice, for some reason, when compiling
    rnews ...

Sat Mar 14 17:24:25 1998 Marc Fournier <scrappy>

  * storage/trash/trash.c (1.3):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/trash/trash.c:
	    - trash_store() breaks stack area unless article.token is NULL
	    - trash_retrieve() and trash_cancel() should set SMERR_NOENT

Sat Mar 14 17:17:55 1998 Marc Fournier <scrappy>

  * storage/trash/trash.c (1.2):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Oops!  I forgot to substitute timehash with trash in trash.c

Fri Mar 13 20:35:18 1998 Marc Fournier <scrappy>

  * frontends/Makefile (1.14):
    Remove redundant LIBNEWS entry from rnews make
    
    Purely cosmetic...

Fri Mar 13 18:50:30 1998 Marc Fournier <scrappy>

  * site/Makefile (1.21):
    It doesn't make any sense to have 'news configurable files' as
    read-only...
    change to 0640 by default...

Fri Mar 13 18:49:18 1998 Marc Fournier <scrappy>

  * frontends/Makefile (1.13):
    From: Fabien Tassin <fta@oleane.net>
    
    Very often, rnews is used by other users than 'news' (or than the
    'uucp'
    group).  Default perms are too strict.. IMHO.

Fri Mar 13 16:42:51 1998 Marc Fournier <scrappy>

  * storage/trash/trash.h (1.1):
  * storage/trash/trash.c (1.1):
  * storage/trash/method.config (1.1):
  * storage/trash/Makefile (1.1):
  * storage/cnfs/cnfs.c (1.9):
  * site/Makefile (1.20):
  * samples/cycbuff.conf (1.2):
  * config/config.scoreboard (1.28):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    config/config.dist:
    config/config.scoreboard:
	    - removed unused CNFS parameters
    doc/storage.ctl.5:
	    - added 'trash' method
    samples/cycbuff.conf:
	    - sample lines are updated
    site/Makefile:
	    - can install cycbuff.conf
    storage/cnfs/cnfs.c:
	    - see st_rdev if st_size is checked
	    - fixed problem if cycnum is overflow
	    - now cnfs_cancel() unset bitfield
    storage/trash/Makefile:
    storage/trash/method.config:
    storage/trash/trash.c:
    storage/trash/trash.h:
	    - new method 'trash' is introduced
	    - this method does not store any article in it,
	      just trashes it without any error
	    - this method will be useful receiving unwanted articles
	    - any article cannot be retrieved thru this method

Fri Mar 13 14:28:41 1998 Marc Fournier <scrappy>

  * configure (1.29):
  * configure.in (1.31):
    Fix the 'Perl configuration' section

Fri Mar 13 13:35:15 1998 Marc Fournier <scrappy>

  * Makefile (1.11):
    Oops, don't remove Makefile.global until site/ is cleaned out..

Fri Mar 13 13:32:11 1998 Marc Fournier <scrappy>

  * Makefile (1.10):
    make clobber should get rid of everything generated by configure as
    well...

Fri Mar 13 12:56:42 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.18):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    
    This patch does what I suggested earlier today on inn-workers, namely
    changing the form of the pathnames used by the 'timehash' storage
    method
    to store articles to be:
	/var/spool/news/time-zz/xx/xx/yyyy-xxxx
    (where zz is the storage class, xxxx are various bits of the current
    time
    and yyyy is a sequence number) instead of the current
    "/var/spool/news/time/xx/xx/yyyy-xxxx-zz" layout.  This change means
    that
    different storage classes go into different directories, so you can say
    something like
	    timehash:alt.*:1
	    timehash:*:0
    in storage.ctl and have alt.* articles dumped into a different
    directory from other articles.

Thu Mar 12 21:03:25 1998  <barr>

  * innd/art.c (1.50):
    Missing break in switch() in ARTreject().  Would cause spurious
    "unknown reject type received by ARTreject()" messages whenever a
    reject called with REJECT_OTHER

Thu Mar 12 18:04:31 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.17):
  * storage/cnfs/cnfs.c (1.8):
  * innd/art.c (1.49):
  * innd/cc.c (1.25):
  * expire/makehistory.c (1.25):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/makehistory.c:
	    - suppress skipping message
	    - ARTHANDLE->token is set before SMstore() calls
    innd/art.c:
	    - ARTHANDLE->token is set before SMstore() calls
    innd/cc.c:
	    - do not mkdir for newgroup'ed newsgroup if storageapi is TRUE
    storage/cnfs/cnfs.c:
    storage/timehash/timehash.c:
	    - use memset() to initialize token if ARTHANDLE->token is not
	      set, else use memcpy() and copy ARTHANDLE->token to token

Thu Mar 12 14:13:10 1998  <barr>

  * Makefile.global.in (1.3):
    Typo - ${NEWSGRP} should be $(NEWSGROUP)  (the make variable name,
    not the configure subst name)

Thu Mar 12 14:07:13 1998  <barr>

  * doc/Makefile (1.17):
    From: Russell Vincent <russellv@uk.uu.net>
    
    doc/Makefile should be including Makefile.global to pick up the
    MAN paths.

Thu Mar 12 14:06:07 1998  <barr>

  * innfeed/Makefile (1.14):
    YACC needs -d here so y.tab.h gets created.

Thu Mar 12 13:10:33 1998 Marc Fournier <scrappy>

  * configure.in (1.30):
  * configure (1.28):
    Forgot to commit this last night...
    
    Sorry Russell :)

Wed Mar 11 19:51:25 1998 Marc Fournier <scrappy>

  * syslog/syslog.conf.in (1.1):
    and another one out of subst

Wed Mar 11 19:39:57 1998 Marc Fournier <scrappy>

  * samples/startup.tcl.in (1.1):
    The cleanup continues...

Wed Mar 11 19:22:47 1998 Marc Fournier <scrappy>

  * storage/buildconfig (1.5):
  * lib/Makefile (1.17):
  * nnrpd/Makefile (1.11):
  * storage/Makefile (1.21):
  * innfeed/config_l.c (1.4):
  * include/configdata.h (1.22):
  * innd/Makefile (1.21):
  * configure (1.27):
  * configure.in (1.29):
  * doc/Makefile (1.16):
    Various cleanups for configure

Wed Mar 11 19:19:52 1998 Marc Fournier <scrappy>

  * samples/innwatch.ctl.in (1.1):
    Paths are derived from configure, as is df

Wed Mar 11 19:13:27 1998 Marc Fournier <scrappy>

  * samples/innreport.conf.in (1.1):
    More getting rid of subst related issues

Wed Mar 11 19:06:50 1998 Marc Fournier <scrappy>

  * samples/actsync.cfg.in (1.1):
    Have configure set the path to the actsync.ign file...no real reason
    for this,
    as the admin *should* edit this file manually anyway...

Wed Mar 11 19:06:42 1998 <mibsoft>

  * innd/site.c (1.15):
    Bug report From:		 Chris van den Berg
    <usenet@agate.berkeley.edu>
    Dunno if anyone's reported on this before...  Here's a backtrace from a
    core file.	innd crashed with signal 11, seg fault after issuing
    ctlinnd
    feedinfo "sitename", where sitename is a real incoming site. The error
    is
    reproducable.  ctlinnd feedinfo "" (i.e. with a null string) doesn't
    cause
    innd to crash.  ctlinnd feedinfo "non.existent.site" also returns
    normally
    (No such site).  Running inn 1.7.2+insync-d under SunOS4.1.3_U1, with
    about 35 peers, using nntplink.
    
    Patch: by Forrest Cavalier.  Missing sprintf arg.  Would crash when
    SITEinfo
    was called with a site that was sleeping.

Wed Mar 11 16:47:46 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.7):
  * nnrpd/group.c (1.15):
  * nnrpd/article.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/makehistory.8:
	    letter case for some options are incorrect
    nnrpd/article.c:
    nnrpd/group.c:
	    not to mmap() if the file size is 0
    storage/cnfs/cnfs.c:
	    not to log unless CNFSflushhead() really does nothing

Wed Mar 11 15:02:21 1998 <mibsoft>

  * nnrpd/track.c (1.3):
    Remove declaration of flock_t variable which was never used.
    
    From: Forrest Cavalier

Wed Mar 11 15:00:47 1998 <mibsoft>

  * nnrpd/commands.c (1.9):
    From:	      Sven Paulus <sven@oops.sub.de>
    nnrpd shows a little odd behaviour when access to hierarchies is
    restricted
    from within nnrpd.access: doing a "LIST ACTIVE group.name" the group's
    values are displayed even if you don't have access at all to this
    group.
    This only happens if "group.name" is the name of an existing group and
    not
    a wildmatch-pattern and is caused by a little short cut for this case
    in
    nnrpd/command.c.
    
    This bug was first described by Bettina Fink <laura@krell.snafu.de> on
    the
    German Newsmasters Mailing List.
    
    I think, the following few lines should fix this (it's against
    1.7.2-insync,
    this might cause a little line offset):
    
    (Applied with a little hand-massage for 1.8)

Wed Mar 11 13:59:49 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs-private.h (1.4):
  * storage/cnfs/cnfs.c (1.6):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    /cnfs/cnfs-private.h:
    storage/cnfs/cnfs.c:
	    - new flag 'needflush' is added to CYCBUFF to indicate
	      CYCBUFFEXTERN is needed to be flushed
	    - cycnum type is changed to U_INT32_T
	    - CNFSflushhead() uses cycbuff->fdrdwr instead of
	      another opening
	    - '/dev/null' is not allowed to be used as cycbuff->path
	    - CNFSReadFreeAndCycle() did not get rpx correctly
	    - cnfs_retrieve() did not get article correctly even
	      if the article exists

Wed Mar 11 02:37:40 1998 Marc Fournier <scrappy>

  * storage/cnfs/cnfs.c (1.5):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    storage/cnfs/cnfs.c:
	    - change 'static' to 'STATIC'
	    - dynamic allocated table's next is not initialized
	    - mmap()'ed size should be article size and pagefudge

Tue Mar 10 16:24:28 1998 <mibsoft>

  * samples/senduuname.in (1.6):
  * samples/version.in (1.7):
  * samples/rmgroup.in (1.7):
  * samples/sendme.in (1.6):
  * samples/sendsys.in (1.6):
  * samples/ihave.in (1.6):
  * samples/inncheck.in (1.3):
  * samples/newgroup.in (1.6):
  * samples/checkgroups.in (1.6):
  * samples/default.in (1.6):
  * doc/typical.subst (1.3):
    From:	      Russell Vincent <russellv@uk.uu.net>
    Parsecontrol is in NEWSBIN, not NEWSLIB.

Tue Mar 10 16:18:55 1998 <mibsoft>

  * nnrpd/article.c (1.23):
  * nnrpd/nnrpd.c (1.18):
    From:	      Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    1. nnrpd doesn't ever set OVER_MODE to "r" (open the overview files for
    read),
    so OVER_MODE is still set at the default "a".  This means any
    subsequent
    attempts to actually read the overview file will fail, since it's only
    open
    for writing, not reading.
    
    2. In the branch of code in CMDxover that gets hit when StorageAPI is
    on
    but OVERmmap is not, the code doesn't bother to print the article
    numbers
    in front of the overview lines it dumps.

Tue Mar 10 16:12:01 1998 <mibsoft>

  * samples/nnrpd.track (1.1):
    From:	      Steve Carrie <stephenc@uk.uu.net>

Tue Mar 10 16:07:42 1998 <mibsoft>

  * site/Makefile (1.19):
    From:	      Steve Carrie <stephenc@uk.uu.net>
	    * mod to Makefile in site to add nnrpd.track sample file

Tue Mar 10 16:07:07 1998 <mibsoft>

  * nnrpd/track.c (1.2):
  * lib/getconfig.c (1.10):
  * include/libinn.h (1.17):
  * include/paths.h.in (1.4):
    From:	      Steve Carrie <stephenc@uk.uu.net>
	    * Modifications to the inn.conf code to allow the use of the
	      'readertrack' option (thanks to Russell for this)
    
	    * Mod to track.c to allow comments in nnrpd.track file (!)

Tue Mar 10 16:06:21 1998 <mibsoft>

  * doc/Makefile (1.15):
    From:	      Steve Carrie <stephenc@uk.uu.net>
	    * Mod to nnrpd.8 and inn.conf.5 manpages
	    * Mod to Makefile on doc to add nnrpd.track.5 manpage

Mon Mar 09 17:02:17 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.16):
  * storage/cnfs/cnfs.h (1.2):
  * storage/cnfs/cnfs-private.h (1.3):
  * storage/cnfs/cnfs.c (1.4):
  * storage/interface.c (1.14):
  * storage/interface.h (1.8):
  * innd/innd.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is a patch mostly for cnfs stuff considering
    storage api more carefully and for simplifying that
    code.  With this patch, innd stores article into
    cnfs thru storage api and those articles can be
    read by sm.  But there still may be some bugs in
    cnfs.c.
    
    doc/libstorage.3:
	    - remove description for closed to libstorage
    doc/storage.ctl.5:
	    - add description for method specific option
	      field
    innd/innd.c:
	    - 'ctlinnd xexec ""' did not call SMshutdown()
    storage/cnfs/cnfs-private.h:
    storage/cnfs/cnfs.c:
    storage/cnfs/cnfs.h:
	    - remove unused stuff
	    - allocate tables dynamically
	    - cnfs_next() is written
	    - 'groups' line in cycbuff.conf is gone, instead
	      SMGetConfig() is used
	    - some other bugs are fixed
    storage/interface.c:
    storage/interface.h:
	    - add new function SMGetConfig() which returns
	      addtional fields in storage.ctl
	      this function is closed to libstorage
	    - did not parse storage.ctl correctly
    storage/timehash/timehash.c:
	    - timehash_retrieve() did not set art->token

Mon Mar 09 13:53:56 1998 <mibsoft>

  * storage/interface.c (1.13):
    From:	      Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    Look in SMnext() (in storage/interface.c) around line 414.	As SMnext()
    goes
    through the storage manager table, if it sees one that is not
    initialized
    it goes ahead and tries to initialize it by calling InitMethod.  But if
    this
    is a storage method that isn't configured (isn't listed in
    storage.ctl), then
    InitMethod fails.  SMnext() shouldn't be trying to mess with entries in
    the
    storage manager table that aren't configured.  As it is, if your
    storage.ctl
    only lists one storage manager (timehash spool in my case), SMnext will
    first
    hit the un-configured storage manager entry for cnfs and die before
    ever
    reaching the storage manager that actually is in use.

Mon Mar 09 13:52:07 1998 <mibsoft>

  * innd/art.c (1.48):
    From:	      Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    In ARTstore(), when it sets up the article in preparation for writing
    it, it
    puts in the Xref: header, but does not ever set the 'Found' field of
    the
    Xref header structure.  (Note that the analogous non-storage-manager
    code
    in ARTwrite() does set this flag.)	Why is this a problem?	If 'Found'
    is not
    set by ARTstore, and an article comes in with no original Xref: header,
    the
    Found flag will still be 0, meaning ARTmakeoverview will create an
    overview
    line without Xref information.  This means that OVERstore, which
    depends on
    the Xref field of the overview line to figure out which overview.ctl
    entry to
    use, will silently not store any overview info for this article.

Thu Mar 05 13:33:04 1998 Marc Fournier <scrappy>

  * doc/Makefile (1.14):
    Reintroduce Makefile

Thu Mar 05 13:30:57 1998 James Brister <brister>

  * configure (1.26):
    Make site/subst.pl storage/buildconfig executable after created.
    Create storage/buildconfig from template

Thu Mar 05 13:28:06 1998 James Brister <brister>

  * configure.in (1.28):
    Do substitutions on storage/buildconfig too.
    chmod site/subst.pl and storage/buildconfig at end to make 'em
    executable

Thu Mar 05 13:26:15 1998 James Brister <brister>

  * storage/buildconfig.in (1.1):
    Configure-able template for buildconfig

Thu Mar 05 11:52:39 1998 James Brister <brister>

  * Makefile.global.in (1.2):
    Only set MAKE variable if necessary. Change needed too if make
    isn't called 'make' (e.g. gmake on bsd/os)

Wed Mar 04 02:35:11 1998 Marc Fournier <scrappy>

  * storage/timehash/Makefile (1.11):
  * storage/cnfs/cnfs.c (1.3):
  * storage/cnfs/cnfs-private.h (1.2):
  * storage/cnfs/Makefile (1.5):
  * storage/Makefile (1.20):
  * storage/interface.c (1.12):
  * site/Makefile (1.18):
  * samples/storage.ctl (1.2):
  * samples/innshellvars.tcl.in (1.5):
  * samples/innshellvars.in (1.6):
  * samples/innshellvars.pl.in (1.5):
  * nnrpd/Makefile (1.10):
  * lib/Makefile (1.16):
  * innfeed/Makefile (1.13):
  * innd/inndstart.c (1.7):
  * innd/innd.c (1.23):
  * innd/Makefile (1.20):
  * frontends/Makefile (1.12):
  * expire/Makefile (1.12):
  * config/Makefile (1.12):
  * backends/Makefile (1.10):
  * Makefile (1.9):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is the whole (Russell's and mine) patch.
    
    Makefile:
    config/Makefile:
    expire/Makefile:
    frontends/Makefile:
    innfeed/Makefile:
    lib/Makefile:
    nnrpd/Makefile:
    site/Makefile:
    storage/Makefile:
    storage/cnfs/Makefile:
    storage/timehash/Makefile:
	    This patch changes the Makefile include commands to be more
	    generic. The current system breaks non-BSD make compiles.
    
    backends/Makefile:
	    The '${i}' should be '$${i}' and 'BINDIR' should be 'NEWSBIN'
    for
	    the install target.
    
    doc/libstorage.3:
	    describe SMnext() more precisely
    
    doc/storage.ctl.5:
	    file foramat description is incorrect
    
    innd/Makefile:
	    'NEWSGROUP' is the news group variable and not 'NEWSGRP' as per
	    the previous line.
    
    innd/innd.c:
	    removed cnfs stuff and fixed vague syslog messages
    
    innd/inndstart.c:
	    'inndstart' should get installed as 'inndstart' and not 'innd'.
	    Fix 'inndstart.c' to look for the 'all' option for bindaddress.
    
    samples/innshellvars.csh.in:
    samples/innshellvars.in:
    samples/innshellvars.pl.in:
    samples/innshellvars.tcl.in:
	    We should define SED before using it in innshellvars*. This
    patch
	    moves the use to after the definition. The perl script was also
	    changed to match the others, although doesn't use sed.
    
    samples/storage.ctl:
	    example entries are incorrect
    
    storage/cnfs/cnfs-private.h:
	    CNFSread_config() definition changed to BOOL
    storage/cnfs/cnfs.c:
	    set __CNFS_*_Allowed to 1
	    fixed cnfs_retrieve(RETR_BODY) bug
    storage/interface.c:
	    fixed initialization problem

Tue Mar 03 00:57:30 1998 David C Lawrence <tale>

  * configure (1.25):
    Regenerated configure after pgpv/pgp changes to configure.in

Mon Mar 02 23:34:46 1998 David C Lawrence <tale>

  * config/config.scoreboard (1.27):
    removed _PATH_PGP being set from ac_cv_subst_path_pgp.
    This variable is not set in any file by the subst/config.data method.

Mon Mar 02 23:33:30 1998 David C Lawrence <tale>

  * configure.in (1.27):
    Look for PGP 5.0's pgpv, or pgp if pgpv is not found
    Set _PATH_PGP instead of ac_cv_subst_path_pgp

Mon Mar 02 22:20:44 1998 David C Lawrence <tale>

  * samples/innshellvars.in (1.5):
  * samples/innshellvars.pl.in (1.4):
  * samples/innshellvars.tcl.in (1.4):
    Include variable for path to pgp.

Mon Mar 02 22:18:28 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.6):
    Changes from 1.6 -> 1.7
    -- parse PGP 5.0 'good signature' lines.
    -- allow -test swtich; prints pgp input and output
    -- look for pgp in INN's innshellvars.pl
    -- changed regexp delimiters for stripping $0 to be compatible with old
    perl

Mon Mar 02 17:00:13 1998 <mibsoft>

  * nnrpd/group.c (1.14):
  * nnrpd/nnrpd.c (1.17):
  * nnrpd/article.c (1.22):
    |From:	       Steve Carrie <stephenc@uk.uu.net>
    |Subject:	       Tracking NNRPD - Minor changes..
    |
    |
    |HI again,
    |
    |Further to the submission of my patches for a tracking nnrpd, I've
    |done a little more work on it.
    |
    |1. The hosts.track file is now more correctly called nnrpd.track.
    Makes
    |more sense really. README.track updated to reflect this.
    |
    |2. Counter checking code to prevent an array overrun.
    |
    |3. Some minor changes to the logging messages. The format described in
    |README.track was correct, but some of the logging code lines had a
    |slightly different format. Eeek!
    |
    |4. The tracking was defaulted to ON. Sorry :(
    |
    |This patchset fixes all of the above. Apologies for
    |the mistakes.

Sat Feb 28 22:27:02 1998 Marc Fournier <scrappy>

  * samples/innshellvars.in (1.4):
  * storage/Makefile (1.19):
  * lib/Makefile (1.15):
  * nnrpd/Makefile (1.9):
  * include/configdata.h (1.21):
  * innd/Makefile (1.19):
  * configure.in (1.26):
  * makedirs.sh.in (1.1):
    makedirs.sh should be able to use the innshellvars that we've created
    to get its paths...keep things as central as possible...

Sat Feb 28 20:39:42 1998 Marc Fournier <scrappy>

  * innd/cc.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Attached is to ensure HASH size and article's token if it exists.

Sat Feb 28 20:38:48 1998 Marc Fournier <scrappy>

  * innd/cc.c (1.23):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    Currently if you're using the storage manager, 'makehistory -u' doesn't
    work
    right because it tries to feed pre-hashed message IDs to CCaddhist(),
    which
    is not prepared to accept them.   This patch fixes this.

Sat Feb 28 20:33:55 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.15):
  * expire/makehistory.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Re-thinking of this, I've got another solution.  timehash_next()
    should return art even if OpenArticle() fails.  In that case,
    art->len is set to 0.  Then makehistory checks to see if art->len
    is 0, and if so, makehistory calls SMcancel() if -b is specified.
    Attached is the patch that does this.  This patch includes one
    more bug fix in OpenArticle() if amount == RETR_BODY.

Sat Feb 28 08:27:37 1998 Marc Fournier <scrappy>

  * storage/Makefile (1.18):
  * storage/cnfs/Makefile (1.4):
  * storage/timehash/Makefile (1.10):
  * storage/Make.methods (1.2):
  * config/files.list (1.21):
    Okay, other then innfeed, this is looking clean...
    
    Am still getting errors related to subst that will be looked into
    tomorrow... (well, later today)

Sat Feb 28 07:57:57 1998 Marc Fournier <scrappy>

  * samples/version.in (1.6):
  * samples/writelog.in (1.4):
  * samples/sendbatch.in (1.5):
  * samples/sendme.in (1.5):
  * samples/sendsys.in (1.5):
  * samples/senduuname.in (1.5):
  * samples/signcontrol.in (1.2):
  * samples/tally.control.in (1.4):
  * samples/scanspool.in (1.4):
  * samples/send-ihave.in (1.5):
  * samples/send-nntp.in (1.5):
  * samples/send-uucp.in (1.5):
  * samples/rmgroup.in (1.6):
  * samples/scanlogs.in (1.12):
  * samples/news.daily.in (1.9):
  * samples/nntpsend.in (1.6):
  * samples/parsecontrol.in (1.11):
  * samples/pgpverify.in (1.5):
  * samples/rc.news.in (1.7):
  * samples/innshellvars.in (1.3):
  * samples/innshellvars.pl.in (1.3):
  * samples/innshellvars.tcl.in (1.3):
  * samples/innstat.in (1.6):
  * samples/innwatch.in (1.5):
  * samples/newgroup.in (1.5):
  * samples/ihave.in (1.5):
  * samples/inncheck.in (1.2):
  * samples/innmail.in (1.3):
  * samples/innreport.in (1.3):
  * samples/checkgroups.in (1.5):
  * samples/default.in (1.5):
  * samples/docheckgroups.in (1.5):
  * samples/expirerm.in (1.5):
  * configure (1.24):
  * configure.in (1.25):
    This should result in samples not requiring subst
    
    In site, there is a 'subst.pl' generated by configure that is used in
    the
    place of subst when you make

Sat Feb 28 07:01:05 1998 Marc Fournier <scrappy>

  * storage/timehash/Makefile (1.9):
  * site/getsafe.sh (1.2):
  * storage/Makefile (1.17):
  * storage/cnfs/Makefile (1.3):
  * samples/send-ihave.in (1.4):
  * samples/send-nntp.in (1.4):
  * samples/send-uucp.in (1.4):
  * site/Makefile (1.17):
  * samples/news.daily.in (1.8):
  * samples/nntpsend.in (1.5):
  * samples/parsecontrol.in (1.10):
  * samples/rc.news.in (1.6):
  * samples/scanlogs.in (1.11):
  * samples/expirerm.in (1.4):
  * samples/innmail.in (1.2):
  * samples/innstat.in (1.5):
  * samples/innwatch.in (1.4):
  * lib/Makefile (1.14):
  * nnrpd/Makefile (1.8):
  * samples/docheckgroups.in (1.4):
  * innd/Makefile (1.18):
  * innfeed/Makefile (1.12):
  * expire/Makefile (1.11):
  * frontends/Makefile (1.11):
  * include/paths.h.in (1.3):
  * config/Makefile (1.11):
  * backends/Makefile (1.9):
  * backends/actsync.c (1.10):
  * configure (1.23):
  * configure.in (1.24):
  * Makefile (1.8):
    More cleanups
    
    Trying to rethink the samples->site directory arrangement

Sat Feb 28 05:12:58 1998 Marc Fournier <scrappy>

  * storage/timehash/Makefile (1.8):
  * storage/cnfs/cnfs.c (1.2):
  * storage/cnfs/Makefile (1.2):
  * storage/Makefile (1.16):
  * site/Makefile (1.16):
  * nnrpd/Makefile (1.7):
  * lib/Makefile (1.13):
  * innfeed/Makefile (1.11):
  * innd/Makefile (1.17):
  * include/paths.h.in (1.2):
  * frontends/Makefile (1.10):
  * expire/Makefile (1.10):
  * doc/Makefile (1.13):
  * config/Makefile (1.10):
  * backends/Makefile (1.8):
  * configure.in (1.23):
  * configure (1.22):
  * Makefile.global.in (1.1):
  * Makefile (1.7):
    Major consolidation of Makefile defines generated by configure into one
    central Makefile.global that each of the individual subdirectoried
    Makefiles include to grab common values.
    
    This will cause some breakage, as I am bound to have oversimplied the
    -I<include> paths...watch for and report this, please

Sat Feb 28 03:42:19 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.8):
  * expire/expire.c (1.30):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/expire.c:
	    check to see if the 3rd field of the entry is token if the 1st
	    field begins with '['
    storage/overview.c:
	    check to see if fseek() is successful
    
    -

Fri Feb 27 17:52:28 1998 <mibsoft>

  * nnrpd/nnrpd.h (1.13):
  * nnrpd/post.c (1.11):
  * nnrpd/track.c (1.1):
  * nnrpd/article.c (1.21):
  * nnrpd/group.c (1.13):
  * nnrpd/nnrpd.c (1.16):
    Those modifications to nnrpd were made to allow more detailed tracking
    of the activities of a nnrp client connecting to an inn server.
    
    Basically, the mods allow certain reader sessions to be monitored for
    article numbers read from groups, and also makes copies of any posts
    made by the client.
    
    Details are in README.track
    
    From: Steve Carrie stephenc@uk.uu.net

Fri Feb 27 16:24:12 1998 <mibsoft>

  * config/config.scoreboard (1.26):
    Cut and pasted spaces instead of tabs.  Corrected.
    This would have affected CNFS related items.

Fri Feb 27 15:36:34 1998 <mibsoft>

  * config/config.scoreboard (1.25):
    More CNFS items that I left off accidentally.  Many of these
    CNFS items are going to get moved out, but for now it permits
    some way of trying out the CNFS code.

Fri Feb 27 15:30:18 1998 <mibsoft>

  * config/config.scoreboard (1.24):
    Help Scott a bit by placing the CNFS configuration items
    into config.scoreboard.  They were added to config.dist, but
    that was not going to work if you used configure.  (Scott
    realized this, but didn't feel enough aware of the current
    configure implementation to make the changes himself.)

Fri Feb 27 14:51:48 1998 <mibsoft>

  * samples/innreport_inn.pm (1.2):
  * samples/innreport.in (1.2):
    upgrade of innreport (2.1.9_6 -> 2.1.9_7)
    From the author: Fabien Tassin

Fri Feb 27 10:41:59 1998 Scott Fritchie <fritchie>

  * samples/cycbuff.conf (1.1):
    CNFS (cyclic buffer "filesystem") storage manager example config file.
    
    Hopefully syntax-error-free.

Fri Feb 27 10:40:40 1998 Scott Fritchie <fritchie>

  * configure.in (1.22):
    CNFS (cyclic buffer "filesystem") storage manager items.
    
    Added "storage/cnfs/Makefile" to AC_OUTPUT.

Fri Feb 27 10:39:16 1998 Scott Fritchie <fritchie>

  * configure (1.21):
    CNFS (cyclic buffer "filesystem") storage manager items.
    
    I, er, was flying a little blind, here.  Added processing for
    storage/cnfs/Makefile.

Fri Feb 27 10:34:01 1998 Scott Fritchie <fritchie>

  * innd/innd.c (1.22):
    CNFS (cyclic buffer "filesystem") storage manager ugliness.
    
    Added one #include statement near the top of the file to include
    "../storage/cnfs/cnfs.h".  I almost certainly shouldn't be doing that,
    but
    I needed the "extern" declarations for the following in main() which is
    a
    bit of out-of-band communication with the CNFS storage manager:
    
	__CNFS_Write_Allowed = 1;
	__CNFS_Cancel_Allowed = 1;
    
    My sleep-deprived brain can't suggsest a good way around this, so I'll
    commit it for now and hope that Alfonse and Guido don't break into my
    house
    this morning to break my kneecaps.

Fri Feb 27 10:23:26 1998 Scott Fritchie <fritchie>

  * config/files.list (1.20):
    CNFS (cyclic buffer "filesystem") storage manager files added.

Fri Feb 27 10:22:12 1998 Scott Fritchie <fritchie>

  * storage/cnfs/cnfs.h (1.1):
  * storage/cnfs/method.config (1.1):
  * storage/cnfs/Makefile (1.1):
  * storage/cnfs/cnfs-private.h (1.1):
  * storage/cnfs/cnfs.c (1.1):
    CNFS (cyclic buffer "filesystem") storage manager items.
    
    I've only been half-way successful in cleaning up this code from its
    INN 1.5.1 incarnation.  Tested only under Solaris 2.5.1 at the moment,
    and only with "innd", "innxmit", "sm", and "innfeed".
    
    Sorry this took so !@#$! long.  :-|

Fri Feb 27 08:57:12 1998 Marc Fournier <scrappy>

  * configure.in (1.21):
  * configure (1.20):
    Had an error in configure...fixed now

Fri Feb 27 08:52:26 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.23):
    config.scoreboard reduced from 1379->804
    
    more tomorrow (well, later today)

Fri Feb 27 08:40:59 1998 Marc Fournier <scrappy>

  * configure.in (1.20):
  * configure (1.19):
    Forgot to update configure :(

Fri Feb 27 08:38:28 1998 Marc Fournier <scrappy>

  * site/Makefile (1.15):
  * samples/innshellvars.pl.in (1.2):
  * samples/innshellvars.tcl.in (1.2):
  * samples/innshellvars.in (1.2):
  * config/config.scoreboard (1.22):
  * configure.in (1.19):
    More cleanups...
    
	    Use SPOOLDIR/LOGDIR and set the various programs
    properly...further
    reduce config.scoreboard
    
    I'm bound to miss *something*, but am trying to be as complete as I
    can...
    point out anything I've missed...

Fri Feb 27 07:04:47 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.21):
    Make a copy of config.scoreboard and then remove all the 'commented'
    lines
    that aren't being used for anything, so that what is left is what needs
    to
    be worked on still

Fri Feb 27 06:48:34 1998 Marc Fournier <scrappy>

  * samples/innshellvars.tcl.in (1.1):
  * site/Makefile (1.14):
  * samples/innshellvars.in (1.1):
  * samples/innshellvars.pl.in (1.1):
  * samples/inncheck.in (1.1):
  * innfeed/config_l.c (1.3):
  * include/configdata.h (1.20):
  * include/libinn.h (1.16):
  * include/paths.h.in (1.1):
  * config/config.scoreboard (1.20):
  * doc/Makefile (1.12):
  * backends/actsync.c (1.9):
  * configure.in (1.18):
  * configure (1.18):
    Still more work to go...see config.data shrink drastically

Fri Feb 27 02:51:06 1998 <mibsoft>

  * lib/getconfig.c (1.9):
    This patch makes the 'bindaddress' option a little clearer,
    by changing the 'any' option to 'all'. i.e: The default
    is to listen on all interfaces. 'any' is an alias for 'all'.
    
    From:	      Russell Vincent <russellv@uk.uu.net>

Fri Feb 27 02:39:20 1998 <mibsoft>

  * lib/getconfig.c (1.8):
  * innd/art.c (1.47):
  * include/libinn.h (1.15):
    } From: Katsuhiro Kondou <kondou@nec.co.jp>
    :
    } BTW, is timespool in inn.conf needed?  I think timespool is
    } useless since expire cannot care its expiry time correctly and
    } timehash through storage api is more useful.  If there is no
    } objection, I'll remove that stuff and post the patch.

Thu Feb 26 16:26:41 1998 <mibsoft>

  * lib/getconfig.c (1.7):
  * include/libinn.h (1.14):
    Changes to support one-location config value implementation.

Thu Feb 26 15:09:06 1998  <barr>

  * innd/nc.c (1.21):
    From:    av@omega.ssw.de (Andreas Vogel)
    
    hereby I want to submit a bug report for inn 1.7.2. The bug
    shows up when receiving batches via the XBATCH command. The
    first batch is received properly while any following batches
    are discarded due to protocol errors.
    
    The cause for this bug is quite simple: in innd/nc.c,
    where the xbatch protocol state machine is located, the statement
    for resetting the state after receiving a xbatch is missing.

Thu Feb 26 13:54:44 1998 <mibsoft>

  * expire/makehistory.c (1.23):
    |From:	       Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    |
    |Found what seem to be a couple of nasty bugs in makehistory.
    |
    |1)  In the function DoNewsgroup (which looks at the files in a given
    |	 (traditional-format) news spool dir), the current file name never
    gets
    |	 appended to the 'buff' buffer that is supposed to hold the full
    path.
    |	 This causes, e.g. the '-b' option to attempt to remove files with
    |	 completely bogus filenames.
    |
    |2)  In the function DoMemArt(), there's code that handles article
    headers
    |	 that are listed in ARTfields, and code that handles article
    headers that
    |	 are listed in the Missfields array.  The code for the former case
    looks
    |	 for a \r\n to terminate the header, and the resulting string is
    set to
    |	 be the header string sans the \r\n.  But the code for the latter
    case
    |	 (in Missfields) looks for a header ending only in \n, and sets
    |	 the resulting string to include the \r\n.  The result: If you do a
    |	 rebuild of history without rebuilding overview (so the
    overview.fmt
    |	 never gets read, and all headers, including Message-ID, are in the
    |	 Missfields array), the Message-ID header string includes the
    trailing
    |	 \r\n, which causes GetMessageID to always declare the Message-ID
    to be
    |	 invalid.
    |
    |There are probably other bugs lurking in makehistory as well; with
    these fixes
    |in place, a 'makehistory -b -u -v -n' ran to completion, and seemed to
    have
    |approprately added a bunch of missing arts to history, but ever since
    I ran it,
    |expire has been dumping core, so presumably there's some crud that got
    |written into history. :-(.

Thu Feb 26 13:51:55 1998 <mibsoft>

  * storage/overview.c (1.7):
    From:	      Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    In the 'MatchGroups' subroutine, the 'groups' variable is set to point
    to
    'p-g' bytes of allocated space, but then right after that code tries to
    set 'groups[p-g]' to something.  Oops.  The groups buffer needs to be a
    byte longer.

Wed Feb 25 01:47:23 1998 David C Lawrence <tale>

  * samples/sample.control (1.2):
    This sample.control file is From: group-admin@isc.org, so it can
    be tested with the shipped control.ctl.

Tue Feb 24 16:57:54 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.19):
  * configure.in (1.17):
  * configure (1.17):
    Let's try that again...the right way this time
    
    RANLIB removed from config/score.board, with the Makefile's modified
    directly,
    as they should be...

Tue Feb 24 16:56:04 1998 <mibsoft>

  * configure.in (1.16):
  * configure (1.16):
    Ranlib config failed when ranlib was not found.
    Removed extra spaces from a sh statement.

Tue Feb 24 13:57:56 1998 <mibsoft>

  * configure.in (1.15):
  * configure (1.15):
    Resolution of -lresolv tests.  Tested by Russell Vincent
    on FreeBSD and Solaris (the two systems known to be
    affected.)

Tue Feb 24 06:20:20 1998 Marc Fournier <scrappy>

  * lib/makedir.c (1.2):
  * storage/interface.c (1.11):
  * storage/interface.h (1.7):
  * storage/overview.c (1.6):
  * innd/wip.c (1.6):
    Various fixes by Fabien Tassin <fta@oleane.net> for Linux...

Tue Feb 24 04:57:08 1998 Marc Fournier <scrappy>

  * nnrpd/commands.c (1.8):
  * nnrpd/nnrpd.c (1.15):
  * nnrpd/nnrpd.h (1.12):
  * nnrpd/post.c (1.10):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch adds 2 new options to the 'perms' field of nnrp.access.
    
      N - allow use of the "NEWNEWS" command - overrides default
      L - allow local postings in groups where local postings are rejected
    
    Adapted from: A patch originally written by <andy@demos.su> Andrew
    Vasilyev
    
    Also sets defaults for PERMcanread and PERMcanpost in PERMgeneric().
    They weren't set (although not a problem), but lets be safe.

Tue Feb 24 04:54:17 1998 Marc Fournier <scrappy>

  * lib/getconfig.c (1.6):
  * innd/innd.c (1.21):
  * innd/innd.h (1.26):
  * innd/nc.c (1.20):
  * innd/status.c (1.3):
  * innd/timer.c (1.5):
  * innd/art.c (1.46):
  * innd/cc.c (1.22):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch cleans up some of handling of the inn.conf options,
    converting some variables to use innconf only.

Tue Feb 24 03:42:35 1998 <mibsoft>

  * config/config.scoreboard (1.18):
    Fixed LINTFLAGS

Tue Feb 24 03:37:17 1998 <mibsoft>

  * configure.in (1.14):
  * configure (1.14):
  * README.perl_hook (1.3):
    Here is a patch to fix some bug.
    
    README.perl_hook:
	    perl5.004 is needed for successful compilation
    
    Submitted by Katsuhiro Kondou.
    
    See also message to inn-workers Feb 11, 1998
    
    configure.in editting errors.  (Reported by various people.)

Mon Feb 23 15:44:44 1998 Marc Fournier <scrappy>

  * backends/buffchan.c (1.6):
    DO_HAVE_FCHMOD is no longer a valid define, as its been removed from
    config.data, and replaced with HAVE_FCHMOD, which is determined via
    configure...

Mon Feb 23 15:21:30 1998 <coneill>

  * backends/buffchan.c (1.5):
    Fixed a bogus #ifdef HAVE_FCHMOD to be #ifdef DO_HAVE_FCHMOD.  Wouldn't
    compile w/o that if you actually had a prototype for fchmod

Mon Feb 23 06:18:39 1998 Marc Fournier <scrappy>

  * README.perl_hook (1.2):
    Also, I've included a patch to README.perl_hook to clean up the
    documentation a bit. I included the only two drop-in perl filters I
    know
    about; do we want to maintain such a list, or should that be left for
    the
    user to fend for themselves?
    
    From: Edward S. Marshall <emarshal@xnet.com>

Mon Feb 23 02:47:13 1998 <mibsoft>

  * config/files.list (1.19):
  * config/whsubst.sh (1.2):
    Improve whsubst.sh:
	- look for 'file.in' if 'file' does not exist.
    
	- take special arguments 'any' will list files with any
    substitution lines.
	     'none' will list files with no substitution lines
    
    Comment out samples/pgpverify from files.list, it had no substitution
    lines.

Mon Feb 23 01:26:25 1998 <mibsoft>

  * config/files.list (1.18):
    Reverse a change which had unintended configure
    consequences.  subst should run on Makefile not
    Makefile.in when needed.

Sun Feb 22 22:24:55 1998 <mibsoft>

  * config/files.list (1.17):
    Comment out lines for man pages already converted.

Sun Feb 22 21:04:11 1998 Marc Fournier <scrappy>

  * configure (1.13):
  * configure.in (1.13):
    forgot to remove the .in in conifgure.in

Sun Feb 22 20:11:20 1998 Marc Fournier <scrappy>

  * config/files.list (1.16):
    Update files.list to reflect Makefile.in changes

Sun Feb 22 20:04:46 1998 Marc Fournier <scrappy>

  * storage/timehash/Makefile (1.7):
  * storage/Makefile (1.15):
  * lib/Makefile (1.12):
  * nnrpd/Makefile (1.6):
  * innfeed/Makefile (1.10):
  * frontends/Makefile (1.9):
  * innd/Makefile (1.16):
  * expire/Makefile (1.9):
  * config/Makefile (1.9):
  * config/config.scoreboard (1.17):
  * backends/Makefile (1.7):
  * configure.in (1.12):
  * Makefile (1.6):
  * configure (1.12):
    CC/CFLAGS/LDFLAGS/LIBS should be generated via configure in each of the
    Makefiles

Sun Feb 22 18:31:23 1998 Marc Fournier <scrappy>

  * nnrpd/article.c (1.20):
  * include/configdata.h (1.19):
    Include "config.h" in configdata.h, so that its everywhere
    include unistd.h in nnrpd/article.c with appropriate check

Sun Feb 22 07:33:28 1998 Marc Fournier <scrappy>

  * innd/innd.c (1.20):
  * lib/waitnb.c (1.3):
  * include/config.h.in (1.4):
  * include/configdata.h (1.18):
  * innd/art.c (1.45):
  * expire/makeactive.c (1.3):
  * expire/makehistory.c (1.22):
  * backends/crosspost.c (1.6):
  * config/config.scoreboard (1.16):
  * backends/archive.c (1.5):
    More moved from config.data to include/config.h

Sun Feb 22 07:21:30 1998 Marc Fournier <scrappy>

  * lib/gettime.c (1.3):
  * nnrpd/nnrpd.c (1.14):
  * include/configdata.h (1.17):
  * innd/innd.c (1.19):
  * innfeed/main.c (1.8):
  * config/config.scoreboard (1.15):
  * include/config.h.in (1.3):
  * backends/buffchan.c (1.4):
  * configure.in (1.11):
  * configure (1.11):
    More clean{out,up}s...
    
    For:
	    - setbuffer()
	    - fchmod()
	    - setproctitle()
	    - gettimeofday()
    
    Move from config.data to include/config.h

Sun Feb 22 07:04:50 1998 Marc Fournier <scrappy>

  * innfeed/uio_maxiov.c (1.2):
  * lib/lockfile.c (1.3):
  * innfeed/endpoint.c (1.11):
  * innfeed/innlistener.c (1.5):
  * innfeed/main.c (1.7):
  * innfeed/misc.c (1.2):
  * innfeed/tape.c (1.5):
  * innfeed/article.c (1.12):
  * innfeed/connection.c (1.14):
  * include/config.h.in (1.2):
  * include/configdata.h (1.16):
  * config/config.scoreboard (1.14):
    Replace DO_HAVE_UNISTD (in config.data) with HAVE_UNISTD_H (in
    config.h)

Sun Feb 22 06:49:07 1998 Marc Fournier <scrappy>

  * include/config.h.in (1.1):
  * include/configdata.h (1.15):
  * config/config.scoreboard (1.13):
  * configure.in (1.10):
  * configure (1.10):
    Work at reducing the overall config.data file by moving compiler
    related
    defines into an include/config.h file and out of config.data
    
    These are things that configure should be auto-detecting, and that
    someone
    doing a compile shouldn't have to wade through ...

Sun Feb 22 05:55:28 1998 Marc Fournier <scrappy>

  * configure (1.9):
  * configure.in (1.9):
    Time to clean up the clean up...
    
    comment out:
    
    #if test x$ac_need_libresolv=x1
    #then
    #LIBS="$LIBS -lresolv"
    #fi
    
    As it breaks things under FreeBSD...am going to get a little deeper
    into
    configure, based on my experience with PostgreSQL

Sat Feb 21 17:41:17 1998 Marc Fournier <scrappy>

  * innd/ng.c (1.8):
    speed up active renumbering a little bit
    
    From: Katsuhiro Kondou <kondou@nec.co.jp>

Sat Feb 21 17:39:51 1998 Marc Fournier <scrappy>

  * lib/dbz.c (1.16):
    Cleanup patch
    
    From: Katsuhiro Kondou <kondou@nec.co.jp>

Fri Feb 20 15:06:44 1998 <mibsoft>

  * config/files.list (1.15):
  * config/files.list (1.14):
  * config/files.list (1.13):
    Comment out lines for man pages already converted.

Fri Feb 20 14:26:42 1998 Marc Fournier <scrappy>

  * backends/overchan.c (1.12):
    From: Russell Vincent <russellv@uk.uu.net>
    
    If overchan finished without processing anything, it could
    dump core at the DISPOSE, due to an unitialised Xref.
    This patch initialises Xref to NULL.

Fri Feb 20 14:26:02 1998 Marc Fournier <scrappy>

  * nnrpd/article.c (1.19):
    From: Russell Vincent <russellv@uk.uu.net>
    
    If not using 'articlemmap', then a check for Message-ID in CMDfetch()
    sets
    the file pointer to be after the Message-ID and only headers after
    the Message-ID are sent to the client with a HEAD/ARTICLE.
    
    This patch resets the file pointer before sending article parts.

Fri Feb 20 13:56:41 1998 <mibsoft>

  * config/files.list (1.12):
    Comment out lines for man pages already converted.

Fri Feb 20 13:52:44 1998 <mibsoft>

  * doc/typical.subst (1.2):
    Modifed man pages.
    Added a missing item to typical.subst
    
    Outline of this work at:
    http://www.mibsoftware.com/userkt/inn/dev/doc1.8/0001.htm

Fri Feb 20 03:05:58 1998 Marc Fournier <scrappy>

  * lib/getconfig.c (1.5):
  * innd/innd.c (1.18):
  * innd/inndstart.c (1.6):
  * innd/rc.c (1.19):
  * include/libinn.h (1.13):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch adds inn.conf and '-I' command-line options to allow
    inn to bind to a specific interface IP address. It also honours the
    "INND_BIND_ADDRESS" env variable from a similar patch available on
    http://www.nntp.sol.net/patches/.
    
    Included in the patch is the addition of 'port' in inn.conf to
    specify the INN port to listen on (compliments the existing '-P'
    command-line option which can override the inn.conf option).

Fri Feb 20 02:57:49 1998 Marc Fournier <scrappy>

  * nnrpd/nnrpd.c (1.13):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This patch adds a '-R' option to nnrpd that forces it into a
    'no posting' state, overriding any nnrp.access settings.
    This is useful when running multiple nnrpd's off something like
    inetd to provide a 'read-only' port.
    
    Coded by: Stephen Carrie <stephenc@uk.uu.net>

Thu Feb 19 23:25:58 1998 <mibsoft>

  * config/files.list (1.11):
    Comment out man pages which were converted to not need
    subst from config.data.

Thu Feb 19 17:58:42 1998 <mibsoft>

  * doc/typical.subst (1.1):
    File to permit changing the typical configuration values which
    appear in the modified inn man pages.
    Outline of this work at:
    http://www.mibsoftware.com/userkt/inn/dev/doc1.8/0001.htm

Thu Feb 19 16:20:36 1998 <mibsoft>

  * config/whsubst.sh (1.1):
    A shell script for developer and maintenance use.
    Use this program to locate subst victim files in files.list which
    reference a particular parameter.
    Example use:
	    cd config
	    ./whsubst.sh _PATH_ACTIVE

Thu Feb 19 13:34:26 1998 Marc Fournier <scrappy>

  * lib/dbz.c (1.15):
  * include/dbz.h (1.8):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    No problem.  Here's the patch.  Fair warning: the dbz 6.1.1 code from
    Sang-yong Suh was based on the INN-current source from circa November. 
    I.e.
    there may be bugs in the non-DO_TAGGED_HAS case code that were there
    back
    in November that were fixed later in inn-current; this patch would
    obviously
    undo those changes.  You probably want to look at the cvs logs for
    dbz.[ch] and
    make sure that any bug fixes that got put in the main tree since
    November
    get put *back* in by you or one of the other committers.  (Alas, I only
    started
    cvsuping inn-current copies a couple weeks ago, so I can't check for
    such
    changes in my own CVS tree...)

Wed Feb 18 23:29:46 1998 <mibsoft>

  * config/config.scoreboard (1.12):
    1. scoreboard changes near DBZ_TAGGED_HASH entry.
    2. Spaces where there should be a tab.

Wed Feb 18 23:27:30 1998 <mibsoft>

  * configure (1.8):
  * configure.in (1.8):
    --with-perl triggered errors in configure

Wed Feb 18 15:47:54 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.11):
    Seting DBZ_TAGGED_HASH to DO breaks the compile

Wed Feb 18 13:44:27 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.10):
    From: Russell Vincent <russellv@uk.uu.net>
    
    subst looks for tabs separating variables and values. DBZ_TAGGED_HASH
    had spaces. This patch converts the spaces to a tab.

Wed Feb 18 12:52:21 1998 Marc Fournier <scrappy>

  * nnrpd/nnrpd.h (1.11):
  * nnrpd/post.c (1.9):
  * nnrpd/commands.c (1.7):
  * nnrpd/newnews.c (1.4):
  * nnrpd/nnrpd.c (1.12):
  * lib/getconfig.c (1.4):
  * innd/status.c (1.2):
  * innd/ng.c (1.7):
  * innd/rc.c (1.18):
  * innd/site.c (1.14):
  * innd/innd.h (1.25):
  * innd/nc.c (1.19):
  * innd/newsfeeds.c (1.12):
  * innd/chan.c (1.21):
  * innd/his.c (1.22):
  * innd/innd.c (1.17):
  * innd/art.c (1.44):
  * innd/cc.c (1.21):
  * include/libinn.h (1.12):
  * include/configdata.h (1.14):
  * frontends/inews.c (1.6):
  * frontends/rnews.c (1.7):
  * expire/newsrequeue.c (1.7):
  * config/config.scoreboard (1.9):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This is a mega-patch of the config-data->inn.conf variables.
    The process involved creating a new struct variable 'innconf'
    and all the inn.conf variables are placed in that. e.g:
    
     config.data     inn.conf	    usage
    MAX_ART_SIZE -> maxartsize -> innconf->maxartsize
    WANT_TRASH	 -> wanttrash  -> innconf->wanttrash
    
    The new options have been added to the inn.conf(5) man page and
    the old config.data options removed from files where necessary.
    The entries in config.scoreboard were commented out. A full
    list of variables available in 'innconf' can be found in
    include/libinn.h and lib/getconfig.c.
    
    Not all config.data options have moved across, because not all
    are suitable for this change. PATH options are going to be
    a lot tricker, as they appear in man pages and scripts.
    
    Compiles and tested for about a week with no problems.

Wed Feb 18 12:48:51 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.5):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    OVERstore() breaks the first part of overview data when
    it stores data for the first time.

Wed Feb 18 12:46:40 1998 Marc Fournier <scrappy>

  * innd/his.c (1.21):
  * include/configdata.h (1.13):
  * expire/expire.c (1.29):
  * expire/makehistory.c (1.21):
  * config/config.scoreboard (1.8):
    From: Richard Michael Todd <rmtodd@mailhost.ecn.ou.edu>
    
    Several patches/fixes for the dbz6.1 code

Wed Feb 18 12:33:46 1998 Marc Fournier <scrappy>

  * nnrpd/misc.c (1.9):
    From: Dave Hayes <dave@jetcafe.org>
    
    Improved documentation for Exponential Backup patch for NNRPD

Tue Feb 17 13:17:03 1998 Marc Fournier <scrappy>

  * doc/Makefile (1.11):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is the man page for libstorage(3).

Tue Feb 17 13:16:13 1998 Marc Fournier <scrappy>

  * nnrpd/nnrpd.c (1.11):
  * innd/rc.c (1.17):
  * include/configdata.h (1.12):
  * config/config.scoreboard (1.7):
  * backends/overchan.c (1.11):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    backends/overchan.c:
	    can handle data begins with '[' if storage api is not used
    
    config/config.dist:
    config/config.dist.subst:
    config/config.scoreboard:
    doc/nnrp.access.5:
    include/configdata.h:
    nnrpd/nnrpd.c:
    sample-configs/config.data-DU4.0:
    sample-configs/config.data-FreeBSD-2.0:
    sample-configs/config.data-OSF1.3a:
    sample-configs/config.data-OSF3.0:
    sample-configs/config.data-aix-4.1.4:
    sample-configs/config.data-aux3.1:
    sample-configs/config.data-dynixptx2.1:
    sample-configs/config.data-irix-5.2:
    sample-configs/config.data-linux-2.0.18:
    sample-configs/config.data-newsos-4.2.1:
    sample-configs/config.data-next3.2:
    sample-configs/config.data-solaris2.3-4:
    sample-configs/config.data-sunos-4.1.x:
    sample-configs/config.data-ultrix4.3:
    sample-configs/config.data-ux4800:
    sample-configs/config.data-uxpds:
	    quote '#ifdef DONT_HAVE_SHADOW' around lines crypt()
    
    innd/rc.c:
	    duplicate declaration 'i' which leads syntax error

Fri Feb 13 15:28:21 1998  <barr>

  * innd/innd.c (1.16):
  * innd/rc.c (1.16):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Here is a tested and documented fix to add a -Pport option to innd
    to have innd open a different port. Note that the option already
    existed
    in inndstart, which converted it to a -p option (i.e: file descriptor).

Fri Feb 13 13:26:27 1998 Marc Fournier <scrappy>

  * samples/nnrp.access (1.2):
  * nnrpd/nnrpd.c (1.10):
  * nnrpd/commands.c (1.6):
    From: Russell Vincent <russellv@uk.uu.net>
    
    We have a need for multiple nnrp.access files so that customers
    can maintain their own. It also reduces the size of the main one,
    so improves performance a little with big files.

Fri Feb 13 13:20:27 1998 Marc Fournier <scrappy>

  * nnrpd/misc.c (1.8):
    From: Russell Vincent <russellv@uk.uu.net>
    
    The latests backoff patches broke nnrpd if the 'backoff_xx'
    options aren't defined in inn.conf. This patch turns them
    off if they aren't defined.

Tue Feb 10 15:07:39 1998  <barr>

  * innd/rc.c (1.15):
    remove extraneous setting of server.sin_port
    (I will read inn-workers before committing patches.. I WILL read
    inn-workers before committing patches....)

Tue Feb 10 14:49:23 1998  <barr>

  * storage/Makefile (1.14):
  * config/Makefile (1.8):
  * config/files.list (1.10):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    config/Makefile:
    config/files.list:
	    path of perl and innshellvars.pl in innmail is not substituted.
    
    storage/Makefile:
	    make world (which will do make lint) is failed.

Tue Feb 10 14:46:04 1998  <barr>

  * innd/rc.c (1.14):
    From: "Heiko W.Rupp" <hwr@pilhuhn.de>
    
    If you call innd -p x  the server will never start.
    
    Problem is that in RCsetup(i, master) a socket is only opened,
    when no port is given on the command line. I already reported this on
    end of december.

Tue Feb 10 03:14:14 1998 Marc Fournier <scrappy>

  * nnrpd/misc.c (1.7):
  * nnrpd/nnrpd.c (1.9):
  * nnrpd/nnrpd.h (1.10):
  * nnrpd/commands.c (1.5):
    NNRPD Exponential Backup patch...
    
    From: Dave Hayes <dave@jetcafe.org>

Mon Feb 09 15:49:07 1998 <coneill>

  * innd/icd.c (1.6):
    Removed the definition of MAP__ARG since it's already defined in
    clibrary.h

Mon Feb 09 03:29:43 1998 Marc Fournier <scrappy>

  * innd/site.c (1.13):
    From: Dave Hayes <dave@jetcafe.org>
    
    +		    /* Since we just had a successful write, we need to
    clear the
    +		     * channel's error counts. - dave@jetcafe.org */
    +		    cp->BadWrites = 0;
    +		    cp->BlockedWrites = 0;

Mon Feb 09 01:50:21 1998 Marc Fournier <scrappy>

  * samples/news.daily.in (1.7):
  * storage/overview.c (1.4):
  * expire/makehistory.c (1.20):
  * innd/cc.c (1.20):
  * expire/expire.c (1.28):
  * expire/expireindex.c (1.6):
  * backends/overchan.c (1.10):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is another patch for 1.8 current.
    
    doc/expireindex.8:
    doc/makehistory.8:
	    correct description
    
    expire/expire.c:
	    avoid unexpected expire failure if storage api is not turned on
    
    expire/expireindex.c:
	    bug fix for appending new index
    
    expire/makehistory.c:
	    put value in correct address
    
    innd/cc.c:
	    not to refer incorrect value
    
    samples/news.daily:
	    restrict stderr output of innconfval failure
    
    storage/overview.c:
	    do not mmap if size == 0

Fri Feb 06 00:53:22 1998 Marc Fournier <scrappy>

  * storage/overview.c (1.3):
  * innd/art.c (1.43):
  * innd/cc.c (1.19):
  * innd/innd.h (1.24):
  * innd/newsfeeds.c (1.11):
  * expire/expireindex.c (1.5):
  * expire/makehistory.c (1.19):
  * expire/expire.c (1.27):
  * backends/overchan.c (1.9):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is the patch for some bug fix etc. for 1.8 current.
    
    backends/overchan.c:
    expire/expire.c:
    expire/makehistory.c:
    storage/overview.c:
	    skip contiguous space in Xref if exist
    
    doc/expireindex.8:
    doc/makehistory.8:
	    correct description
    
    expire/expireindex.c:
	    fixing compilation error
    
    doc/newsfeeds.5:
    innd/art.c:
    innd/innd.h:
    innd/newsfeeds.c:
	    add new item 'c' for flag 'A'
    
    doc/ctlinnd.8:
    innd/cc.c:
	    always exec inndstart by xexec and not to pass '-r'

Thu Feb 05 23:39:13 1998 <mibsoft>

  * site/Makefile (1.13):
    Rules for innmail

Thu Feb 05 23:31:24 1998 <mibsoft>

  * config/config.scoreboard (1.6):
  * configure.in (1.7):
  * configure (1.7):
    Only check for sendmail in /usr/lib if it is in the path.
    
    Remove the search for Mail.  Use innmail

Thu Feb 05 05:16:52 1998 Marc Fournier <scrappy>

  * innd/his.c (1.20):
    From: Russell Vincent <russellv@uk.uu.net>
    
    The physical size of HIScache is HIScachesize * sizeof(_HIScache)
    so fix the value passed to memset.
    
    This makes a difference on machines that don't init memory because
    a check is made further down for this value vs the history key.

Thu Feb 05 05:15:18 1998 Marc Fournier <scrappy>

  * innd/rc.c (1.13):
    From: Russell Vincent <russellv@uk.uu.net>
    Subject: Memory leak fix in innd/rc.c
    
    This patch fixes a minor memory leak in innd/rc.c where the 'Comment'
    field was not being DISPOSEd. This might turn major with lots
    and lot of peer connections to us.

Thu Feb 05 05:13:42 1998 Marc Fournier <scrappy>

  * innd/art.c (1.42):
    From: Russell Vincent <russellv@uk.uu.net>
    
    ARTheaders[_xref].Found was not initialised when the Xref: header was
    inserted, so no overview data was created unless the Xref: header was
    already present. This small patch fixes it.

Thu Feb 05 05:09:53 1998 Marc Fournier <scrappy>

  * lib/perl.c (1.2):
  * innd/art.c (1.41):
  * innd/perl.c (1.2):
    From: Jeremy <jeremy@exit109.com>
    
    Patch required for Cleanfeed code ...

Thu Feb 05 05:06:07 1998 Marc Fournier <scrappy>

  * storage/buildconfig (1.4):
  * innd/innd.c (1.15):
  * innd/innd.h (1.23):
  * innd/ng.c (1.6):
  * expire/expire.c (1.26):
  * expire/expireindex.c (1.4):
  * expire/makeactive.c (1.2):
  * expire/makehistory.c (1.18):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    doc/expireindex.8:
    doc/makeactive.8:
    doc/makehistory.8:
	    correct subscription
    
    expire/expire.c:
	    do not create new overview if -x is specified
    
    expire/expireindex.c:
	    enable adding new overview index at once
    
    expire/makeactive.c:
	    use overview index if storage api is turned on
    
    expire/makehistory.c:
	    fixed many problem and now it can translate traditional
    articles
    
    innd/innd.c:
    innd/innd.h:
    innd/ng.c:
	    enable mmap overview index if renumbering active
    
    storage/buildconfig:
	    suppress warning

Wed Feb 04 19:44:14 1998 Marc Fournier <scrappy>

  * nnrpd/post.c (1.8):
  * frontends/inews.c (1.5):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Here is a start at adding more options to inn.conf. This patch
    adds an 'mta' option for specifying the MTA to be used to email
    moderated postings. i.e: Overrides the _PATH_SENDMAIL config.data
    option.

Wed Feb 04 12:57:12 1998 Marc Fournier <scrappy>

  * site/Makefile (1.12):
    From: Russell Vincent <russellv@uk.uu.net>
    
    'innreport.pl' needs to be installed with XPRI so that news.daily
    can execute it.

Tue Feb 03 16:09:30 1998 David C Lawrence <tale>

  * samples/pgpverify.in (1.4):
    Syncronized with pgpverify 1.6.
    
    Changes from 1.3 -> 1.4
    -- now handles wrapped headers that have been unfolded.
       (though I do believe news software oughtn't be unfolding them.)
    -- checks to ensure that the temporary file is really a file, and
       not a link or some other weirdness
    
    Changes from 1.4 -> 1.5
    -- force English lanugage for 'Good signature from user' by passing
       +language=en on pgp command line, rather than setting the
       environment variable LANGUAGE to 'en'.
    
    Changes from 1.5 -> 1.6
    -- handle articles encoded in NNTP format ('.' starting line is
    doubled,
       \r\n at line end) by string NNTP encoding.
    -- exit 255 with pointer to $HOME or $PGPPATH if pgp can't find key
    ring.
       (probably doesn't match the necessary error message with ViaCrypt
    PGP)
    -- failures also report message-id so the article can be looked up to
    retry.

Fri Jan 30 15:11:29 1998 <mibsoft>

  * configure (1.6):
    Modified files:
	configure
    
    Track change in configure.in

Fri Jan 30 15:08:30 1998 <mibsoft>

  * configure.in (1.6):
    FIXES:
	    -lresolv was sometimes added twice
    IMPROVEMENTS
	Append /usr/lib to the PATH just for the sendmail check
	suggested by Russell Vincent
    
	Search for inet_aton in libbind (libresolv does not exist on
    systems without bind 4.x)
	Suggested by Vince Vielhaber <vev@michvhf.com>
    
	Search for flock in libbsd  (for AIX)
	Suggested by Dan Foster

Thu Jan 29 21:25:56 1998 Marc Fournier <scrappy>

  * config/files.list (1.9):
    From: Russell Vincent <russellv@uk.uu.net>
    
    This fixes a filename problem in config/files.list. 'motd.5' should
    be 'motd.news.5'.

Thu Jan 29 15:40:36 1998 David C Lawrence <tale>

  * doc/Makefile (1.10):
    Added pgpverify.
    
    Note that revision 1.9 also removed a bogus second definition
    of SEC8 that wasn't described in that revision's change notes.

Thu Jan 29 14:27:31 1998 Marc Fournier <scrappy>

  * configure (1.5):
    Update the configure file...

Thu Jan 29 13:40:44 1998  <barr>

  * configure.in (1.5):
    Commit previous change I made to configure here.  Fix default
    --exec-prefix to be --prefix as documented, instead of defaulting to
    /usr/news.

Thu Jan 29 03:14:27 1998 Marc Fournier <scrappy>

  * expire/expireindex.c (1.3):
  * doc/Makefile (1.9):
  * config/files.list (1.8):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Here is new doc for storage.ctl and overview.ctl and some bug
    fix for 1.8 current.  Could you commit them?
    
    config/files.list:
    doc/Makefile:
	    add some files for new man pages
	    add some files for new man pages
    
    doc/expireindex.8:
    doc/fastrm.8:
    doc/makehistory.8:
    doc/qio.3:
	    clarify the description a bit
    
    doc/overview.ctl.5:
    doc/sm.8:
    doc/storage.ctl.5:
	    new man pages for storage api and unified overview
    
    expire/expireindex.c:
	    fixed incorrect declaration

Wed Jan 28 17:37:37 1998 Marc Fournier <scrappy>

  * innfeed/Makefile (1.9):
    Background: Russell Vincent added this config.data
    entry to handle what he thought was a missing function
    on Solaris.  The problem was that the appropriate
    library was not being checked during configure.  He
    agrees that the library check would be better.
    
    From: "Forrest J. Cavalier III" <mibsoft@mibsoftware.com>

Wed Jan 28 17:21:26 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.5):
  * configure.in (1.4):
    CHANGES:
    Back out the MISSING_INET_ATON change from config.scoreboard
    and configure.in
    
    Improve autoconfigure:
	    - generate config.data.in from config.scoreboard
	    - remove existing config.data before starting.
	    - search for inet_aton in libresolv
	    - Fix RANLIB substitution
	    - Abort if some key programs could not be found
    
    
    From: "Forrest J. Cavalier III" <mibsoft@mibsoftware.com>

Wed Jan 28 13:36:29 1998 Marc Fournier <scrappy>

  * innd/cc.c (1.18):
    From: Russell Vincent <russellv@uk.uu.net>
    
    'hosts.nntp' has been replaced with 'incoming.conf' - this patch
    changes the name for 'ctlinnd reload'.

Wed Jan 28 12:33:38 1998 Marc Fournier <scrappy>

  * storage/timehash/Makefile (1.6):
  * storage/buildconfig (1.3):
  * storage/Makefile (1.13):
    From: Russell Vincent <russellv@uk.uu.net>
    
    I got irritated with libstorage.a being rebuilt every time (and hence
    all the INN binaries), so I patched some files with the following.
    i.e: Check to see if the newly created method.[ch].new has changed
    from the old one and only rename it if it has and use 'cp -p' to
    copy object files/libraries.

Wed Jan 28 12:33:14 1998 Marc Fournier <scrappy>

  * site/Makefile (1.11):
    From: Russell Vincent <russellv@uk.uu.net>
    
    I see that hosts.nntp.nolimit, scanlogs-backend.pl and tally.unwanted
    were removed from samples/ , so site/Makefile needs updating. Here is
    the
    patch to do this. 'innlog.pl' was also deleted, but doesn't appear in
    the Makefile.

Wed Jan 28 04:07:45 1998 Marc Fournier <scrappy>

  * innd/art.c (1.40):
  * expire/expire.c (1.25):
  * expire/expireindex.c (1.2):
  * doc/Makefile (1.8):
  * backends/innxmit.c (1.10):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    backends/innxmit.c:
	    delete obsolete option '-S' from its usage and getopt()
    
    doc/*:
	    fixed incorrect description
	    this was fixed 1.6 but not in 1.7 nor 1.8 current so far
	    added description for storage api
    
    expire/expire.c:
	    misread newsgroup info if -c is used
    
    expire/expireindex.c:
	    delete unused option
    
    innd/art.c:
	    do not add article number to overview database even if
	    storage api is not used (overchan reads article number
	    from Xref header)
    
    samples/newsfeeds:
	    add overchan example to make overview index

Tue Jan 27 21:48:36 1998 Marc Fournier <scrappy>

  * samples/innstat.in (1.4):
  * innd/chan.c (1.20):
    Clean up patch from Fabien

Tue Jan 27 21:45:22 1998 Marc Fournier <scrappy>

  * config/Makefile (1.7):
  * config/files.list (1.7):
    more cleanup of old files from Fabien

Tue Jan 27 17:17:42 1998  <barr>

  * configure (1.4):
    Change --exec-prefix to default to --prefix, as documented.  Was
    defaulting
    to /usr/news (not /usr/local/news which is the default --prefix).

Tue Jan 27 17:04:38 1998 Marc Fournier <scrappy>

  * innfeed/Makefile (1.8):
  * config/config.scoreboard (1.4):
  * configure.in (1.3):
  * configure (1.3):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Here is a patch to let configure find the missing inet_aton
    (e.g: on Solaris) and setup the innfeed Makefile with the correct
    options based on it. Checked that it does the right thing on
    Solaris (missing) and FreeBSD (not missing).
    
    This now allows the new autoconf to create a compilable setup on
    Solaris 2.5.1.  Next phase is the testing.	:-)

Tue Jan 27 16:55:47 1998 Marc Fournier <scrappy>

  * lib/defdist.c (1.3):
  * frontends/feedone.c (1.2):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Here are some changes to NNTPremoteopen that didn't seem to make
    it through with the following change to lib/remopen.c:
    
    I have basically just added the NNRP_PORT parameter where it was
    lacking.

Tue Jan 27 16:53:07 1998 Marc Fournier <scrappy>

  * configure.in (1.2):
  * configure (1.2):
    From: Russell Vincent <russellv@uk.uu.net>
    
    I am not very familiar with autoconf internals, but the following
    patch fixes what seems to be incorrect 'variable' names when
    testing for AF_UNIX (which was failing).

Tue Jan 27 16:48:16 1998 Marc Fournier <scrappy>

  * config/Makefile (1.6):
    From: Russell Vincent <russellv@uk.uu.net>
    
    I am just playing with the new autoconf version of 1.8-current and
    found that the config.data made by 'configure' was getting trashed
    by the 'make substitutions' option in the config directory.
    
    Because the config.data file is already created, we no longer need
    the creation section in Makefile. Here is a patch to remove it.

Tue Jan 27 16:46:41 1998 Marc Fournier <scrappy>

  * config/Makefile (1.5):
    From: Russell Vincent <russellv@uk.uu.net>
    
    Here is a patch to fix the execution of 'subst' when you don't
    have '.' in your path. This brings it in line with the config.data
    option further down.

Tue Jan 27 15:42:52 1998  <barr>

  * nnrpd/post.c (1.7):
    Missing port argument to NNTPremoteopen()

Mon Jan 26 04:23:53 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.14):
  * storage/overview.c (1.2):
  * nnrpd/article.c (1.18):
  * nnrpd/group.c (1.12):
  * lib/findheader.c (1.8):
  * innd/art.c (1.39):
  * innd/cc.c (1.17):
  * expire/expireover.c (1.11):
  * expire/makehistory.c (1.17):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    expire/expireover.c:
	    do not create .overview.index if storage api not used
    
    expire/makehistory.c:
	    translate traditional articles into new method (storage api)
	    but this may not work yet (still debugging and will commit
	    updated patch soon)
    
    innd/art.c:
	    do not set arrived time explicitly
    
    innd/cc.c:
	    correct reload file name for unified overview
    
    lib/findheader.c:
	    handle multi lined header
    
    nnrpd/article.c:
	    consider traditional spool
    
    nnrpd/group.c:
	    chdir(SPOOL) only if .overview.index is not found
    
    storage/overview.c:
	    need not check <0 since index is unsigned
    
    storage/timehash/timehash.c:
	    consider rebuilding and restoring from traditional spool

Mon Jan 26 00:40:39 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.3):
    From: "Forrest J. Cavalier III" <mibsoft@epix.net>
    
    Various autoconf fixes

Fri Jan 23 00:29:37 1998 Marc Fournier <scrappy>

  * storage/buildconfig (1.2):
    buildconfig requires 5.x perl stuff

Wed Jan 21 18:15:12 1998 Marc Fournier <scrappy>

  * config/Makefile (1.4):
  * config/config.scoreboard (1.2):
    Apply fix(es) for autoconf patch
    
    From: "Forrest J. Cavalier III" <mibsoft@epix.net>

Wed Jan 21 15:04:09 1998 Marc Fournier <scrappy>

  * config/config.scoreboard (1.1):
  * configure (1.1):
  * configure.in (1.1):
    This gets a start in place, at least...it is totally unuseable in its
    current state, but, you have to start somewhere
    
    Submitted by: "Forrest J. Cavalier III" <mibsoft@epix.net>

Mon Jan 19 14:35:20 1998 Marc Fournier <scrappy>

  * site/Makefile (1.10):
    One at a time is so slow...another hosts.nntp reference

Mon Jan 19 14:26:45 1998 Marc Fournier <scrappy>

  * doc/Makefile (1.7):
  * config/files.list (1.6):
    Remove traces of hosts.nntp.5 man page

Mon Jan 19 14:05:09 1998 Marc Fournier <scrappy>

  * samples/incoming.conf (1.1):
    Changes required for the new "hosts.nntp" format

Sun Jan 18 04:55:55 1998 Marc Fournier <scrappy>

  * innd/timer.c (1.4):
  * innd/wip.c (1.5):
  * innd/rc.c (1.12):
  * innd/site.c (1.12):
  * innd/tcl.c (1.2):
  * innd/lc.c (1.2):
  * innd/newsfeeds.c (1.10):
  * innd/ng.c (1.5):
  * innd/proc.c (1.2):
  * innd/his.c (1.19):
  * innd/icd.c (1.5):
  * innd/innd.c (1.14):
  * innd/inndstart.c (1.5):
  * innd/cc.c (1.16):
  * innd/chan.c (1.19):
    Change $Revision tags to $Id tags, which are more informative

Sun Jan 18 04:52:44 1998 Marc Fournier <scrappy>

  * innd/art.c (1.38):
    convert /* $Revision$Id: */

Sun Jan 18 04:51:32 1998 Marc Fournier <scrappy>

  * innd/status.c (1.1):
    I missed a file to be added from Fabien's patch

Sun Jan 18 04:06:37 1998 Marc Fournier <scrappy>

  * lib/resource.c (1.3):
  * innd/rc.c (1.11):
  * innd/innd.h (1.22):
  * innd/nc.c (1.18):
  * innd/cc.c (1.15):
  * innd/chan.c (1.18):
  * innd/innd.c (1.13):
  * innd/Makefile (1.15):
  * innd/art.c (1.37):
  * include/inndcomm.h (1.5):
  * frontends/ctlinnd.c (1.6):
  * doc/Makefile (1.6):
    Mega inn.status and hosts.nntp patch
    
    From: Fabien Tassin <tassin@eerie.fr>

Thu Jan 15 22:54:18 1998 <coneill>

  * innfeed/buffer.c (1.4):
    Fixed a bug that was causing innfeed to not send the dot terminator for
    the
    end of the article if you weren't using storage api.

Thu Jan 15 13:57:46 1998 Marc Fournier <scrappy>

  * lib/findheader.c (1.7):
    There is a bug in lib/findheader.c which returns incorrect
    address.
    
    From: Katsuhiro Kondou <kondou@nec.co.jp>

Wed Jan 14 16:27:44 1998 Marc Fournier <scrappy>

  * expire/expire.c (1.24):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    There is a bug with expiring traditional spool.

Tue Jan 13 12:51:45 1998 Marc Fournier <scrappy>

  * innd/timer.c (1.3):
    From: Fabien Tassin <tassin@eerie.fr>
    
    I have another small fix for timer.c too (required by Irix cc)

Tue Jan 13 03:18:41 1998 Marc Fournier <scrappy>

  * storage/timehash/timehash.c (1.13):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    Sorry for again, I missed timehash patch which will be
    able to retreive all articles stored by timehash.
    Please check this in.

Tue Jan 13 02:37:31 1998 Marc Fournier <scrappy>

  * site/Makefile (1.9):
  * samples/overview.ctl (1.1):
  * lib/dbz.c (1.14):
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    I forgot to include samples/overview.ctl(attatched).
    And I checked other updated files and notice some
    problems(attatched also).

Tue Jan 13 02:35:26 1998 Marc Fournier <scrappy>

  * innd/wip.c (1.4):
  * innd/nc.c (1.17):
    Another memory leak fix by Katsuhiro Kondou <kondou@nec.co.jp>

Tue Jan 13 02:31:41 1998 Marc Fournier <scrappy>

  * storage/overview.h (1.1):
  * storage/overview.c (1.1):
  * expire/expireindex.c (1.1):
    I missed adding three files...here they are

Mon Jan 12 17:16:15 1998 Marc Fournier <scrappy>

  * storage/Makefile (1.12):
  * storage/interface.c (1.10):
  * site/Makefile (1.8):
  * obsolete/scanlogs-backend.pl (1.4):
  * samples/news.daily.in (1.6):
  * samples/rmgroup.in (1.5):
  * nnrpd/nnrpd.h (1.9):
  * nnrpd/group.c (1.11):
  * nnrpd/misc.c (1.6):
  * nnrpd/nnrpd.c (1.8):
  * nnrpd/article.c (1.17):
  * lib/dbz.c (1.13):
  * lib/endian.c (1.3):
  * lib/findheader.c (1.6):
  * lib/over.c (1.3):
  * innd/site.c (1.11):
  * innd/wip.c (1.3):
  * innd/nc.c (1.16):
  * innd/newsfeeds.c (1.9):
  * innd/ng.c (1.4):
  * innd/chan.c (1.17):
  * innd/innd.c (1.12):
  * innd/innd.h (1.21):
  * innd/art.c (1.36):
  * innd/cc.c (1.14):
  * include/storage.h (1.4):
  * include/configdata.h (1.11):
  * include/inndcomm.h (1.4):
  * include/libinn.h (1.11):
  * frontends/Makefile (1.8):
  * frontends/ctlinnd.c (1.5):
  * frontends/sm.c (1.3):
  * expire/grephistory.c (1.7):
  * expire/makehistory.c (1.16):
  * expire/expire.c (1.23):
  * expire/expireover.c (1.10):
  * expire/Makefile (1.8):
  * backends/overchan.c (1.8):
    Unified Overview Implementation Mega-Patch
    
    From: Katsuhiro Kondou <kondou@nec.co.jp>
    
    With that patch, we can expire and rebuild history,
    overview and index for storage api in reasonable
    time.

Mon Jan 12 17:10:53 1998 James Brister <brister>

  * samples/version.in (1.5):
    Fix version number to match reality.

Mon Jan 12 17:05:07 1998 James Brister <brister>

  * lib/dbz.c (1.12):
    SGI preprocessor check.	    (Fabien Tassin)
    Print statement tidied up.	    (Fabien Tassin)

Mon Jan 12 16:34:06 1998 James Brister <brister>

  * MANIFEST (1.2):
    Include innreport files in the package. Moved innlog.pl to obsolete
    directory.

Mon Jan 12 16:27:18 1998 James Brister <brister>

  * site/Makefile (1.7):
    Do installation of the new innreport stuff.

Mon Jan 12 16:21:36 1998 James Brister <brister>

  * samples/scanlogs.in (1.10):
    Use innreport instead of innlog now.

Mon Jan 12 16:15:38 1998 James Brister <brister>

  * config/files.list (1.5):
    Include innreport.conf in the subst list.

Mon Jan 12 16:07:58 1998 James Brister <brister>

  * samples/innreport.in (1.1):
  * samples/innreport_inn.pm (1.1):
    innreport.pl is the log file muncher
    innreport.conf is the config file the above.
    innreport_inn.pm is a perl package used by innreport.pl

Mon Jan 12 12:59:56 1998 Marc Fournier <scrappy>

  * Makefile (1.5):
    Update version number
    
    From: Fabien Tassin <tassin@eerie.fr>

Sat Jan 10 20:08:48 1998 Scott Fritchie <fritchie>

  * storage/qio.c (1.5):
    Bugfix: for articles longer than 8KB, QIOread would repeat the first
    8KB over and over again...

Fri Jan 09 15:52:57 1998 James Brister <brister>

  * site/Makefile (1.6):
    motd.news installation added.

Fri Jan 09 15:48:40 1998 James Brister <brister>

  * nnrpd/nnrpd.c (1.7):
    Add 'motd' to LIST help message.

Fri Jan 09 15:47:03 1998 James Brister <brister>

  * nnrpd/commands.c (1.4):
    Implementation of LIST MOTD command.

Fri Jan 09 15:31:13 1998 James Brister <brister>

  * samples/motd.news (1.1):
    Sample MOTD file.

Fri Jan 09 15:03:49 1998 James Brister <brister>

  * Makefile (1.4):
    Dont want to clobber the dbz files now that they no longer live in
    their
    own directory.

Mon Jan 05 08:42:40 1998 James Brister <brister>

  * samples/innmail.in (1.1):
    Perl-based replacement for UCB mail to avoid some nasty security
    issues.

Sun Jan 04 21:30:51 1998 James Brister <brister>

  * nnrpd/group.c (1.10):
    chdir to group directory wasn't being done when overview
    info was being used to build table (thus HEAD, BODY and ARTICLE
    were later failing).

Wed Dec 17 15:02:00 1997 <coneill>

  * storage/timehash/timehash.c (1.12):
  * storage/interface.c (1.9):
    Fixed a problem with method initialization with dynamic storage method
    initialization.
    
    Fixed a fd leak in timehash_retrieve when RETR_STAT is used.

Fri Dec 12 16:05:32 1997 <coneill>

  * storage/timehash/timehash.c (1.11):
    Fixed timehash_freearticle so that if arthandle->private isn't
    allocated we
    don't reference it.  Was causing SEGV's when freeing STAT'ed articles

Thu Dec 11 19:28:53 1997 Marc Fournier <scrappy>

  * innd/rc.c (1.10):
  * innd/innd.h (1.20):
  * innd/chan.c (1.16):
    Clean up the MAX_CONNECT_PER_HOST code such that it makes use of a
    field
    in hosts.nntp so that it is run-time vs compile-time configurable, as
    well
    as so that you can restrict one host, but not affect the rest
    
    For instance, the original code calculated every new host connection,
    whereas
    the new code will only calculate for those that have it enabled

Thu Dec 11 17:51:17 1997 <coneill>

  * storage/timehash/Makefile (1.5):
  * storage/timehash/timehash.c (1.10):
  * storage/timehash/timehash.h (1.4):
  * storage/interface.h (1.6):
  * storage/Makefile (1.11):
  * storage/interface.c (1.8):
    Backed out previous commit due to incomplete code

Thu Dec 11 16:46:35 1997 <coneill>

  * storage/timehash/timehash.c (1.9):
  * storage/timehash/timehash.h (1.3):
  * storage/interface.h (1.5):
  * storage/interface.c (1.7):
    Added the EmptyToken function for returning an empty token.
    
    Reworked the storage method api such that the storage manager keeps
    track of
    a per class handle for the method to store class data in.
    
    Added fix by Katsuhiro Kondou <kondou@uxd.fc.nec.co.jp> for
    SMreadconfig.
    Was testing the wrong variable to see if the list had been initialized.

Wed Dec 10 18:35:07 1997  <barr>

  * storage/Makefile (1.10):
    typo in Makefile.  change "$(AR)" to "ar", like lib/Makefile.  There is
    no config.data AR variable.

Wed Dec 10 18:02:57 1997 Marc Fournier <scrappy>

  * innd/rc.c (1.9):
    Add code such that MaxIncoming can be set, per host, out of the
    hosts.nntp
    file.  This is not documented anywhere as of yet.
    
    Essentially, it follows through the original logic of having extra
    "optional" fields, with the last field being a numeric value, where, if
    set, is the MaxIncoming for that host.  If not, "feature" is disabled
    for that host (ie. there is no limit)

Wed Dec 10 13:40:51 1997 Marc Fournier <scrappy>

  * innd/innd.h (1.19):
  * innd/chan.c (1.15):
    Add code to CHANreadloop to allow for restricting number of connections
    per host, vs current -i option of restricting *total* number of
    connections.
    
    This is preliminary work, that requires you to go into innd/chan.c to
    enable and tune the feature.  Will look into making it settable *per
    host*
    next, instead of a global setting.
    
    There is most likely a cleaner/better way of doing this, but at least
    the
    code is there, and is usable...and seems to improve my servers
    performance
    with its current settings by ~3arts/sec incoming

Tue Dec 09 12:49:53 1997 Marc Fournier <scrappy>

  * lib/over.c (1.2):
    Need <sys/types.h> for u_long under FreeBSD (and others)
    
    Pointed out by: From: Mike Horwath <drechsau@tiny.net>

Mon Dec 08 16:23:56 1997 <coneill>

  * expire/expireover.c (1.9):
    Finished converting all functions to ANSI declarations

Mon Dec 08 16:10:18 1997 <coneill>

  * expire/expireover.c (1.8):
    Converted everything to ANSI prototypes

Mon Dec 08 15:08:34 1997 <coneill>

  * innd/art.c (1.35):
    Added the return to then end of the case that catches SMstore failures,
    and
    make sure we reject the article in that case instead of writing it to
    the
    spool.

Wed Dec 03 19:12:38 1997 <coneill>

  * backends/crosspost.c (1.5):
    To avoid long reports with a lot of "link error" (*) from crosspost,
    I've
    made
    this small patch. Real errors always go to "errlog" and a summary is
    sent to
    "news.notice" each 3 hours.
    
    ex:
    
    crosspost[19583]: seconds 811 links 1203 0 symlinks 0 0 mkdirs 0 0
    missing
    10 toolong 0 other 0
    
    
    (*) those reported when a file is missing (cancelled before the
    (sym)links
    are
    made).
    
    Contributed by: Fabien Tassin <tassin@eerie.fr>

Wed Dec 03 15:26:05 1997 <coneill>

  * innd/his.c (1.18):
    Changed the syslog log leve for history stats from LOG_INFO to L_NOTICE

Tue Dec 02 16:43:00 1997 <coneill>

  * expire/makehistory.c (1.15):
    Makehistory was storing a bogus offset value in it's call to dbzstore,
    causing makehistory to generate a bogus history .index

Tue Dec 02 15:33:53 1997 <coneill>

  * samples/news.daily.in (1.5):
    Move the "Post expiration status" (innstat) *after* expireover/expirerm
    (because of the "Disk usage" report) in news.daily
    
    Contributed by: Fabien Tassin <tassin@eerie.fr>

Tue Dec 02 15:06:36 1997 <coneill>

  * expire/makehistory.c (1.14):
  * expire/expire.c (1.22):
    Fixed the problem with excessive "Duplicate MessageID's" during
    expires.
    Was accidently hashing the leading @ sign on the text representation.

Mon Dec 01 21:48:17 1997 <coneill>

  * nnrpd/article.c (1.16):
    Changed the declaration for SendIOv and SendIOb so that their
    parameters are
    char * instead of void *, avoiding compiler warnings on some platforms.

Mon Dec 01 21:41:30 1997 <coneill>

  * storage/timehash/timehash.c (1.8):
    There is a bug in storage/timehash/timehash.c causing the failure
    of OpenArticle().
    This patch also correct two small things:
    - some compilers warns about static vars (type needed).
    - 'a = (cast) b = c' produces lvalue warnings for 'b'.
    
    Contributed by: Fabien Tassin <tassin@eerie.fr>

Mon Dec 01 18:09:03 1997 <coneill>

  * samples/pgpverify.in (1.3):
    I've made a small patch to help pgpverify first time users...
    
    Sometimes, (when NEWSHOME is different from HOME or when PGPPATH is
    wrong),
    pgpverify returns 2 (launched by INN) or 0 (manually) because of a
    different
    context. I've added a warning explaining what the problem is (will go
    to
    $MOSTLOG/errlog) and changed the return value.
    
    example:
    
    pgpverify: pgp error: Keyring file '/var/news/.pgp/pubring.pgp' does
    not
    exist.
    
    Submitted by: Fabien Tassin <tassin@eerie.fr>

Mon Dec 01 16:29:29 1997 <coneill>

  * innd/site.c (1.10):
    Replaced the rest of the code needed for the WR flags that crosspost
    needs.
    Also converted all prototypes to ANSI from K&R and converted all the
    register variables to regular.

Mon Dec 01 16:21:27 1997 <coneill>

  * storage/interface.c (1.6):
    Added lazy initialization to the storage manager.  It's no longer
    required
    to call SMinit() before using any storage manager functions.  Doing so
    will
    read the config file and initialize all the storage methods.  If SMinit
    is
    not called, then the config file will be loaded when the first storage
    manager call is made, and storage methods will be initialized on an as
    needed basis.

Mon Dec 01 16:10:59 1997 <coneill>

  * samples/scanlogs.in (1.9):
    Fixed a local path that accidently was committed.

Mon Dec 01 16:10:13 1997 <coneill>

  * expire/expire.c (1.21):
    Added error messages that will report if a expire rule for a storage
    class
    is missing.  It will remove all articles that don't have storage class
    definitions

Thu Nov 27 18:29:12 1997 James Brister <brister>

  * samples/sendbatch.in (1.4):
    Replaced some hardcoded values with variable.
    
    Contributed by: Philippe Charnier

Thu Nov 27 18:28:06 1997 James Brister <brister>

  * nnrpd/article.c (1.15):
    Fix response to HEAD, BODY and ARTICLE.

Thu Nov 27 18:16:03 1997 James Brister <brister>

  * samples/parsecontrol.in (1.9):
    Fix location of PGP related log files.

Thu Nov 27 18:12:03 1997 James Brister <brister>

  * backends/actsync.c (1.8):
    Fix handling of ``-I'' option.

Thu Nov 27 17:35:51 1997 James Brister <brister>

  * samples/rc.news.in (1.5):
    Force an expire cleanup to run in the background.

Tue Nov 25 18:37:54 1997 <coneill>

  * backends/innxmit.c (1.9):
    Added SMinit() and SMshutdown calls to innxmit so that it works with
    storage
    tokens.

Mon Nov 24 19:52:58 1997 <coneill>

  * innfeed/article.c (1.11):
    If the error returned from SMretrieve is SMERR_NOENT then let if fall
    through to the missing article handler.

Mon Nov 24 19:32:31 1997 <coneill>

  * innfeed/article.c (1.10):
    Fixed a problem where we were logging an fstat error for all missing
    aricles.  This was because the code wasn't checking if the article open
    succeeded before proceeding with the fstat

Mon Nov 24 19:26:22 1997 <coneill>

  * innfeed/article.c (1.9):
    Remerged fillContents function since there were some relatively major
    problems with the way it was being done in the previous version. 
    Primarily
    I got confused by the abundance of else if's and #ifdef's.	Should be
    correct now.  Hopefully.

Mon Nov 24 16:21:56 1997 <coneill>

  * innfeed/connection.c (1.13):
  * innfeed/article.c (1.8):
    Removed artFileIsValid since the only call to it was in a #if 0/#endif
    bracketed section.	This pretty much isolates the stoage api code to
    fillContents

Sun Nov 23 19:02:14 1997 <coneill>

  * innfeed/article.c (1.7):
    When we opened a non storage api article the result of the open was
    beginning negated, causing the open to fail.

Sun Nov 23 18:26:05 1997 <coneill>

  * storage/Makefile (1.9):
  * innfeed/sysconfig.h (1.7):
  * innfeed/article.c (1.6):
  * innfeed/Makefile (1.7):
    Fixed the Makefile for innfeed to use the config.data LIBS variable and
    so
    that the find call also passes in -print. Contributed by: Alex Bligh
    
    Fixed innfeed so that it doesn't append .\r\n to wireformat article
    since
    they should already have them.
    
    Fixed sysconfig.h so that it doesn't use the SOLARIS cpp define, but
    instead
    checks for sun and __svr4__ to be defined.

Sun Nov 23 08:20:55 1997 <coneill>

  * samples/scanlogs.in (1.8):
    Removed the -s parameter from the ctlinnd flushlogs call so that we can
    check for the 'Ok' result.

Fri Nov 21 23:39:49 1997 <coneill>

  * storage/qio.c (1.4):
  * samples/senduuname.in (1.4):
  * samples/version.in (1.4):
  * samples/sendme.in (1.4):
  * samples/sendsys.in (1.4):
  * samples/scanlogs.in (1.7):
  * samples/parsecontrol.in (1.8):
  * samples/rmgroup.in (1.4):
  * samples/ihave.in (1.4):
  * samples/newgroup.in (1.4):
  * samples/default.in (1.4):
  * samples/checkgroups.in (1.4):
  * innd/site.c (1.9):
  * innd/rc.c (1.8):
  * innd/inndstart.c (1.4):
  * innd/cc.c (1.13):
  * innd/art.c (1.34):
  * frontends/sm.c (1.2):
  * expire/Makefile (1.7):
    Removed extra newline that sm.c was printing since it was causing
    pgpverify
    to fail.
    
    Fixed printf formating mismatches that was causing warning about int
    <->
    long mismatches w/gcc's -Wall.
    
    Added worst case return statements into CCxabort and CCxexec.
    
    Added worst case return statement into inndstart.c and add grp.h so
    that
    we'd have the prototype for setgrp.
    
    Moved RCfix_options to the top of rc.c to eliminate the need for a
    forward
    declaration.
    
    Integrated storage api into parsecontrol and all the individual control
    scripts.  This should be the last major thing needed for support on
    feeder
    machines.
    
    Fixed a bug in qio.c where QIOread would overrun it's I/O buffer when
    reading more data into it.

Fri Nov 21 18:12:19 1997 <coneill>

  * lib/findheader.c (1.5):
    HeaderFindDisk was trying to return a copy of the buffer that QIOread
    returned, but was failing since QIOclose had just freed the buffer. 
    Moved
    the call to COPY() above the call to QIOclose()

Fri Nov 21 17:31:53 1997 <coneill>

  * expire/grephistory.c (1.6):
    Fixed grephistory so that it understands storage tokens now and doesn't
    print out /dev/null for them when they do actually exist.

Fri Nov 21 14:52:38 1997 <coneill>

  * samples/scanlogs.in (1.6):
    Changed if statement to use != instead of ! blah = blah.  I think this
    may
    have been causing a problem if you weren't in debug mode when scanlogs
    ran.

Thu Nov 20 22:17:17 1997 <coneill>

  * frontends/Makefile (1.7):
  * frontends/sm.c (1.1):
    Added sm.c, a simple storage manager interface from the shell.  Allows
    printing articles stored with the traditional spool and storage api to
    stdout and cancelling articles that were stored w/storage api.

Thu Nov 20 21:52:48 1997 <coneill>

  * innd/art.c (1.33):
    Fixed a possible problem with ARTcancelverify where HISfiles returns
    NULL
    and then tries to find the first entry in a NULL.  Bad innd, bad.

Thu Nov 20 20:38:19 1997 <coneill>

  * innfeed/sysconfig.h (1.6):
  * innfeed/main.c (1.6):
  * innfeed/connection.c (1.12):
  * innfeed/config_l.c (1.2):
  * innfeed/article.c (1.5):
  * innfeed/Makefile (1.6):
  * frontends/ctlinnd.c (1.4):
  * expire/expire.c (1.20):
  * Makefile (1.3):
    Fixed up several things in the innfeed Makefile, mainly to make it use
    config.data variables
    
    Removed CNFS support from innfeed and added storage api support
    
    Removed bitFiddleContents since it was nailed to true anyway.

Thu Nov 20 18:18:28 1997 <coneill>

  * expire/fastrm.c (1.5):
    Moved the call to SMcancel into the build_dir routine.  Basically all
    input
    is checked to see if it is a token before subjecting it to processing,
    resulting in less overhead than the standard fastrm mechanism.  This
    version
    will work correctly with the -s parameter.

Thu Nov 20 17:06:06 1997 <coneill>

  * storage/qio.c (1.3):
    The Count field in QIOSTATE wasn't being filled in for storage api
    articles,
    causing a segv for article over QIO_BUFFER size;

Thu Nov 20 16:13:00 1997 <coneill>

  * expire/expireover.c (1.7):
    Fixed a missing comma in expireover

Thu Nov 20 15:55:03 1997 <coneill>

  * innd/newsfeeds.c (1.8):
  * innd/art.c (1.32):
  * innd/innd.h (1.18):
  * include/configdata.h (1.10):
    Added support back in for the WR newsfeeds flag so that crosspost will
    work
    again.
    C

Thu Nov 20 15:31:31 1997 <coneill>

  * samples/scanlogs.in (1.5):
    Modified scanlogs so that if innd is running under a debugger then it
    won't
    bomb out with the server paused.  (ctlinnd flushlogs returns "In debug
    mode"
    if innd is running under a debugger)

Wed Nov 19 03:36:32 1997 <coneill>

  * expire/expire.c (1.19):
    Fixed typos

Tue Nov 18 18:38:27 1997 <coneill>

  * config/files.list (1.4):
  * doc/Makefile (1.5):
    Moved the innfeed man pages into the doc directory and added it's
    Makefile
    to subst control

Tue Nov 18 18:37:29 1997 <coneill>

  * expire/expire.c (1.18):
    Expire wasn't initializing or shutting down the storage manager.  Added
    calls to do so.

Tue Nov 18 18:36:08 1997 <coneill>

  * expire/expireover.c (1.6):
    Fixed a problem where if the lock failed for any reason other than the
    file
    was already locked then expireover would spin in a tight loop eating
    all
    cpu.  Seen only under Solaris

Tue Nov 18 18:34:07 1997 <coneill>

  * expire/fastrm.c (1.4):
    Fixed a problem where fastrm would not work with the storage api
    correctly
    if it was running as root.

Tue Nov 18 18:32:39 1997 <coneill>

  * lib/dbz.c (1.11):
    Fixed a problem where new hash table sizes were being calculated
    incorrectly.

Mon Nov 17 06:37:27 1997 <coneill>

  * storage/timehash/timehash.c (1.7):
  * nnrpd/article.c (1.14):
  * innd/art.c (1.31):
    Fixed problems with the path being overrun, contributed by Katsuhiro
    Kondou
    <kondou@nec.co.jp>
    
    Missed ARTreplic in the previous commit, removed it.
    
    Fixed UnpackOverIndex calls in article.c, contributed by Katsuhiro
    Kondou
    <kondou@nec.co.jp>.
    
    Fixed a missing {} pair in timehash.c, contributed by Katsuhiro Kondou
    <kondou@nec.co.jp>

Mon Nov 17 02:36:15 1997 Marc Fournier <scrappy>

  * storage/interface.c (1.5):
    Need /usr/include/errno.h to define 'errno' under FreeBSD, at the very
    least...

Sun Nov 16 22:23:09 1997 <coneill>

  * samples/nntpsend.in (1.4):
  * innd/newsfeeds.c (1.7):
  * innd/site.c (1.8):
  * innd/nc.c (1.15):
  * innd/innd.h (1.17):
  * innd/chan.c (1.14):
  * innd/art.c (1.30):
  * include/configdata.h (1.9):
  * backends/innxmit.c (1.8):
    Removed XREPLIC support as it's superceded by Xref slaving.  Which is
    good
    because I'm fairly certain that XRELIC was broken with the new storage
    model.

Sun Nov 16 21:43:44 1997 <coneill>

  * storage/timehash/Makefile (1.4):
  * storage/timehash/timehash.c (1.6):
  * storage/interface.h (1.4):
  * storage/qio.c (1.2):
  * storage/interface.c (1.4):
  * storage/Makefile (1.8):
  * site/Makefile (1.5):
  * samples/version.in (1.3):
  * samples/writelog.in (1.3):
  * obsolete/tally.unwanted (1.3):
  * samples/tally.control.in (1.3):
  * samples/senduuname.in (1.3):
  * samples/sendme.in (1.3):
  * samples/sendsys.in (1.3):
  * samples/send-uucp.in (1.3):
  * samples/sendbatch.in (1.3):
  * samples/send-ihave.in (1.3):
  * samples/send-nntp.in (1.3):
  * obsolete/scanlogs-backend.pl (1.3):
  * samples/scanspool.in (1.3):
  * samples/rmgroup.in (1.3):
  * samples/scanlogs.in (1.4):
  * samples/parsecontrol.in (1.7):
  * samples/rc.news.in (1.4):
  * samples/nntpsend.in (1.3):
  * samples/newgroup.in (1.3):
  * samples/news.daily.in (1.4):
  * samples/innwatch.in (1.3):
  * samples/innstat.in (1.3):
  * samples/docheckgroups.in (1.3):
  * samples/expirerm.in (1.3):
  * samples/ihave.in (1.3):
  * samples/checkgroups.in (1.3):
  * samples/default.in (1.3):
  * nnrpd/group.c (1.9):
  * nnrpd/Makefile (1.5):
  * nnrpd/article.c (1.13):
  * lib/Makefile (1.11):
  * innd/cc.c (1.12):
  * innd/Makefile (1.14):
  * include/storage.h (1.3):
  * include/configdata.h (1.8):
  * frontends/Makefile (1.6):
  * expire/fastrm.c (1.3):
  * expire/expire.c (1.17):
  * expire/Makefile (1.6):
  * doc/Makefile (1.4):
  * backends/overchan.c (1.7):
  * backends/actsync.c (1.7):
  * backends/Makefile (1.6):
    Fixed a problem where I had accidently commited local paths to the cvs
    tree.
    
    Fixed bugs and compile time warnings report by Fabien Tassin.
    
    Added syntax to expire.ctl to support expiration of storage classes.
    Documented in expire.ctl.5
    
    Modified expire to use the storage class information stored in the
    tokens.
    
    Modified fastrm to call SMcancel for tokens given on input.  Should
    support
    mixed filenames/tokens properly.
    
    Added SMerrno and SMerrorstr to libstorage.  This is used by the
    storage
    manager and storage methods to report errors to the calling
    application.
    
    Removed extraneous code in CCcancel reported by James Fidell

Sat Nov 15 20:55:30 1997 <coneill>

  * storage/timehash/Makefile (1.3):
  * storage/Makefile (1.7):
  * samples/writelog.in (1.2):
  * site/Makefile (1.4):
  * samples/version.in (1.2):
  * obsolete/tally.unwanted (1.2):
  * samples/tally.control.in (1.2):
  * samples/senduuname.in (1.2):
  * samples/sendsys.in (1.2):
  * samples/sendbatch.in (1.2):
  * samples/sendme.in (1.2):
  * samples/send-nntp.in (1.2):
  * samples/send-uucp.in (1.2):
  * samples/send-ihave.in (1.2):
  * obsolete/scanlogs-backend.pl (1.2):
  * samples/scanspool.in (1.2):
  * samples/rmgroup.in (1.2):
  * samples/scanlogs.in (1.3):
  * samples/parsecontrol.in (1.6):
  * samples/rc.news.in (1.3):
  * samples/nntpsend.in (1.2):
  * samples/newgroup.in (1.2):
  * samples/news.daily.in (1.3):
  * samples/innstat.in (1.2):
  * samples/innwatch.in (1.2):
  * samples/expirerm.in (1.2):
  * samples/ihave.in (1.2):
  * samples/docheckgroups.in (1.2):
  * samples/checkgroups.in (1.2):
  * samples/default.in (1.2):
  * nnrpd/nnrpd.h (1.8):
  * nnrpd/article.c (1.12):
  * nnrpd/group.c (1.8):
  * nnrpd/Makefile (1.4):
  * lib/Makefile (1.10):
  * innd/Makefile (1.13):
  * frontends/Makefile (1.5):
  * include/configdata.h (1.7):
  * expire/Makefile (1.5):
  * expire/expire.c (1.16):
  * doc/Makefile (1.3):
  * backends/actsync.c (1.6):
  * backends/Makefile (1.5):
    Converted the OVER_STYLE config.data variable to the overviewmmap:
    inn.conf
    variable.  Renamed the artmmap variable to articlemmap.

Sat Nov 15 17:03:41 1997 <coneill>

  * nnrpd/nnrpd.h (1.7):
  * nnrpd/nnrpd.c (1.6):
  * nnrpd/group.c (1.7):
  * lib/over.c (1.1):
  * nnrpd/article.c (1.11):
  * lib/Makefile (1.9):
  * lib/findheader.c (1.4):
  * innd/ng.c (1.3):
  * innd/innd.h (1.16):
  * innd/cc.c (1.11):
  * innd/art.c (1.29):
  * include/libinn.h (1.10):
  * backends/overchan.c (1.6):
    Changed the overview index structure to be packed and architecture
    independent.  This should make it possible to NFS mount the spool with
    mixed
    architecture machines and have everything "work"
    
    Also fixed a bug in ARTcancel where we were trying to cancel the cancel
    instead of the message that the cancel referred to.

Thu Nov 13 21:58:29 1997 <coneill>

  * innd/site.c (1.7):
  * innd/newsfeeds.c (1.6):
  * innd/nc.c (1.14):
  * innd/innd.h (1.15):
  * innd/art.c (1.28):
    Added support for an 'O' flag for newsfeeds entries.   The O stands for
    Originator, and will only send articles to the feed where the wildmat
    used
    as a parameter to the O flag matches the first field in the X-Trace
    header.
    If the X-Trace header is missing then it is not propagated to this
    feed.

Thu Nov 13 18:03:20 1997 <coneill>

  * nnrpd/article.c (1.10):
    Fixed a bug in ARTfind that was causing most articles to show up as
    missing.
    Was calculating the offset into ARTnumbers incorrectly.

Thu Nov 13 17:45:08 1997 <coneill>

  * storage/timehash/timehash.c (1.5):
  * nnrpd/nnrpd.c (1.5):
  * nnrpd/nnrpd.h (1.6):
  * nnrpd/misc.c (1.5):
  * nnrpd/article.c (1.9):
  * nnrpd/group.c (1.6):
  * include/configdata.h (1.6):
    This should make nnrpd work correctly with articles that were stored
    with
    the storage api.  If OVER_STYLE is set to MMAP then it will mmap the
    overview indexes when the group command is executed, otherwise it will
    incore the entire thing.
    
    A new inn.conf variable was added, 'artmmap'.  If this is false then
    nnrpd
    will use QIO to read articles that weren't stored with nnrpd. 
    Otherwise it
    will mmap articles stored in a traditional spool.
    
    I think that's about it for reader support, I think it'll mostly work
    but it
    hasn't been heavily tested.  OVER_STYLE needs to be made runtime
    configurable and all the overview code needs to be changed to use the
    ARTnumbers array since that's going to be faster than scanning
    OVERindex
    linearly.

Thu Nov 13 16:08:15 1997 <coneill>

  * samples/storage.ctl (1.1):
    Added a sample storage.ctl

Thu Nov 13 06:05:02 1997 <coneill>

  * expire/expire.c (1.15):
    Expire wasn't checking the return value of dbzstore against the new
    return
    values.  Was always failing as a result.

Thu Nov 13 03:30:15 1997 <coneill>

  * storage/Makefile (1.6):
  * storage/interface.c (1.3):
  * samples/overview.fmt (1.2):
  * nnrpd/group.c (1.5):
  * lib/findheader.c (1.3):
  * innd/site.c (1.6):
  * innd/art.c (1.27):
  * innd/Makefile (1.12):
  * include/inndcomm.h (1.3):
  * include/libinn.h (1.9):
  * frontends/rnews.c (1.6):
  * frontends/Makefile (1.4):
  * frontends/ctlinnd.c (1.3):
  * expire/newsrequeue.c (1.6):
  * backends/overchan.c (1.5):
  * backends/Makefile (1.4):
    THIS CHANGES THE FORMAT OF OVERVIEW INDICES AND WILL BREAK PREVIOUS
    1.8-CURRENT INSTALLATIONS.	You must run shutdown or pause innd and run
    expireover -a before indices will work.
    
    Added fields for the storage token and whether or not the article has
    been
    cancelled to the overview index.
    
    overchan will now create directories even if it's in the spool if it
    needs
    to.
    
    innd modified to not pass the list of files where the article was
    written;
    overchan modified to derive this info from Xref.  innd will being the
    overview information with the storage token in text form if the article
    was
    written with the storage api.  overchan will store the token in the
    overview
    index if it's given.
    
    mkov support removed from overchan, appears to have dated back to
    C-news.
    
    Renamed the HeaderFind function to HeaderFindMem and added a
    HeaderFindDisk
    function.  HeaderFindMem now takes a length argument that allows us to
    use
    it on non-null terminated strings.
    
    Removed support for ctlinnd refile as it wasn't actually implemented.
    
    Removed ARTreadfile, ARTreadarticle, & ARTreadheader from art.c since
    they
    duplicate functionality of qio.c and don't return length information.
    
    Moved calls to the timer code for cancels into ARTcancel, so that all
    calls
    will be timed w/o extra work by the caller.

Thu Nov 13 03:12:20 1997 <coneill>

  * config/files.list (1.3):
    Makefiles for libstorage and the timehash method are now run through
    subst.

Thu Nov 13 03:10:28 1997 <coneill>

  * samples/parsecontrol.in (1.5):
    Fixed a problem where the path to innshellvars was from my local
    config.

Thu Nov 13 02:13:57 1997 <coneill>

  * innd/nc.c (1.13):
    Removed support for the ARTICLE command since it's been disabled since
    1.4.x
    and I don't see much point in fixing broken code that's commented out.
    
    Reworked NChead and NCstat to use QIO so that the dichotomy between
    traditional article storage and the new storage model is pushed down to
    where it's already been taken care of.  Also, I think NChead was
    already
    broken, but it does work now :)

Wed Nov 12 17:01:57 1997 <coneill>

  * site/Makefile (1.3):
    storage.ctl will now be copied properly from samples and installed by
    default

Wed Nov 12 17:01:06 1997 <coneill>

  * storage/timehash/timehash.c (1.4):
    Now check the return code from mmap to explicitly to see if it's -1 and
    typecast the -1 to the correct type before doing the comparison.

Wed Nov 12 16:52:52 1997 <coneill>

  * innd/cc.c (1.10):
    Fixed a problem wehre ctlinnd cancel commands would generate an
    immediate
    segv.  This was caused by trying to get the hash of the messageid
    before it
    had been copied into Data.MessageID.  Fixed by moving the hash function
    call
    several lines down.

Wed Nov 12 15:12:45 1997 <coneill>

  * nnrpd/article.c (1.8):
  * nnrpd/newnews.c (1.3):
    Fixed a few remaining instances of QIOopen calls that were passing in
    two
    parameters instead of one.

Wed Nov 12 15:07:49 1997 <coneill>

  * samples/parsecontrol.in (1.4):
    Fixed a problem with \r not being recognized by some versions of tr.
    Changed it to be \015

Wed Nov 12 00:31:21 1997 <coneill>

  * storage/timehash/Makefile (1.2):
  * storage/timehash/timehash.c (1.3):
  * storage/timehash/timehash.h (1.2):
  * storage/interface.h (1.3):
  * include/storage.h (1.2):
  * storage/Makefile (1.5):
    Fixed a syntax problem with making the object directory
    
    Fixed the endif in interface.h to have comments around __INTERFACE_H__
    
    Fixed iffy pointer magic in timehash.c that probably wasn't portable.
    
    Added storage expiration classes to the storage api code.

Tue Nov 11 20:01:40 1997 <coneill>

  * lib/hash.c (1.7):
    Fixed an off by one memory allocation error in HashMessageID.  < should
    have
    been a <=

Tue Nov 11 15:20:17 1997 <coneill>

  * expire/makehistory.c (1.13):
    Fixed a bug where strict ansi compilers would die on a default: case
    that
    didn't have anything after it.

Tue Nov 11 02:30:50 1997 <coneill>

  * storage/Makefile (1.4):
    Removed -p option from the 'mkdir objs' line in the Makefile.
    
    Suggested by: Dale Ghent <daleg@elemental.org>

Tue Nov 11 02:28:50 1997 <coneill>

  * storage/Makefile (1.3):
    Fixed a problem in storage/Makefile where building the methods would
    fail on
    platforms where mkdir -p doesn't return w/o error if the directory
    already
    exists.
    
    Contributed by: Katsuhiro Kondou <kondou@nec.co.jp>

Tue Nov 11 02:25:50 1997 <coneill>

  * config/Makefile (1.3):
  * storage/timehash/timehash.c (1.2):
  * storage/interface.c (1.2):
  * storage/interface.h (1.2):
    Fixed a compile time warning with MatchGroups
    
    fixinterps.pl get srun on buildconfig now
    
    Renamed the PRIVATE typedef in timehash.c so that it doesn't conflict
    with
    solaris includes.
    
    Contributed by: Fabien Tassin <tassin@eerie.fr> & James Fidell
    <james@cloud9.co.uk>

Tue Nov 11 00:00:03 1997 <coneill>

  * expire/expire.c (1.14):
    Converted all the K&R declarations to ANSI declarations and removed
    'register' from all variable declarations.

Mon Nov 10 23:53:33 1997 <coneill>

  * storage/Makefile (1.2):
    Now makes the objs directory before building the methods so that the
    methods
    can put their objects in there.
    
    Reported by: James Fidell <james@cloud9.co.uk>

Mon Nov 10 21:30:21 1997 <coneill>

  * storage/timehash/timehash.c (1.1):
  * storage/timehash/timehash.h (1.1):
  * storage/timehash/Makefile (1.1):
  * storage/timehash/method.config (1.1):
  * storage/interface.h (1.1):
  * storage/qio.c (1.1):
  * storage/buildconfig (1.1):
  * storage/interface.c (1.1):
  * storage/Make.methods (1.1):
  * storage/Makefile (1.1):
  * nnrpd/group.c (1.4):
  * nnrpd/commands.c (1.3):
  * nnrpd/article.c (1.7):
  * nnrpd/Makefile (1.3):
  * lib/hash.c (1.6):
  * lib/makedir.c (1.1):
  * lib/dbz.c (1.10):
  * lib/Makefile (1.8):
  * innd/site.c (1.5):
  * innd/ng.c (1.2):
  * innd/rc.c (1.7):
  * innd/innd.h (1.14):
  * innd/his.c (1.17):
  * innd/innd.c (1.11):
  * innd/cc.c (1.9):
  * innd/art.c (1.26):
  * innd/Makefile (1.11):
  * include/qio.h (1.3):
  * include/storage.h (1.1):
  * include/libinn.h (1.8):
  * frontends/Makefile (1.3):
  * frontends/getlist.c (1.3):
  * expire/makehistory.c (1.12):
  * expire/newsrequeue.c (1.5):
  * expire/expireover.c (1.5):
  * expire/expire.c (1.13):
  * backends/overchan.c (1.4):
  * expire/Makefile (1.4):
  * backends/innxmit.c (1.7):
  * backends/crosspost.c (1.4):
  * backends/cvtbatch.c (1.2):
  * backends/archive.c (1.4):
  * backends/buffchan.c (1.3):
  * backends/actsync.c (1.5):
  * Makefile (1.2):
  * backends/Makefile (1.3):
    This is an update primarily for the new storage api.  Currently support
    for
    the api exists only innd and for applications that access the article
    store
    using qio and don't try to scan the spool themselves.  Configuration of
    the
    storage manager is done in storage.ctl which specifies which storage
    methods
    to store articles with.  This code should be considered pre-alpha,
    however,
    if the storage api is not turned on it should not have serious
    problems.

Mon Nov 10 20:52:18 1997  <barr>

  * expire/fastrm.c (1.2):
    Re-apply earlier one-line cosmetic change - missing space in error
    output.
    (applying yet again)

Thu Nov 06 13:42:12 1997 <coneill>

  * lib/hash.c (1.5):
    Transposed E and D in the string used for converting to hex.  Fixed.

Wed Nov 05 21:39:36 1997 <coneill>

  * innd/his.c (1.16):
    Fixed a problem where HISfilesfor was returning before turning off the
    timer
    for HISgrep.  Moved the 'return NULL;' farther down.

Wed Nov 05 20:51:04 1997 <coneill>

  * expire/expireover.c (1.4):
    Defect in: expire/expireover.c
	The defect is in the expireover-memleak patch that Mib Software
	inserted into 1.5.1corr (and 1.7) to fix a very large memory leak
	in the 1.6b3 fixes.
    
    Symptoms:	Under some circumstances, the defective code can
	attempt to free an invalid memory pointer.  This causes
	expireover to fail (dump core) which will prevent expireover
	from completing normally.
    
    Versions affected: Versions: 1.5.1corr and derivatives, including 1.7
	1.6b3 with the expireover-memleak patch) and 1.5.2.  Systems which
	are not running overviews are not affected.
    
    The defect was discovered and reported by Mike Brudenell
    <pmb1@york.ac.uk> to inn-bugs@isc.org.  Characterization,
    the patch, and further details are provided here by Mib Software.
    
    I already sent out a similar message to Usenet RKT subscribers
    a couple of days ago, and expected Mike (or James Brister/ISC)
    to get something out to the "rest of the world."
    
    After a further e-mail message, (which uncovered another minor
    defect in the same code) Mike Brudenell said that he was too
    busy to get something out quickly, and asked me to do it....
    
    Although this defect is not a security threat, it is not obvious
    when expireover fails.  It is not easy to identify systems which
    definitely trigger or do not trigger the defect.  A large number
    of .overview files could remain not updated, slowing performance
    and requiring larger disk storage usage than necessary.  It may
    also interfere with news.daily running to completion.
    
    Background:
	Mike Brudenell did correctly indicate which line was defective,
	and how it could be fixed.  I indicated a different fix which
	matched the semantics of the code.  Mike Brudenell then pointed
	out that there would STILL be a memory leak in the case of
	empty headers.	(But this would not be nearly as large as the
	original leak the patch fixed.)
    
	INN is not supposed to write empty headers to the spool.  There is
	code in art.c which prevents that.  But just to be safe, the
	following patch includes a fix for all of the defects discussed.
    
    This message, including the patch, will also be available at:
       http://www.mibsoftware.com/userkt/inn/patches/eo971105.msg
    
    For a list of known defects in release versions of inn 1.5.1 to 1.7,
    see:
	http://www.mibsoftware.com/userkt/inn/patches/
    
    Forrest J. Cavalier III, Mib Software

Mon Nov 03 21:48:17 1997 <coneill>

  * innd/art.c (1.25):
    Fixed a problem with wildmat patterns in hosts.nntp that was
    conflicting
    with @ wildmats in newsfeeds.  Russ Allbery pointed out the problem:
    
    Excerpted from "Administering a Sound Usenet II Site":
    
      Other Issues
    
	There is a bug or misfeature in the way that INN handles ! entries
    in
	hosts.nntp that causes it to not reject crossposts between net.*
    and
	non-net.* groups.  If someone crossposts an article between alt.foo
	and net.foo, that article will be accepted by your server even if
    the
	hosts.nntp entry for the peer you're receiving it from has !net.*,
    and
	furthermore it will be propagated to all of your alt.* peers even
    if
	you have @net.* in their newsfeed entries.  This is because !net.*
	just tells INN to ignore net.* groups for the purposes of
    determining
	if you can accept an article (so you accept the article as a post
    to
	an alt.* group), and furthermore then masks the existence of the
    net.*
	groups in the Newsgroups header to all of the rest of INN (so
    @net.*
	never catches and you propagate the article as an alt.* post).

Mon Nov 03 18:41:43 1997 <coneill>

  * innd/his.c (1.15):
    Commented in the code for handling errors and fflushing HISwritefp. 
    This
    was causing problems with HISfiles because it doesn't use stdio and the
    data
    is only in the stdio buffers.  Also fixed a mispatch for the Greco
    timer;
    was returning before turning off the TMR_HISGREP timer.

Sun Nov 02 16:37:44 1997 <coneill>

  * expire/expire.c (1.12):
    Fixed a problem where expire was expecting dbzstore to return
    TRUE/FALSE,
    when in fact it returns DBZSTORE_OK/DBZSTORE_EXISTS/DBZSTORE_ERROR now.

Fri Oct 31 23:13:25 1997 <coneill>

  * include/dbz.h (1.7):
  * lib/dbz.c (1.9):
  * innd/his.c (1.14):
  * expire/makehistory.c (1.11):
    dbzstore can now has a return value for "It already existed, it's not
    really
    an error".	This means we don't have to do a dbzexists check after
    dbzstore
    fails, to see if it's really an error

Fri Oct 31 17:49:50 1997 <coneill>

  * frontends/rnews.c (1.5):
    Fixed a bug in rnews where it would bomb out trying to connect to a
    random
    port if you didn't specify one w/-P.  It now defaults to whatever you
    have
    NNTP_PORT set to in configdata.h

Mon Oct 27 00:43:53 1997 <coneill>

  * expire/grephistory.c (1.5):
    Yet another legacy of changing the return type of dbzfetch to a
    OFFSET_T
    from datum.  FullLine() was expecting to have to convert a char* that
    actually pointed to an OFFSET_T, to an OFFSET_T.  Prototypes would have
    avoided this.

Sat Oct 25 22:34:15 1997 <coneill>

  * innd/art.c (1.24):
    Fixed a buffer overflow in ARTwrite.  It was using an array of iovecs
    to
    specify the article to write, and had allocated 8 for that purpose. 
    This
    was adequate unless you were using wireformat and you recieve articles
    without Lines headers.  In this case there would be a buffer overflow. 
    In
    my situation this corrupted the article length causing 3 null to be
    written
    to every article.

Fri Oct 24 18:46:51 1997 <coneill>

  * backends/innxmit.c (1.6):
    innxmit now defaults to port 119 instead of 0.  Was broken when libinn
    was changed to allow passing the port into the NNTP functions.  I
    forgot to
    make sure that innxmit initialized the port variable.

Fri Oct 24 18:39:25 1997  <barr>

  * nnrpd/article.c (1.6):
    Portability fix for IOV_MAX stuff for HPUX 9.x.

Fri Oct 24 18:27:20 1997  <barr>

  * innd/timer.c (1.2):
    Add #include <sys/types.h>, needed so clibrary.h gets parsed correctly
    and
    will compile.  Also added Revision header and file description in
    comment.

Fri Oct 24 16:55:14 1997 <coneill>

  * innd/icd.c (1.4):
    Changed the ICDwritevactive function to write the new active file to a
    temporary file and then move it over the old active file.  This means
    that
    anything that is mmap'ing the old active file will still have the old
    version mmaped.  This should prevent a race condition w/rmgroups where
    the
    active file is rewritten and a nnrpd does a 'GROUP' command while the
    file
    is shorter than the previous mapping.

Fri Oct 24 14:32:30 1997 <coneill>

  * innd/his.c (1.13):
    HISremember was returning NULL if the history file wasn't open instead
    of
    FALSE.  Now returns FALSE.

Fri Oct 24 14:31:01 1997 <coneill>

  * innd/his.c (1.12):
    All of the function in the HIS module now check to make sure that the
    history file is open before trying to do anything with it.

Tue Oct 21 16:27:39 1997 <coneill>

  * expire/makehistory.c (1.10):
  * expire/expire.c (1.11):
    expire and makehistory double check the size of hashes to make sure
    they
    haven't been corrupted.  Unfortunately, they expected the hash to be
    sizeof(HASH)+2 instead of (sizeof(HASH) * 2) + 2, which is obviously
    wrong
    since they're encoded in hex.

Tue Oct 21 14:21:10 1997 <coneill>

  * expire/expire.c (1.10):
    Bug in expire.  When reporting invalid message-ids and hashs it was
    using
    a dangling pointer as a parameter to fprintf instead of the actually
    string.

Mon Oct 20 21:29:54 1997 <coneill>

  * lib/xwritev.c (1.2):
  * lib/xwrite.c (1.2):
  * lib/xmalloc.c (1.2):
  * lib/xrealloc.c (1.2):
  * lib/wildmat.c (1.2):
  * lib/xfopena.c (1.2):
  * lib/tempname.c (1.2):
  * lib/waitnb.c (1.2):
  * lib/sendpass.c (1.2):
  * lib/resource.c (1.2):
  * lib/sendarticle.c (1.2):
  * lib/radix32.c (1.2):
  * lib/readin.c (1.3):
  * lib/nonblocking.c (1.2):
  * lib/parsedate.y (1.2):
  * lib/memmove.c (1.2):
  * lib/memset.c (1.2):
  * lib/memcmp.c (1.2):
  * lib/memcpy.c (1.2):
  * lib/memchr.c (1.2):
  * lib/lockfile.c (1.2):
  * lib/malloc.c (1.2):
  * lib/innvers.c (1.2):
  * lib/localopen.c (1.2):
  * lib/gettime.c (1.2):
  * lib/inet_ntoa.c (1.2):
  * lib/getfqdn.c (1.3):
  * lib/getmodaddr.c (1.2):
  * lib/getconfig.c (1.3):
  * lib/getdtab.c (1.2):
  * lib/findheader.c (1.2):
  * lib/genid.c (1.2):
  * lib/closeonexec.c (1.2):
  * lib/defdist.c (1.2):
  * lib/clientactive.c (1.2):
  * lib/clientlib.c (1.3):
  * lib/cleanfrom.c (1.2):
  * lib/checkart.c (1.2):
  * innd/art.c (1.23):
  * include/libinn.h (1.7):
  * frontends/rnews.c (1.4):
  * frontends/inews.c (1.4):
  * expire/newsrequeue.c (1.4):
  * backends/overchan.c (1.3):
  * backends/buffchan.c (1.2):
    General code cleanup for libinn.  Added prototypes for everything in
    libinn.h, converted all 'register' variables to normal.

Mon Oct 20 19:42:25 1997 <coneill>

  * innd/chan.c (1.13):
    Defect: BUFFset uses the GROW_AMOUNT macro
    Versions affected: INN 1.5.1 and derivatives, INN 1.7 (and derivatives)
    
    Symptoms: innd crashes immediately or eventually due to memory
    corruption.
    
    Trigger:  When BUFFset is used to copy large (>128K) backlogged
    channel buffers.
    
    More details:    The GROW_AMOUNT macro is defined in configdata.h as
    follows.....
    
    #define GROW_AMOUNT(x)	    ((x) < 128 * 1024 ? (x) : 128 * 1024)
    
    The use of this macro to set bp->Size in BUFFset is an error,
    sinceBUFFset
    must work with length greater than 128 * 1024.
    
    Contributed by: Forrest Cavalier

Mon Oct 20 16:42:35 1997 <coneill>

  * nnrpd/post.c (1.6):
  * lib/hash.c (1.4):
  * lib/remopen.c (1.2):
  * lib/clientlib.c (1.2):
  * innd/inndstart.c (1.3):
  * include/libinn.h (1.6):
  * frontends/rnews.c (1.3):
  * frontends/getlist.c (1.2):
  * frontends/inews.c (1.3):
  * backends/nntpget.c (1.4):
  * backends/innxbatch.c (1.4):
  * backends/innxmit.c (1.5):
  * backends/actsync.c (1.4):
    Modified inndstart and rnews to take a -P parameter to specify the port
    that
    they should use for NNTP.  As a result of this the libinn NNTP api now
    allows you to specify a port in the function calls instead of requiring
    declaring nntp_port an extern and frobbing it directly.
    
    Also, several general code cleanup items.  Removed unused variables,
    added
    prototypes, etc.

Sun Oct 19 16:07:25 1997 <coneill>

  * innd/rc.c (1.6):
    Fixed a merge bug where RCfix_options was being called twice for new
    sockets.

Sat Oct 18 16:10:47 1997 <coneill>

  * innd/timer.c (1.1):
  * innd/innd.c (1.10):
  * innd/innd.h (1.13):
  * innd/his.c (1.11):
  * innd/chan.c (1.12):
  * innd/cc.c (1.8):
  * innd/Makefile (1.10):
  * innd/art.c (1.22):
  * include/inndcomm.h (1.2):
  * frontends/ctlinnd.c (1.2):
    Integrated Joe Greco's timer code.	Added the ability to turn it on and
    off
    at run time with 'ctlinnd timer', and change the reporting interval
    through
    the same interface.  You can whether it is on or off by default in
    inn.conf.

Fri Oct 17 20:47:20 1997 <coneill>

  * innd/site.c (1.4):
  * innd/newsfeeds.c (1.5):
  * innd/innd.h (1.12):
  * innd/art.c (1.21):
  * include/configdata.h (1.5):
    Adds the P option to the W flags in the newsfeeds file.  Allows logging
    of
    the path of all incoming articles.
    
    Submitted by Fabien Tassin <tassin@eerie.fr>

Fri Oct 17 17:06:53 1997 <coneill>

  * innd/rc.c (1.5):
  * innd/nc.c (1.12):
  * innd/innd.h (1.11):
    Removed all references to handling MODE QUERY/nnrqd.  Was never used
    for
    anything.
    
    Contributed by: Fabien Tassin <tassin@eerie.fr>

Fri Oct 17 16:50:37 1997 <coneill>

  * nnrpd/post.c (1.5):
    Here is the patch for avoiding posting error with the
    article whose From header has multiple lines. The patch
    is for 1.8-current but can be applied to 1.5 and the
    later versions.
    
    Contributed by: Katsuhiro Kondou <kondou@nec.co.jp>

Thu Oct 16 04:57:32 1997 <coneill>

  * nnrpd/article.c (1.5):
  * lib/dbz.c (1.8):
  * lib/endian.c (1.2):
  * innd/newsfeeds.c (1.4):
  * backends/crosspost.c (1.3):
  * backends/innxbatch.c (1.3):
  * backends/archive.c (1.3):
  * backends/actsync.c (1.3):
    This is a portability patch from Katsuhiro Kondou
    <kondou@uxd.fc.nec.co.jp>.
    This was based on a port to NEC's SVR4.2MP implementation.	This also
    includes the removal of all the \r's that were introduced as part of
    the
    inn1.5.1corr merge.

Thu Oct 16 00:23:15 1997 <coneill>

  * innd/art.c (1.20):
    Fixed a bug in ARTpost where history entries for recieved articles were
    not
    being written because of too much search and replace.

Wed Oct 15 21:20:51 1997 <coneill>

  * expire/grephistory.c (1.4):
    Fixed a bug in grephistory from when datum types were still being used.
     Was
    passing an int into HistorySeek and HistorySeek was expecting a char *.

Wed Oct 15 17:44:47 1997 <coneill>

  * innd/cc.c (1.7):
  * innd/innd.h (1.10):
  * innd/art.c (1.19):
    Fixed the two warning that were being generated due to ARTcancel's
    arguments
    not being const.  The fundamental problem was that ARTcancel did modify
    the MessageID.  The weird thing is that it did this so that it could
    handle
    processing multiple whitespace delimited messageid's.  This was not
    used by
    anything (everything called ARTidok before calling ARTcancel, and
    ARTidok
    doesn't allow multiple message-ids).  Fixed the problem by reworking
    ARTcancel to not accept multiple messageids, making it possible to have
    all
    arguments to ARTcancel be const.
    
    Removed all instances of register variables.
    
    Converted several of the other functions in art.c to ANSI declaration
    from
    K&R.  Fixed XREPLIC feeds that were broken due to Data->Replic being
    passed
    in from ARTpost instead of &Data->Replic.

Wed Oct 15 03:26:36 1997 <coneill>

  * nnrpd/group.c (1.3):
    Converted an instance of bcopy to memcpy.  memcpy is POSIX, and
    regardless,
    we've got a local implementation in libinn if something doesn't have
    memcpy.
    I suppose this was introduced in the mmap'ed active patch.

Tue Oct 14 23:24:56 1997 <coneill>

  * innd/his.c (1.10):
    Fixed a bug in HISsetup where it was passing NEW the amount of memory
    it
    wanted to allocate instead of the number of items to allocate,
    resulting in
    gross overallocation.

Tue Oct 14 14:54:28 1997 <coneill>

  * innd/Makefile (1.9):
    Backed out some changes to the stock makefile from my local
    configuration.

Tue Oct 14 14:53:04 1997 <coneill>

  * innd/innd.h (1.9):
  * innd/his.c (1.9):
  * innd/chan.c (1.11):
  * innd/Makefile (1.8):
  * innd/art.c (1.18):
    Converted the prototypes for art.c, and chan.c to ANSI style
    prototypes.

Tue Oct 14 10:08:05 1997 <coneill>

  * innd/nc.c (1.11):
    Fixed a bug in nc.c that would sometimes cause a buffer overrun if
    commands
    were \n terminated instead of \r\n terminated.  The problem was that
    MaxLength was being used on a BUFFER, and that MaxLength calls strlen.
    Since the string is not guaranteed to be null-terminated, this was
    causing
    problems.  Fixed it by mallocing storage for the bad command and
    passing
    that into MaxLength.

Mon Oct 13 21:10:31 1997  <barr>

  * samples/control.ctl (1.2):
    Re-apply previous change.  Change tale@uunet.uu.net to
    group-admin@isc.org.
    Change default "alt" handling to "mail".

Mon Oct 13 19:13:26 1997 <coneill>

  * innd/chan.c (1.10):
    This patch changes the channel input buffer handling.  After reading
    into
    the buffer the code will resize the buffer to twice the amount used (or
    START_BUFF_SIZE, whichever is smaller) if less than 10% of the buffer
    is
    used.
    amount used is

Mon Oct 13 19:06:31 1997 <coneill>

  * innd/art.c (1.17):
    Moved the HIShavearticle call in ARTpost to a little further down,
    after
    we've figured out which feed sent this to us, so that we can log the
    reject
    properly.

Mon Oct 13 18:41:08 1997 <coneill>

  * include/patchlevel.h (1.2):
    Updated the version number to 1.8-current

Mon Oct 13 18:25:37 1997 <coneill>

  * innd/cc.c (1.6):
    Fixes a bug in CCnewgroup that will cause it to buffer overrun on
    groupnames
    over 230 characters.  Dynamically allocates the required amount of
    memory
    now.
    
    Contributed by: Chris Caputo <ccaputo@alt.net>

Mon Oct 13 18:10:40 1997 <coneill>

  * config/subst.c (1.2):
    subst would segv if it was called without a -f parameter.
    
    Contributed by Fabien Tassin <tassin@eerie.fr>

Mon Oct 13 15:41:11 1997 <coneill>

  * innd/art.c (1.16):
    ARTcancelverify was reporting offending message-id's as hashes when the
    function that called it should have the text message-id.  Changed
    ARTcancelverify to take the text message-id along with the hash and
    print
    the text one in error messages.

Wed Oct 08 03:40:44 1997 <coneill>

  * innd/nc.c (1.10):
    Fixed a problem where quit commands would hang in innd because I was
    setting
    the channel state to CSwritegoodbye after calling NCwritereply instead
    of
    before.
    Obtained from:

Wed Oct 08 03:14:49 1997 <coneill>

  * lib/hash.c (1.3):
    Fixed a memory leak in HashMessageID.  Was allocating a duplicate
    string for
    case mapping the message id, and forgot to free it.
    Obtained from:

Tue Oct 07 16:24:43 1997 <coneill>

  * innd/rc.c (1.4):
    Fixed a patch from the 1.5.1corr merge.  Basically RCreadfile was
    trying to
    reference undefined memory.  Not quite sure of the original intent of
    the
    patch but it appears to be unneeded.
    
    Obtained from:

Tue Oct 07 04:42:20 1997 <coneill>

  * innd/art.c (1.15):
    Fixed another bug in ARTcancelverify.  Was trying to report bogus
    entries
    and print out the messageid.  This wasn't working because gets the
    message-id as a hash entry now.
    Obtained from:

Tue Oct 07 04:34:17 1997 <coneill>

  * innd/art.c (1.14):
    Fixed a bug in the declaration of ARTverifycancel in art.c
    Obtained from:

Tue Oct 07 04:20:52 1997 <coneill>

  * samples/parsecontrol.in (1.3):
  * lib/getfqdn.c (1.2):
  * lib/readin.c (1.2):
  * frontends/inews.c (1.2):
  * frontends/rnews.c (1.2):
  * expire/expire.c (1.9):
  * expire/expireover.c (1.3):
  * expire/makehistory.c (1.9):
  * backends/archive.c (1.2):
  * backends/crosspost.c (1.2):
  * backends/innxbatch.c (1.2):
  * backends/actsync.c (1.2):
    Remainder of the 1.5.1corr fixes.  Should be pretty acceptable at this
    point.
    
    Obtained from:  Forrest Cavalier

Mon Oct 06 22:01:47 1997 <coneill>

  * innd/site.c (1.3):
  * innd/innd.c (1.9):
  * innd/inndstart.c (1.2):
  * innd/nc.c (1.9):
  * innd/newsfeeds.c (1.3):
  * innd/rc.c (1.3):
  * innd/cc.c (1.5):
  * innd/chan.c (1.9):
  * innd/his.c (1.8):
  * innd/art.c (1.13):
    Merged all the changes from 1.5.1corr
    Obtained from:  Forrest Cavalier

Mon Oct 06 21:25:10 1997 <coneill>

  * innd/nc.c (1.8):
    Fixed a in nc.c that would cause a segv if INN rejected an oversized
    article
    after it had already been rejected on another channel.  It was trying
    to
    print out a null pointer instead of the hash value.
    Obtained from:

Mon Oct 06 19:14:40 1997 <coneill>

  * include/dbz.h (1.6):
    Fixed the prototype for dbzstore.  Was using off_t instead of OFFSET_T
    Obtained from:

Mon Oct 06 17:50:19 1997 <coneill>

  * nnrpd/post.c (1.4):
  * nnrpd/article.c (1.4):
  * nnrpd/misc.c (1.4):
  * nnrpd/newnews.c (1.2):
  * nnrpd/nnrpd.c (1.4):
    Incorporates Forrest Cavalier's inn1.5.1corr changes to nnrpd.
    Obtained from:

Mon Oct 06 17:14:30 1997 <coneill>

  * lib/Makefile (1.7):
  * lib/dbz.c (1.7):
  * lib/hash.c (1.2):
  * innd/nc.c (1.7):
  * innd/wip.c (1.2):
  * innd/chan.c (1.8):
  * innd/his.c (1.7):
  * innd/innd.h (1.8):
  * innd/Makefile (1.7):
  * innd/art.c (1.12):
  * innd/cc.c (1.4):
  * include/macros.h (1.2):
  * include/dbz.h (1.5):
  * include/libinn.h (1.5):
  * expire/makehistory.c (1.8):
  * expire/newsrequeue.c (1.3):
  * expire/prunehistory.c (1.3):
  * expire/expire.c (1.8):
  * expire/grephistory.c (1.3):
  * backends/nntpget.c (1.3):
  * backends/innxmit.c (1.4):
    - Changed the dbz api to use a more natural calling convention.  This
    means
    that instead of passing datum's in, you pass HASH's and OFFSET_T's in. 
    This
    concludes the breaking of dbm compatibility.  Thank god.  This also is
    the
    first step towards manipulating everything as HASH's instead of ASCII
    message-id's.
    
    - Changed his.c to use HASH's as parameters where message-id strings
    would
    have been used before.  This helps eliminate duplicate hashing of the
    messageid. The idea is that we'll hash it once and then pass that
    around
    instead of everything parsing the article to pull the message-id out
    and
    then hashing it again.
    
    - Added a HISremember function.  This is a consequence of keeping track
    of
    the article offered as a hash in the CHANNEL structure.  Since we don't
    have
    the ascii message-id around anymore if we reject the article and move
    into a
    CSeatarticle state, then we have to remember the message-id by other
    means.
    What HISremember does is add [hash] in the message-id field, where hash
    is
    the hex representation of the md5.	Only expire, makehistory, and innd
    had
    to be changed.
    
    - Since case-mapping isn't done in dbz anymore (It's in HashMessageID),
    renamed fetch and store to dbzfetch and dbzstore.
    
    - Added HashToText and TextToHash to convert hases to ascii and back.
    Better than letting everything else choose how to store them.
    
    - Removed all the references to DBZMAXKEY since we don't care about the
    length anymore.
    
    - Added function prototypes for everything in his.c  Need to do this
    for
    everything.
    
    Obtained from:

Tue Sep 30 04:50:10 1997 <coneill>

  * innd/icd.c (1.3):
  * innd/nc.c (1.6):
  * innd/Makefile (1.6):
  * innd/art.c (1.11):
    Fixed a bad declaration for ICDiovset.  iov should be declared as
    *IOVEC,
    not IOVEC.
    Obtained from:

Mon Sep 29 21:04:01 1997 <coneill>

  * obsolete/innlog.pl (1.2):
    Newer innfeed's can generate hundreds of status messages with the
    hostChkCxn
    key.  We should probably be summarizing these for dynamic connection
    stats,
    or else switch to innreport.
    Obtained from:

Mon Sep 29 20:55:06 1997 <coneill>

  * innd/nc.c (1.5):
  * innd/Makefile (1.5):
  * innd/icd.c (1.2):
    Fixed some misc references to Joe Greco's timer code that had crept in
    when
    I was playing with it.  Fixed a missed reference to JUSTONCE that would
    only
    be used if you had defined ACT_STYLE to MMAP, not READ.
    Obtained from:

Mon Sep 29 17:54:48 1997 <coneill>

  * lib/md5.c (1.3):
    Fixed a problem with BIG_ENDIAN still existing.  All references to
    BIG_ENDIAN should have been changed to INN_BIG_ENDIAN to prevent
    collisions
    w/system headers, but I missed two of them.
    
    Obtained from:

Thu Sep 25 18:54:50 1997 <coneill>

  * expire/makehistory.c (1.7):
  * samples/news.daily.in (1.2):
  * samples/rc.news.in (1.2):
    This should be the last of the .pag -> (.index, .hash) conversions. 
    All
    references to the old .pag file should be removed now.
    
    Obtained from:

Thu Sep 25 18:32:26 1997 <coneill>

  * expire/expire.c (1.7):
    Changed EXPdoline to check if the history entry exists before writing
    the
    line to the history text file instead of before.  This way we eliminate
    any
    dups from both the hash tables and the text file during an expire.
    Obtained from:

Thu Sep 25 16:34:45 1997 <coneill>

  * expire/expire.c (1.6):
    Fixed a holdover from the old history code.  Expire was still trying to
    move
    history.n.pag to history.pag instead of moving history.n.index and
    history.n.hash to history.index and history.hash.  Fixed.
    
    Obtained from:

Tue Sep 23 18:08:44 1997 <coneill>

  * expire/makehistory.c (1.6):
  * expire/expire.c (1.5):
    Expire and makehistory will not check if the message-id already exists
    in
    the database if they get an error with dbzstore.  If the message-id is
    duplicate then just print it as an error and skip to the next line.
    Unfortunately older versio had bugs in art.c that would cause TRASH to
    be
    REMEMBERED muliple times.
    
    Obtained from:

Tue Sep 23 03:23:15 1997 <coneill>

  * lib/dbz.c (1.6):
    Fixed bad reference to old dbzrec in the MADV_RANDOM conditional. 
    Fixed to
    use tab->reclen instead.
    
    
    Obtained from:  Marc Slemko <marcs@znep.com>

Mon Sep 22 17:54:43 1997 <coneill>

  * lib/dbz.c (1.5):
  * lib/hash.c (1.1):
  * lib/Makefile (1.6):
  * innd/nc.c (1.4):
  * innd/wip.c (1.1):
  * innd/chan.c (1.7):
  * innd/his.c (1.6):
  * innd/innd.c (1.8):
  * innd/innd.h (1.7):
  * innd/Makefile (1.4):
  * innd/art.c (1.10):
  * include/dbz.h (1.4):
  * include/libinn.h (1.4):
  * include/nntp.h (1.2):
  * include/configdata.h (1.4):
    This is primarily a rewrite of the WIP (work in progress) handling from
    nc.c.  I've split it out into a separate module and reorganized it to
    be a
    hash table so that messageid lookups (mostly what we do) are more
    efficent.
    Previously it had to search the entire WIP table to do lookups for
    CHECK's
    and IHAVE's and was starting to eat substantial cpu.  I'll be making
    commits
    later to make it possible to use this as a precommit cache for CHECK's
    and
    to integrate the history cache into it.
    
    Additional changes are:
    - Removed the NNRP_DBZINCORE_DELAY variable in config.dist and
    configdata.h
    since we no longer have the capability.
    
    - Added documentation for the WriteLinks option in inn.conf
    
    - Moved dbzhash() into it's own module in libinn.  Renamed dbzhash() to
    Hash(), renamed hash_t to HASH, and added primatives for clearing and
    checking if hash's are empty.
    
    - Added the ability for IHAVE to return a 436 for 'try again later'.
    
    - Changed ARTpost so that it uses the msgid thats actually in the
    article
    instead of trusting what the remote end told us it would be.
    
    - Fixed HISsetup so that it actually allocates the HIScache the way the
    man
    pages says it will, ie, hiscachesize == number of k to allocate for the
    cache.  Also fixed a bug where the HIScache pointer was getting zero'ed
    intead of the HIScache.
    
    Obtained from:

Mon Sep 22 17:16:34 1997 <coneill>

  * innd/innd.c (1.7):
  * innd/innd.h (1.6):
    Added a WriteLinks option to inn.conf.  If it's true you get the normal
    behavior, if it's false then only the first group the article was
    posted to
    is written to the history file.  This can decrease the size of the
    history
    file on feed-only machies by 25% or so.
    Obtained from:

Sat Sep 20 14:05:02 1997 <coneill>

  * innd/art.c (1.9):
    Fixed a bug with duplicate rejection.  Was sending back the duplicate
    message w/o the nntp reject code prepended.  Bad, very very bad.
    Obtained from:

Sat Sep 20 05:06:44 1997 <coneill>

  * lib/dbz.c (1.4):
    Fixed the handling of non-blocking writes and interrupted system calls
    in
    the set() function.
    
    Added more tests to the integrated test program.
    
    Obtained from:

Sat Sep 20 05:05:17 1997 <coneill>

  * innd/his.c (1.5):
    Fixed the history cache to use the hash index as an implicit part of
    the
    hash value.  Should decrease the chance of collision.
    Obtained from:

Sat Sep 20 05:02:19 1997 <coneill>

  * innd/chan.c (1.6):
    Naming change, renamed largewrite to CHANwrite to stick with the
    existing
    naming convention.
    Obtained from:

Sat Sep 20 05:01:26 1997 <coneill>

  * innd/art.c (1.8):
    ARTpost was ignoring the possiblity that a article might be being
    received
    on multiple connections simulanteously.  There was an attempt to fix
    this
    in place, but unfortunately it only covered one case of remembered
    rejected
    articles.  Fixed the problem by exiting ARTpost if a HIShavearticle
    call
    returns true.
    
    Obtained from:

Fri Sep 19 07:55:33 1997 <coneill>

  * nnrpd/misc.c (1.3):
  * lib/endian.c (1.1):
  * lib/md5.c (1.2):
  * lib/Makefile (1.5):
  * lib/dbz.c (1.3):
  * innd/Makefile (1.3):
  * innd/his.c (1.4):
  * include/dbz.h (1.3):
  * include/md5.h (1.2):
  * expire/grephistory.c (1.2):
  * expire/makehistory.c (1.5):
  * expire/newsrequeue.c (1.2):
  * expire/prunehistory.c (1.2):
  * expire/Makefile (1.3):
  * expire/expire.c (1.4):
  * backends/innxmit.c (1.3):
  * backends/nntpget.c (1.2):
    DBZ September 18, 1997 Release Changes
    
    - Incore policy can now be specified by the application.  The
    application can request that the hash table be read from disk when
    needed(INCORE_NO), read into memory at open time (INCORE_MEM), or
    mmap()'ed at open(INCORE_MMAP).
    
    - Lookups into the table now use the lower 32 bits to determine the
    location into the hash table, but the upper DBZ_INTERNAL_HASH_SIZE
    bytes of the hash are stored in the table.	Since this version uses a
    128 bit hash, this means that the two are independent giving us
    
	    log2(tablesize) + (DBZ_INTERNAL_HASHSIZE * 8)
    
    effective bits of hash.  For a table of with 5 million entries, this
    is effectively 21-22 extra bits of hash.
    
    - The .pag file used to hold the hash of the message-id and the offset
    of the history entry.  This has now been split into two files.  The
    .index file holds the offsets and the .hash file holds the hash of the
    message-id.  This was done because the offset is not frequently needed
    anymore (typically for cancel processing), and it is somewhat of a
    waste to keep in memory.  The application can specify incore behavior
    for the two files independently.  INND will mmap the .hash file if
    INND_DBZINCORE is defined, sets the .index file to INCORE_NO.  Expire
    sets the incore policy to INCORE_MEM for both the .hash and .index
    files.
    
    - Added a dbzexists() function.  This is optimized for existance check
    only and only uses the .hash file.
    
    - Expire no longer compiles it's own copy of dbz since the point was
    to get a non-mmap'ing version of the library, and that can be done at
    run-time now.
    
    - The size of the hash used for the .hash file and the hash_t typedef
    are defined by the DBZ_INTERNAL_HASH_SIZE and DBZ_EXTERNAL_HASH_SIZE
    defines, respectively.
    
    - New dbzgetoptions/dbzsetoptions interface for setting options.
    Replaces a function per option interface that was getting out of hand.
    
    - New md5 code from Landon Curt Noll that replaces the previous
    implementation.  This version is definitely byte order independant and
    is substanially faster.  As a result include/autoconfig.h will contain
    the endianness and alignment requirements of the current host.  This
    is automatically generated by endian.c
    
    - Hash and index records will be packed now w/both gcc and Sun's cc.
    If anyone has instructions on packing on another compiler that's
    different, please let me know.
    
    - Reworked hash functions so that they are more generic.  Adding a
    third hash table into the implementation would be relatively easy if
    we ever needed it.
    
    - Added another entry to the .dir file.  The last entry in the file is
    the percent full that the dbz routines will attempt to keep the
    database at.  This defaults to 2/3's full.
    
    - All functions in dbz.c that used to return 0 for success and -1 for
    failure, now return a BOOL, with TRUE indication success and FALSE
    indication failure.  Everything that uses the dbz routines has been
    updated to reflect this.
    
    - All functions use const parameters where appropriate now.
    
    - Uses the INN SetNonBlocking function now instead of using fcntl
    directly.
    
    - dbminit will now fail opening the dbz database if it can't allocate
    enough memory for the desired incore behavior.  If this happens expire
    will fail.	This will prevent people from complaining that all of a
    sudden expire takes hours to run when the incore malloc fails.
    
    - Changed the old getno and getc configuration stuff to just use
    fscanf.
    
    - Fixed a bug in dbzhash where we were using the wrong result buffer
    from the md5 computation.  Was working because of dumb luck.
    
    - Removed the ability to incore in nnrpd.
    
    - Man page updated to reflect new features and changes.
    
    
    
    Obtained from:

Fri Sep 19 07:53:57 1997 <coneill>

  * innd/chan.c (1.5):
    Fixed a bug in the macro->function conversion of BUFFappend.  Forgot to
    updated the Left counter in the Buffer structure.
    Obtained from:

Tue Sep 16 20:31:42 1997 <coneill>

  * innd/art.c (1.7):
  * innd/chan.c (1.4):
    Converted SITEmark from a preprocessor macro to a function.
    
    Fixed art.c, had one too many commas.
    
    Obtained from:

Tue Sep 16 19:44:34 1997 <coneill>

  * innd/art.c (1.6):
  * innd/chan.c (1.3):
  * innd/innd.h (1.5):
  * backends/innxmit.c (1.2):
  * include/configdata.h (1.3):
    Removed all instances of MEMCPY_THRESHOLD.	Replaced with straight
    calls to
    memcpy.  Changed BUFFappend from a preprocessor macro to a function.
    Should
    be inlined by most modern compilers and is considerably more
    maintainable.
    
    Obtained from:

Tue Sep 16 18:41:18 1997 <coneill>

  * expire/makehistory.c (1.4):
    Fix an off by one allocation error.  Was allocating a buffer for a
    history
    text line and forgetting to take the space for the null at the end into
    account.
    
    Obtained from:  <nick@zeta.org.au>

Tue Sep 16 18:31:43 1997 <coneill>

  * site/Makefile (1.2):
    Aded scanlogs-backend.pl into the Makefile for the site directory so
    that
    it'll be installed.  It's needed by scanlogs during the news.daily
    Obtained from:

Sat Sep 13 06:23:45 1997 <coneill>

  * innd/his.c (1.3):
    Changed character by character copy to a memmove.  This is partially to
    make
    the GCC bounds checking happy, and partially because just about all
    compilers will inline the memmove.
    
    Obtained from:

Sat Sep 13 01:29:58 1997 <coneill>

  * innd/art.c (1.5):
    Fixed a bug in ARTxrefslave where it was overwriting the xref header
    that it
    was using to write a new one by rewriting in place.
    
    Fixed a bug where in some cases there would be not enough or too many
    blank
    lines between the body and the header of the article.
    
    Obtained from:

Fri Sep 12 01:45:50 1997 <coneill>

  * innd/chan.c (1.2):
  * innd/nc.c (1.3):
    Fixed possible memory overwrite problem in nc.c,  memcpy was used when
    memmove should have been.
    
    Replaced code that looked like
    
	    if amount to copy is small or is overlapping
	    then copy with for loop
	    else copy with memcpy
    
    with a single call to memmove.
    
    Both of these were a result of running with the bounds-checking turned
    on in
    gcc.
    
    Obtained from:

Tue Sep 09 05:21:24 1997 <coneill>

  * innd/cc.c (1.3):
    Here's a tiny patch to INN-1.5.1 to make the arrival date for articles
    that were canceled (typically by 'ctlinnd cancel') be the same as the
    current time.  This is, I think, superior to the current behavior,
    which (for me, anyway) seems to put some unpredictable value in there.
    
    Obtained from:  "J. Porter Clark" <jpc@drum.msfc.nasa.gov>

Tue Sep 09 05:01:43 1997 <coneill>

  * innd/cc.c (1.2):
    I have had an unstable news server for a number of weeks, so I decided
    to
    run makehistory -b -u -n -v.  I would come back after it running for >1
    day
    to find it hung in a poll() for the response to a ICC_ADDHIST command.
    
    Investigating further, I found a CCreader: short read error.
    Looking into it, I found that cc.c uses a BUFSIZ buffer to read the
    packet.
    
    Unfortunately, this is 1024 on Solaris 2.5[.1].  With the massive
    cross-posting
    in some groups, and the large group+Message-ID names, 1K ain't close
    enough
    for some articles.
    
    James: Mayhaps this should be configurable?
    
    I made the following patch which SEEMS to fix it.
    
    Let me know if I screwed anything else up.	This is against
    1.5, but cc.c hasn't changed from 1.5 -> 1.5.1
    
    
    Obtained from:  ler@lerami.lerctr.org (Larry Rosenman)

Tue Sep 09 03:48:34 1997 <coneill>

  * nnrpd/commands.c (1.2):
  * nnrpd/group.c (1.2):
  * nnrpd/nnrpd.h (1.5):
  * nnrpd/post.c (1.3):
	This patch uses mmap() to map the active file shared + read-only.
	For newsreader machines with large (~ 1MByte) active files, this
	patch more then halves the per-nnrpd process memory usage.  It is
	roughly equivalent to the shared-active mods that have been
	floating around, but approaches the problem somewhat differently.
    
	I don't know which is better, or whether it even matters.  I do
    know
	that this patch allows our newsreader machine to support nearly
    twice
	as many nnrpd's as it would otherwise be able to... around
	500 nnrpd processes on a 256 MByte pentium-pro 200 running FreeBSD.
    
	The patch has been reasonably well tested, and since it restricts
	itself to a read-only map, it ought to work on any machine that
	supports mmap().

Tue Sep 09 03:34:45 1997 <coneill>

  * nnrpd/nnrpd.c (1.3):
  * nnrpd/nnrpd.h (1.4):
  * nnrpd/post.c (1.2):
    Added support for adding X-trace and X-Complaints-To headers. The
    X-trace
    header is slightly modified to also provide the date of posting in user
    readable form and to omit the user identification field.
    
    Added support for the ability to spool articles that are posted without
    trying to send them to innd.  This means that nnrpd will immediately
    return
    success for the posting and will rely on rnews for doing the actual
    posting.
    
    Added documentation for the timespool, spoolfirst, and complaints
    options in
    inn.conf
    
    Obtained from:

Tue Sep 09 00:40:53 1997 <coneill>

  * lib/getconfig.c (1.2):
  * innd/innd.c (1.6):
  * include/libinn.h (1.3):
    New function: GetBooleanConfigValue.  Accepts a config key name and a
    default to use if the key doesn't exist or there is an error parsing
    it.  If
    the value of the key is 'yes', 'true', or 'on', then the function
    returns
    true, if the value is 'no', 'false', or 'off', then the function
    returns
    false.
    
    Changed innd so that it uses this interface to get the values of the
    XrefSlave, timespool, and wireformat keys.
    
    Obtained from:

Mon Sep 08 23:26:56 1997 <coneill>

  * nnrpd/nnrpd.c (1.2):
  * nnrpd/nnrpd.h (1.3):
    Added code to syslog NNRPD article and overview timing and data
    statistics.
    Now logs amount of article data sent, amount of time taken, number of
    articles, amount of overview data read, amount of overview data sent,
    amount
    of time to send, and number of overview records sent.
    
    Reduced the priority of the "cant getpeername" message to TRACE.  This
    is
    extremely common when servicing dialup clients and is normal.
    
    Added code to catch a SIGPIPE instead of ignoring it.  This will cause
    NNRP
    to log stats and exit if a SIGPIPE is caught.  Previously disconnected
    clients would not be detected until a given command completed.
    
    Changed the declaration of Printf to allow the return value of printf
    to be
    used.  This means that we can use the return value to directly measure
    the
    number of bytes sent.
    
    Obtained from:

Mon Sep 08 22:09:32 1997 <coneill>

  * nnrpd/misc.c (1.2):
    Changed PERMartok() to use the GetHeader routine to get the Newsgroups
    header instead of it parsing out the header itself.
    
    Obtained from:

Mon Sep 08 16:34:06 1997 <coneill>

  * nnrpd/article.c (1.3):
    This diff is for article.c for using OVER_MMAP and ART_MMAP on FreeBSD
    2.2.2-RELEASE & 3.0 (and maybe higher once they go to something higher
    :).
    
    Basically, the UIO_MAXIOV is #defined for KERNEL only, so added
    extremely simple #ifdef to get it in place so that article.c will
    build properly out of the box.
    
    Obtained from:

Mon Sep 08 06:55:50 1997 <coneill>

  * expire/expire.c (1.3):
    - Added the -k flag for use with the time based spool.  Causes expire
    to not
    remove a article from any group until it has expired in all of the
    groups.
    
    - Adds the 'X' flag to expire.ctl.	Makes the article disappear if it
    has
    been expired in any group.	Helps keep the load of binaries groups
    under
    control.  If anyone knows who wrote this, let me know so I can credit
    them.
    
    
    Obtained from:

Mon Sep 08 06:40:33 1997 <coneill>

  * expire/makehistory.c (1.3):
    Removed extern declaration of dbztagmask().  Not used with the new dbz
    code
    since tagmasks aren't used.
    
    Obtained from:

Mon Sep 08 06:33:37 1997 <coneill>

  * innd/nc.c (1.2):
    Some parts I forgot for wire format articles.  This should make the
    innd
    that's in the CVS tree more or less identical to what I'm actually
    running
    now.
    
    This basically turns on slaving in the call to ARTpost and skips the
    call to
    NCclean if wireformat is on.
    
    Obtained from:

Mon Sep 08 06:30:12 1997 <coneill>

  * innd/innd.c (1.5):
    Changed the call to PROCsetup() to allocate space for 10 channels by
    default
    instead of maxfd*2.  I don't know how you would ever have more than
    maxfd
    channels, but since the PROC code is able to increase the number of
    channels
    dynamically and the table is searched linearly, it makes sense not to
    waste
    memory and cpu on keeping this table unnecessarily large.
    
    
    Obtained from:

Mon Sep 08 06:03:09 1997 <coneill>

  * innd/newsfeeds.c (1.2):
  * innd/rc.c (1.2):
  * innd/site.c (1.2):
  * innd/art.c (1.4):
  * innd/innd.c (1.4):
  * innd/innd.h (1.4):
    This adds a per feed option for channel and program feeds.	It allows
    you to
    specify the per process nice value, overriding even INND_NICE_VALUE if
    you
    are using that facility.  This can be useful if you are running nnrpd's
    at a
    low priority, but want to run your channel feeds at a higher priority. 
    This
    is documented as the P flag in newsfeeds.5
    
    Obtained from:

Mon Sep 08 02:04:52 1997 <coneill>

  * nnrpd/Makefile (1.2):
  * nnrpd/article.c (1.2):
  * nnrpd/nnrpd.h (1.2):
  * innd/Makefile (1.2):
  * include/configdata.h (1.2):
  * include/libinn.h (1.2):
  * frontends/Makefile (1.2):
  * expire/Makefile (1.2):
  * expire/expire.c (1.2):
  * expire/expireover.c (1.2):
  * expire/makehistory.c (1.2):
  * backends/overchan.c (1.2):
  * backends/Makefile (1.2):
    Unfortunately this commit contains a few misc things also.
    
    - updates to Makefiles for the removal of -lutil from config.dist
    - updates to makehistory and expire to handle rebuilding the dbz files
    correctly.
    
    But the major changes here are support for mmaping overview, mmaping
    articles, wireformat article and overview indexes.	These should
    probably
    have been committed as separate patches, but they involved such large
    changes to article.c that it would have been difficult to separate
    them.
    Now one at a time explanation.
    
    Wireformat Articles
	    Articles are assumed to be in wireformat if the first line ends
    in
    \r\n.  Regular articles are still supported and will be transparently
    handled.
    
    MMAP'ing articles
	    This is a big performance win if you are writing articles in
    wireformat, but still helps if your OS has superior mmap performance
    and/or
    supports MADV_DONTNEED.  The article will be mmap'ed when it is
    requested
    and only unmapped when the next article is requested.  This means that
    you'll be holding the mapping until the reader requests the next
    article,
    but it also means that you don't have to mmap it twice if the reader
    does
    a mixture of HEAD and BODY commands (rn based readers).  With
    wireformat
    article the article is sent out using a single writev w/no user level
    overhead; with regular articles it will be sent out using write, with
    an 8k
    buffer.  If the OS supports MADV_DONTNEED, then nnrpd will issue a
    madvise
    using this, indicating that the OS can free the memory.  At least under
    Solaris, this means that your scan rate should go down immensely, and
    if you
    have enough memory to cache overviews then it should be near or at
    zero.
    
    MMAP'ing overviews
	    This reduces the number of context switches needed to access
    the
    overview files and makes the implementation of OVERfind() considerably
    simpler.
    
    Overview Indexes
	    This eliminates almost all of the cpu overhead and a lot of
    disk
    overhead associated with overview handling.  The basic idea is the
    expireover and overchan now understand how to write a binary index into
    the
    same directory that the overview file is stored in.  The index contains
    article number and offset pairs, giving nnrpd enough information to
    find the
    start of the overview entry without searching.  NNRPD loads the
    overview
    indexes into memory when XOVER is executed in the group the first time.
    The indexes can be changed to store any information that would be
    useful
    with very little work.  This is probably the best place to store an
    article # -> token translation.
    
    
    Obtained from:

Mon Sep 08 00:20:47 1997 <coneill>

  * doc/Makefile (1.2):
    Removed more dependencies on the dbz subdirectory
    
     - Removed rule to build dbz.3 from DBZDIR/dbz.3z.
     - Removed reference to DBZDIR from config.dist
    
    Obtained from:

Mon Sep 01 20:46:11 1997 <gpalmer>

  * obsolete/scanlogs-backend.pl (1.1):
  * samples/scanlogs.in (1.2):
  * config/files.list (1.2):
  * config/Makefile (1.2):
    Totally re-write the scanlogs stuff to do the grunt of the work in a
    fast
    perl script instead of multiple sh passes based on large numbers of
    pipes.
    On most machines this will produce a drastic speed improvement. A few
    more oddities are reported, as well as a totally new section to
    summarise
    traffic from sites that are path aliased out.
    
    scanlogs-backend.pl replaces tally.unwanted as well, since it parses
    the
    same file (${MOST_LOGS}/news) to get its data. There may be a file
    locking
    issue which I just broke (the old scanlogs had tally.unwanted inside a
    section where inn was paused).
    
    config/Makefile & config/files.list: Set up scanlogs-backend.pl for use
	with subst.
    
    (Appologies for the perl, its meant to be semi-readable, not optimal :)
    )

Wed Aug 27 03:49:48 1997 <coneill>

  * innd/art.c (1.3):
  * innd/innd.c (1.3):
  * innd/innd.h (1.3):
    Whether you use this option is configured with the 'timespool'
    option in inn.conf.  It defaults to off.
    
    This changes the spool organization somewhat.  It makes the normal
    hierarchy a shadow of a time based hierarchy.  The time based hierarchy
    is two levels.  The first level is bits 20-13 of the time that the
    article
    was received in hex, and the second level is bits 13-6 of the same.
    
    The article name name is of the format tttttttt-ssss, where tttttttt is
    the
    time the article was recieved in time_t format, and ssss is a sequence
    number to distinguish article that were recieved in the same second.
    
    The primary advantage of this is for feed-only machines, where you
    only access articles in the order written.	In that case it gives
    extremely good locality of reference.   This also helps to spread
    articles
    evenly across the time spool.  For reader machines this can be a help
    if you aren't i/o bound, except that open takes forever.  Writing the
    article into the time spool first and then letting crosspost handle all
    the
    real article links can be a performance win depending on the
    circumstances.
    I would expect that people running this on feed-only machines would
    just turn off crossposts altogether, using only the time based spool.

Wed Aug 27 02:28:52 1997 <coneill>

  * samples/parsecontrol.in (1.2):
  * samples/pgpverify.in (1.2):
    This is a fix to the control message processing so that they will
    handle
    wire format articles correctly.  This doesn't handle dot escaping, but
    that should be a non-issue given the common usages.  If not we can
    address that when it comes up.

Tue Aug 26 22:15:43 1997 <coneill>

  * include/qio.h (1.2):
    These are the changes I've made to the QIO routines to make them
    understand
    wire format articles.  Basically QIO now looks for a \r\n at the end of
    the first line and if there is one then it assume that the entire
    article will be in wireformat.  If it doesn't find a \r\n at the
    beginning
    of the first line then it assume that the article is in regular unix
    spool
    format and acts accordingly
    
    The net result is that all apps using the QIO routines for i/o should
    be
    able to use wireformat files w/no changes other than a recompile.  This
    give no net benefit w/o application specifiy optimizations.  I'll be
    committing code later to directly support wireformat articles in
    parsecontrol and nnrpd.

Mon Aug 25 22:31:17 1997 <coneill>

  * innd/art.c (1.2):
  * innd/art.h (1.2):
  * innd/innd.c (1.2):
  * innd/innd.h (1.2):
    This is a jumbo patch to art.c and a few other files to make the art.c
    patch work.  Major features here are:
    
    Wireformat articles - This is support for innd only for now.  I've got
    the
    code for everything else and that should be committed a little later.
    Instructions on how to turn it on are in inn.conf.5.  This code was
    orginally a diff to 1.4unoff4 and was given to me a while back by
    David Lawrence.  My contribution was to convert it to 1.5.1 and get it
    to like the xref slave patch.
    
    Xref slaving - Documentation is in inn.conf.5, basically allows you to
    take replication info from the Xref header instead of running xreplic
    and
    passing it over nntp.
    
    My artcount diff.  This keeps ARTwrite from clearing the artcount
    variable
    in every group on every write, and instead clears them when it exits if
    they need to be.

Mon Aug 25 21:28:44 1997 <coneill>

  * lib/md5.c (1.1):
  * include/md5.h (1.1):
    Added md5.h and md5.c into the tree for the dbz functions.	Were
    missing
    earlier

Mon Aug 25 05:32:28 1997 Marc Fournier <scrappy>

  * innfeed/sysconfig.h (1.5):
  * innfeed/main.c (1.5):
  * innfeed/host.c (1.21):
  * innfeed/connection.c (1.11):
  * innfeed/article.c (1.4):
    first round attempt at bringing the CNFS patches into the source
    tree

Sat Aug 16 03:41:17 1997 Marc Fournier <scrappy>

  * innfeed/main.c (1.4):
  * innfeed/README (1.2):
    From: Don Lewis <Don.Lewis@tsc.tdk.com>
    Subject: Re: innfeed-users: innfeed: assertions that don't hurt?
    
    On May 24,	3:59am, Jeff Garzik wrote:
    } Subject: innfeed-users: innfeed: assertions that don't hurt?
    } Each time I receive an assertion my innfeed process goes into an
    } infinite run state (under 0.10.1 and 0.10.1.x).
    
    The problem is that innfeed catches SIGIOT and attempts to do something
    useful with it and it also calls abort() in an attempt to drop core
    and exit when an assertion fails.  Abort() sends SIGABRT to the current
    process to do the dirty work, but the SIGIOT is an alias for SIGABRT in
    all the implementations I've looked at.  What ends up happening is that
    when innfeed calls abort(), the SIGIOT handler is invoked.	Most
    implementations will kill the process anyway after the handler returns,
    but whatever you're running probably just resends the signal causing
    the handler to be repeatedly invoked.
    
    Note: SIGTRAP, SIGIOT, SIGEMT, SIGBUS, SIGSYS, SIGURG, SIGIO, SIGXCPU,
    SIGXFSZ, SIGVTALRM, SIGPROF, SIGWINCH, and SIGINFO are not defined by
    POSIX.

Sat Aug 16 03:37:33 1997 Marc Fournier <scrappy>

  * innfeed/tape.c (1.4):
    memory leak fix by Alex Bligh

Mon Aug 11 21:17:39 1997 <coneill>

  * lib/Makefile (1.4):
    Fix for the lib Makefile so that md5.c is included in libinn.a

Mon Aug 11 21:04:56 1997 <coneill>

  * innd/his.c (1.2):
    This adds a lookup cache in front of the dbz routines.  It caches
    both positive and negative lookups.  It also logs history lookup
    stats under the "ME HIScache" name that give hits, misses, stores, etc.
    The size of the cache is set in inn.conf.  See the inn.conf man page
    for
    details on how to enable.

Wed Aug 06 04:05:56 1997 <coneill>

  * lib/Makefile (1.3):
  * lib/dbz.c (1.2):
  * include/dbz.h (1.2):
    Drastic changes to dbz.c and dbz.h.  Man page updated to reflect this.
    I removed all the old C-News and B-News compatiblity stuff.
    
    Added the ability to store 6-16 bytes of the md5 of the message-id in
    the .pag directly, along w/the offset into the history text.  Lookups
    now compare directly against the hash instead of reading the history
    text file to resolve collisions.  DBZ now never touches the history
    text file.
    
    Also, added the ability to do non-blocking writes to the .pag for when
    the data is not in-core.  This is signficantly faster on OS's that
    support
    non-blocking I/O to files.
    
    tagmask, casemapping, byte ordering, etc code ripped out since it's no
    longer needed.

Tue Aug 05 04:13:45 1997 <coneill>

  * lib/Makefile (1.2):
  * lib/dbz.c (1.1):
  * include/dbz.h (1.1):
    Removed the dbz directory as a special case.  dbz is no longer
    considered
    contributed code, so there is no benefit to maintaining it separately.
    Changes made to the lib Makefile to reflect this

  * obsolete/tally.unwanted (1.1):
  * samples/filter.tcl (1.1):
  * samples/filter_innd.pl (1.1):
  * samples/filter_nnrpd.pl (1.1):
  * samples/innwatch.in (1.1):
  * samples/moderators (1.1):
  * samples/newgroup.in (1.1):
  * samples/news.daily.in (1.1):
  * samples/nnrp.access (1.1):
  * samples/nntpsend.ctl (1.1):
  * samples/nntpsend.in (1.1):
  * samples/overview.fmt (1.1):
  * samples/parsecontrol.in (1.1):
  * samples/passwd.nntp (1.1):
  * samples/pgpverify.in (1.1):
  * samples/rc.news.in (1.1):
  * samples/rmgroup.in (1.1):
  * samples/sample.control (1.1):
  * samples/scanlogs.in (1.1):
  * samples/scanspool.in (1.1):
  * samples/send-ihave.in (1.1):
  * samples/send-nntp.in (1.1):
  * samples/send-uucp.in (1.1):
  * samples/sendbatch.in (1.1):
  * samples/sendme.in (1.1):
  * samples/sendsys.in (1.1):
  * samples/senduuname.in (1.1):
  * samples/signcontrol.in (1.1):
  * samples/startup_innd.pl (1.1):
  * samples/tally.control.in (1.1):
  * samples/version.in (1.1):
  * samples/writelog.in (1.1):
  * site/Makefile (1.1):
  * site/do-subst.sh (1.1):
  * site/getsafe.sh (1.1):
  * syslog/README (1.1):
  * syslog/logger.1 (1.1):
  * syslog/logger.c (1.1):
  * syslog/syslog.3 (1.1):
  * syslog/syslog.c (1.1):
  * syslog/syslog.h (1.1):
  * syslog/syslogd.8 (1.1):
  * syslog/syslogd.c (1.1):
    Initial revision

Mon Aug 04 04:03:49 1997 <gpalmer>

  * obsolete/tally.unwanted (1.1.1.1):
  * samples/filter.tcl (1.1.1.1):
  * samples/filter_innd.pl (1.1.1.1):
  * samples/filter_nnrpd.pl (1.1.1.1):
  * samples/innwatch.in (1.1.1.1):
  * samples/moderators (1.1.1.1):
  * samples/newgroup.in (1.1.1.1):
  * samples/news.daily.in (1.1.1.1):
  * samples/nnrp.access (1.1.1.1):
  * samples/nntpsend.ctl (1.1.1.1):
  * samples/nntpsend.in (1.1.1.1):
  * samples/overview.fmt (1.1.1.1):
  * samples/parsecontrol.in (1.1.1.1):
  * samples/passwd.nntp (1.1.1.1):
  * samples/pgpverify.in (1.1.1.1):
  * samples/rc.news.in (1.1.1.1):
  * samples/rmgroup.in (1.1.1.1):
  * samples/sample.control (1.1.1.1):
  * samples/scanlogs.in (1.1.1.1):
  * samples/scanspool.in (1.1.1.1):
  * samples/send-ihave.in (1.1.1.1):
  * samples/send-nntp.in (1.1.1.1):
  * samples/send-uucp.in (1.1.1.1):
  * samples/sendbatch.in (1.1.1.1):
  * samples/sendme.in (1.1.1.1):
  * samples/sendsys.in (1.1.1.1):
  * samples/senduuname.in (1.1.1.1):
  * samples/signcontrol.in (1.1.1.1):
  * samples/startup_innd.pl (1.1.1.1):
  * samples/tally.control.in (1.1.1.1):
  * samples/version.in (1.1.1.1):
  * samples/writelog.in (1.1.1.1):
  * site/Makefile (1.1.1.1):
  * site/do-subst.sh (1.1.1.1):
  * site/getsafe.sh (1.1.1.1):
  * syslog/README (1.1.1.1):
  * syslog/logger.1 (1.1.1.1):
  * syslog/logger.c (1.1.1.1):
  * syslog/syslog.3 (1.1.1.1):
  * syslog/syslog.c (1.1.1.1):
  * syslog/syslog.h (1.1.1.1):
  * syslog/syslogd.8 (1.1.1.1):
  * syslog/syslogd.c (1.1.1.1):
    Vendor import of 1.5.1
    
    Obtained from:  ISC
    CVS:

  * obsolete/README.obsolete (1.1):
  * obsolete/hosts.nntp.nolimit (1.1):
  * obsolete/innlog.awk (1.1):
  * obsolete/innlog.pl (1.1):
  * samples/actsync.ign (1.1):
  * samples/checkgroups.in (1.1):
  * samples/control.ctl (1.1):
  * samples/default.in (1.1):
  * samples/distrib.pats (1.1):
  * samples/docheckgroups.in (1.1):
  * samples/expire.ctl (1.1):
  * samples/expirerm.in (1.1):
  * samples/ihave.in (1.1):
  * samples/innstat.in (1.1):
    Initial revision

Mon Aug 04 04:03:48 1997 <gpalmer>

  * obsolete/README.obsolete (1.1.1.1):
  * obsolete/hosts.nntp.nolimit (1.1.1.1):
  * obsolete/innlog.awk (1.1.1.1):
  * obsolete/innlog.pl (1.1.1.1):
  * samples/actsync.ign (1.1.1.1):
  * samples/checkgroups.in (1.1.1.1):
  * samples/control.ctl (1.1.1.1):
  * samples/default.in (1.1.1.1):
  * samples/distrib.pats (1.1.1.1):
  * samples/docheckgroups.in (1.1.1.1):
  * samples/expire.ctl (1.1.1.1):
  * samples/expirerm.in (1.1.1.1):
  * samples/ihave.in (1.1.1.1):
  * samples/innstat.in (1.1.1.1):
    Vendor import of 1.5.1
    
    Obtained from:  ISC
    CVS:

  * innd/chan.c (1.1):
  * innd/his.c (1.1):
  * innd/icd.c (1.1):
  * innd/innd.c (1.1):
  * innd/innd.h (1.1):
  * innd/inndstart.c (1.1):
  * innd/lc.c (1.1):
  * innd/nc.c (1.1):
  * innd/newsfeeds.c (1.1):
  * innd/ng.c (1.1):
  * innd/perl.c (1.1):
  * innd/proc.c (1.1):
  * innd/rc.c (1.1):
  * innd/site.c (1.1):
  * innd/tcl.c (1.1):
  * lib/Makefile (1.1):
  * lib/checkart.c (1.1):
  * lib/cleanfrom.c (1.1):
  * lib/clientactive.c (1.1):
  * lib/clientlib.c (1.1):
  * lib/closeonexec.c (1.1):
  * lib/defdist.c (1.1):
  * lib/findheader.c (1.1):
  * lib/genid.c (1.1):
  * lib/getconfig.c (1.1):
  * lib/getdtab.c (1.1):
  * lib/getfqdn.c (1.1):
  * lib/getmodaddr.c (1.1):
  * lib/getopt.c (1.1):
  * lib/gettime.c (1.1):
  * lib/inet_ntoa.c (1.1):
  * lib/inndcomm.c (1.1):
  * lib/innvers.c (1.1):
  * lib/localopen.c (1.1):
  * lib/lock.c (1.1):
  * lib/lockfile.c (1.1):
  * lib/makellib.sh (1.1):
  * lib/malloc.c (1.1):
  * lib/memchr.c (1.1):
  * lib/memcmp.c (1.1):
  * lib/memcpy.c (1.1):
  * lib/memmove.c (1.1):
  * lib/memset.c (1.1):
  * lib/mkfifo.c (1.1):
  * lib/nonblocking.c (1.1):
  * lib/parsedate.y (1.1):
  * lib/perl.c (1.1):
  * lib/radix32.c (1.1):
  * lib/readin.c (1.1):
  * lib/remopen.c (1.1):
  * lib/resource.c (1.1):
  * lib/sendarticle.c (1.1):
  * lib/sendpass.c (1.1):
  * lib/strcasecmp.c (1.1):
  * lib/strchr.c (1.1):
  * lib/strerror.c (1.1):
  * lib/strrchr.c (1.1):
  * lib/strspn.c (1.1):
  * lib/strtok.c (1.1):
  * lib/tempname.c (1.1):
  * lib/waitnb.c (1.1):
  * lib/wildmat.c (1.1):
  * lib/writev.c (1.1):
  * lib/xfopena.c (1.1):
  * lib/xmalloc.c (1.1):
  * lib/xmemerr.c (1.1):
  * lib/xrealloc.c (1.1):
  * lib/xwrite.c (1.1):
  * lib/xwritev.c (1.1):
  * nnrpd/Makefile (1.1):
  * nnrpd/article.c (1.1):
  * nnrpd/commands.c (1.1):
  * nnrpd/group.c (1.1):
  * nnrpd/loadave.c (1.1):
  * nnrpd/misc.c (1.1):
  * nnrpd/newnews.c (1.1):
  * nnrpd/nnrpd.c (1.1):
  * nnrpd/nnrpd.h (1.1):
  * nnrpd/perl.c (1.1):
  * nnrpd/post.c (1.1):
  * nnrpd/post.h (1.1):
    Initial revision

Mon Aug 04 04:03:47 1997 <gpalmer>

  * innd/chan.c (1.1.1.1):
  * innd/his.c (1.1.1.1):
  * innd/icd.c (1.1.1.1):
  * innd/innd.c (1.1.1.1):
  * innd/innd.h (1.1.1.1):
  * innd/inndstart.c (1.1.1.1):
  * innd/lc.c (1.1.1.1):
  * innd/nc.c (1.1.1.1):
  * innd/newsfeeds.c (1.1.1.1):
  * innd/ng.c (1.1.1.1):
  * innd/perl.c (1.1.1.1):
  * innd/proc.c (1.1.1.1):
  * innd/rc.c (1.1.1.1):
  * innd/site.c (1.1.1.1):
  * innd/tcl.c (1.1.1.1):
  * lib/Makefile (1.1.1.1):
  * lib/checkart.c (1.1.1.1):
  * lib/cleanfrom.c (1.1.1.1):
  * lib/clientactive.c (1.1.1.1):
  * lib/clientlib.c (1.1.1.1):
  * lib/closeonexec.c (1.1.1.1):
  * lib/defdist.c (1.1.1.1):
  * lib/findheader.c (1.1.1.1):
  * lib/genid.c (1.1.1.1):
  * lib/getconfig.c (1.1.1.1):
  * lib/getdtab.c (1.1.1.1):
  * lib/getfqdn.c (1.1.1.1):
  * lib/getmodaddr.c (1.1.1.1):
  * lib/getopt.c (1.1.1.1):
  * lib/gettime.c (1.1.1.1):
  * lib/inet_ntoa.c (1.1.1.1):
  * lib/inndcomm.c (1.1.1.1):
  * lib/innvers.c (1.1.1.1):
  * lib/localopen.c (1.1.1.1):
  * lib/lock.c (1.1.1.1):
  * lib/lockfile.c (1.1.1.1):
  * lib/makellib.sh (1.1.1.1):
  * lib/malloc.c (1.1.1.1):
  * lib/memchr.c (1.1.1.1):
  * lib/memcmp.c (1.1.1.1):
  * lib/memcpy.c (1.1.1.1):
  * lib/memmove.c (1.1.1.1):
  * lib/memset.c (1.1.1.1):
  * lib/mkfifo.c (1.1.1.1):
  * lib/nonblocking.c (1.1.1.1):
  * lib/parsedate.y (1.1.1.1):
  * lib/perl.c (1.1.1.1):
  * lib/radix32.c (1.1.1.1):
  * lib/readin.c (1.1.1.1):
  * lib/remopen.c (1.1.1.1):
  * lib/resource.c (1.1.1.1):
  * lib/sendarticle.c (1.1.1.1):
  * lib/sendpass.c (1.1.1.1):
  * lib/strcasecmp.c (1.1.1.1):
  * lib/strchr.c (1.1.1.1):
  * lib/strerror.c (1.1.1.1):
  * lib/strrchr.c (1.1.1.1):
  * lib/strspn.c (1.1.1.1):
  * lib/strtok.c (1.1.1.1):
  * lib/tempname.c (1.1.1.1):
  * lib/waitnb.c (1.1.1.1):
  * lib/wildmat.c (1.1.1.1):
  * lib/writev.c (1.1.1.1):
  * lib/xfopena.c (1.1.1.1):
  * lib/xmalloc.c (1.1.1.1):
  * lib/xmemerr.c (1.1.1.1):
  * lib/xrealloc.c (1.1.1.1):
  * lib/xwrite.c (1.1.1.1):
  * lib/xwritev.c (1.1.1.1):
  * nnrpd/Makefile (1.1.1.1):
  * nnrpd/article.c (1.1.1.1):
  * nnrpd/commands.c (1.1.1.1):
  * nnrpd/group.c (1.1.1.1):
  * nnrpd/loadave.c (1.1.1.1):
  * nnrpd/misc.c (1.1.1.1):
  * nnrpd/newnews.c (1.1.1.1):
  * nnrpd/nnrpd.c (1.1.1.1):
  * nnrpd/nnrpd.h (1.1.1.1):
  * nnrpd/perl.c (1.1.1.1):
  * nnrpd/post.c (1.1.1.1):
  * nnrpd/post.h (1.1.1.1):
    Vendor import of 1.5.1
    
    Obtained from:  ISC
    CVS:

  * doc/putman.sh (1.1):
  * expire/Makefile (1.1):
  * expire/convdate.c (1.1):
  * expire/expire.c (1.1):
  * expire/expire.pch (1.1):
  * expire/expireover.c (1.1):
  * expire/fastrm.c (1.1):
  * expire/grephistory.c (1.1):
  * expire/makeactive.c (1.1):
  * expire/makehistory.c (1.1):
  * expire/newsrequeue.c (1.1):
  * expire/prunehistory.c (1.1):
  * expire/reap.pch (1.1):
  * frontends/Makefile (1.1):
  * frontends/ctlinnd.c (1.1):
  * frontends/decode.c (1.1):
  * frontends/encode.c (1.1):
  * frontends/feedone.c (1.1):
  * frontends/getlist.c (1.1):
  * frontends/inews.c (1.1):
  * frontends/innconfval.c (1.1):
  * frontends/rn.pch (1.1):
  * frontends/rnews.c (1.1):
  * frontends/sys2nf.c (1.1):
  * include/configdata.h (1.1):
  * include/inndcomm.h (1.1):
  * include/libinn.h (1.1):
  * include/macros.h (1.1):
  * include/mydir.h (1.1):
  * include/mymemory.h (1.1):
  * include/myserver.h (1.1):
  * include/mystring.h (1.1):
  * include/nntp.h (1.1):
  * include/patchlevel.h (1.1):
  * include/qio.h (1.1):
  * include/uio.h (1.1):
  * innd/Makefile (1.1):
  * innd/art.c (1.1):
  * innd/art.h (1.1):
  * innd/cc.c (1.1):
    Initial revision

Mon Aug 04 04:03:46 1997 <gpalmer>

  * doc/putman.sh (1.1.1.1):
  * expire/Makefile (1.1.1.1):
  * expire/convdate.c (1.1.1.1):
  * expire/expire.c (1.1.1.1):
  * expire/expire.pch (1.1.1.1):
  * expire/expireover.c (1.1.1.1):
  * expire/fastrm.c (1.1.1.1):
  * expire/grephistory.c (1.1.1.1):
  * expire/makeactive.c (1.1.1.1):
  * expire/makehistory.c (1.1.1.1):
  * expire/newsrequeue.c (1.1.1.1):
  * expire/prunehistory.c (1.1.1.1):
  * expire/reap.pch (1.1.1.1):
  * frontends/Makefile (1.1.1.1):
  * frontends/ctlinnd.c (1.1.1.1):
  * frontends/decode.c (1.1.1.1):
  * frontends/encode.c (1.1.1.1):
  * frontends/feedone.c (1.1.1.1):
  * frontends/getlist.c (1.1.1.1):
  * frontends/inews.c (1.1.1.1):
  * frontends/innconfval.c (1.1.1.1):
  * frontends/rn.pch (1.1.1.1):
  * frontends/rnews.c (1.1.1.1):
  * frontends/sys2nf.c (1.1.1.1):
  * include/configdata.h (1.1.1.1):
  * include/inndcomm.h (1.1.1.1):
  * include/libinn.h (1.1.1.1):
  * include/macros.h (1.1.1.1):
  * include/mydir.h (1.1.1.1):
  * include/mymemory.h (1.1.1.1):
  * include/myserver.h (1.1.1.1):
  * include/mystring.h (1.1.1.1):
  * include/nntp.h (1.1.1.1):
  * include/patchlevel.h (1.1.1.1):
  * include/qio.h (1.1.1.1):
  * include/uio.h (1.1.1.1):
  * innd/Makefile (1.1.1.1):
  * innd/art.c (1.1.1.1):
  * innd/art.h (1.1.1.1):
  * innd/cc.c (1.1.1.1):
    Vendor import of 1.5.1
    
    Obtained from:  ISC
    CVS:

  * backends/archive.c (1.1):
  * backends/batcher.c (1.1):
  * backends/buffchan.c (1.1):
  * backends/crosspost.c (1.1):
  * backends/cvtbatch.c (1.1):
  * backends/filechan.c (1.1):
  * backends/innxbatch.c (1.1):
  * backends/innxmit.c (1.1):
  * backends/map.c (1.1):
  * backends/nntpget.c (1.1):
  * backends/overchan.c (1.1):
  * backends/rcompress.c (1.1):
  * backends/shlock.c (1.1):
  * backends/shrinkfile.c (1.1):
  * config/Makefile (1.1):
  * config/checkconf.sh (1.1):
  * config/files.list (1.1):
  * config/fixinterps.pl (1.1):
  * config/subst.c (1.1):
  * config/subst.sh (1.1):
  * contrib/README.contrib (1.1):
  * contrib/expirectl (1.1):
  * contrib/findmissing.pl (1.1):
  * contrib/newsbot (1.1):
  * doc/Makefile (1.1):
  * doc/control-messages (1.1):
    Initial revision

Mon Aug 04 04:03:45 1997 <gpalmer>

  * backends/archive.c (1.1.1.1):
  * backends/batcher.c (1.1.1.1):
  * backends/buffchan.c (1.1.1.1):
  * backends/crosspost.c (1.1.1.1):
  * backends/cvtbatch.c (1.1.1.1):
  * backends/filechan.c (1.1.1.1):
  * backends/innxbatch.c (1.1.1.1):
  * backends/innxmit.c (1.1.1.1):
  * backends/map.c (1.1.1.1):
  * backends/nntpget.c (1.1.1.1):
  * backends/overchan.c (1.1.1.1):
  * backends/rcompress.c (1.1.1.1):
  * backends/shlock.c (1.1.1.1):
  * backends/shrinkfile.c (1.1.1.1):
  * config/Makefile (1.1.1.1):
  * config/checkconf.sh (1.1.1.1):
  * config/files.list (1.1.1.1):
  * config/fixinterps.pl (1.1.1.1):
  * config/subst.c (1.1.1.1):
  * config/subst.sh (1.1.1.1):
  * contrib/README.contrib (1.1.1.1):
  * contrib/expirectl (1.1.1.1):
  * contrib/findmissing.pl (1.1.1.1):
  * contrib/newsbot (1.1.1.1):
  * doc/Makefile (1.1.1.1):
  * doc/control-messages (1.1.1.1):
    Vendor import of 1.5.1
    
    Obtained from:  ISC
    CVS:

  * CONTRIBUTORS (1.1):
  * COPYRIGHT (1.1):
  * HISTORY (1.1):
  * MANIFEST (1.1):
  * MakeInews (1.1):
  * MakeLib (1.1):
  * MakeRnews (1.1):
  * Makefile (1.1):
  * README (1.1):
  * README.perl_hook (1.1):
  * README.tcl_hook (1.1):
  * authprogs/README.auth_pass (1.1):
  * authprogs/auth_pass.c (1.1):
  * backends/Makefile (1.1):
  * backends/actsync.c (1.1):
  * iftrue.sh (1.1):
  * installit.sh (1.1):
    Initial revision

Mon Aug 04 04:03:44 1997 <gpalmer>

  * CONTRIBUTORS (1.1.1.1):
  * COPYRIGHT (1.1.1.1):
  * HISTORY (1.1.1.1):
  * MANIFEST (1.1.1.1):
  * MakeInews (1.1.1.1):
  * MakeLib (1.1.1.1):
  * MakeRnews (1.1.1.1):
  * Makefile (1.1.1.1):
  * README (1.1.1.1):
  * README.perl_hook (1.1.1.1):
  * README.tcl_hook (1.1.1.1):
  * authprogs/README.auth_pass (1.1.1.1):
  * authprogs/auth_pass.c (1.1.1.1):
  * backends/Makefile (1.1.1.1):
  * backends/actsync.c (1.1.1.1):
  * iftrue.sh (1.1.1.1):
  * installit.sh (1.1.1.1):
    Vendor import of 1.5.1
    
    Obtained from:  ISC
    CVS:

Thu Jul 24 23:26:07 1997 Marc Fournier <scrappy>

  * innfeed/Makefile (1.5):
    From: "Alex.Bligh" <amb@xara.net>
    
    Ooops, missed this one line tidyup in the Makefile.
	    - Removed DYNAMIC_CONNECTIONS define

Sat Jul 19 21:00:13 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.20):
  * innfeed/connection.c (1.10):
    Don's patch for:
    
    assertion -- cxn->state != cxnIdleS -- failed in file connection.c line
    3862

Sat Jul 19 18:41:49 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.19):
  * innfeed/connection.h (1.3):
  * innfeed/connection.c (1.9):
  * innfeed/tape.c (1.3):
  * innfeed/host.c (1.18):
  * innfeed/endpoint.c (1.10):
  * innfeed/connection.c (1.8):
  * innfeed/configfile.y (1.4):
  * innfeed/config.h (1.3):
    From: "Alex.Bligh" <amb@xara.net>
    
	    stops feeds getting stuck

Sat Jul 19 18:38:17 1997 Marc Fournier <scrappy>

  * innfeed/msgs.h (1.7):
  * innfeed/misc.h (1.3):
  * innfeed/innlistener.c (1.4):
  * innfeed/host.h (1.5):
  * innfeed/host.c (1.17):
  * innfeed/connection.h (1.2):
  * innfeed/connection.c (1.7):
    From: "Alex.Bligh" <amb@xara.net>
    
    newhosthandling patch:
    
	    my new host handling stuff which fixes a pile of problems
    including
	    some resonably serious bugs

Thu May 22 02:31:15 1997 Marc Fournier <scrappy>

  * innfeed/contrib/newsresp.c (1.1):
  * innfeed/contrib/README.newsresp_c (1.1):
    Add a contrib directory

Thu May 22 02:28:50 1997 Marc Fournier <scrappy>

  * innfeed/malloc.c (1.2):
  * innfeed/innlistener.c (1.3):
  * innfeed/article.c (1.3):
    From: Katsuhiro Kondou <kondou@uxd.fc.nec.co.jp>
    Subject: Re: innfeed-users: New Snapshot: 0.10.1.3.tar.gz
    
    } Now I've started to use 0.10.1.3 on funneled channel feed. But
    } innfeed somtimes dumps core. All of them aborts at botch() in
    } malloc.c. I modified Makefile to use distributed malloc.c.
    } This happens when the channel is flushed by newgroup or rmgroup.
    } But not always. I have 7 peers and 2 peers(full feed) are very
    } slow to get articles. 5 minutes later since the channel flushed,
    } it dumps core. Until then innfeed seems to wait for the peer's
    } response.
    
    I've checked the codes to see how it comes, and found a problem
    with PointersFreedOnExit's contents. They should be pointers
    allocated by ALLOC, CALLOC, MALLOC, REALLOC or REMALLOC. The
    pointers got by newBuffer() or newBufferByCharP() are not always
    such one. Attatched is diff from 0.10.1.3. This won't cause
    dumping core.

Thu May 22 02:26:18 1997 Marc Fournier <scrappy>

  * innfeed/sysconfig.h (1.4):
  * innfeed/startinnfeed.c (1.2):
  * innfeed/host.c (1.16):
  * innfeed/endpoint.c (1.9):
  * innfeed/buffer.c (1.3):
    From: Jeff Garzik <jeff.garzik@spinne.com>
    Subject: innfeed-users: innfeed: compiling 0.10.1.2 under Linux
    
    Included below is the patch I created after hacking 0.10.1.2 to get
    it to compile under Linux.	In the process I cleaned up a few warnings
    and small buglets.	Been running for a couple days with no problems.
    
    This compiles and links cleanly on a Linux 2.0[.30] / Slackware 3.x /
    libc 5.3.12 system, but should be applicable to nearly all Linux 2.0
    and above systems.
    
    Most importantly, it:
	    Disables DO_NEED_SYS_SELECT for Linux
	    Enables MMAP support for Linux
	    Enables NBIO using FCNTL under Linux
    
	    Jeff

Thu May 22 02:16:36 1997 Marc Fournier <scrappy>

  * innfeed/connection.c (1.6):
    From: Don Lewis <Don.Lewis@tsc.tdk.com>
    Subject: innfeed-users: connection timer patch
    
    If you're running 0.10.1.3 and having problems with assertion failures,
    the
    attached patch should provide quite a bit of relief.  I've been running
    something close to this for a week or so, but I just merged this with
    the
    0.10.1.3 snapshot last night.  So far it doesn't look like I broke
    anything.
    I also added fixes for the two problems I hadn't seen that were
    reported
    in the last day (broken pipes cause assertion failures, and bogus 335
    responses cause assertion failures).  There's still one more problem
    that I've been trying to track down for most of this week, but it only
    seems to crop up once every few days.  Anyway, this has been running OK
    for the last 9 hours.
    
    This patch is against the version of connection.c in 0.10.1.3 and does
    not
    contain any of the other changes that were made by patches to this
    version
    that have appeared on the list.
    
    NOTE: this patch was applied after the previous patches

Thu May 22 02:12:55 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.15):
    From: "Alex.Bligh" <amb@xara.net>
    
    I think only half of my check/no-check filter patch made it into
    0.10.1.3. I can't think this is deliberate as what it will do is
    break interpretation of the config file and reporting (I think
    the bits to connection.c went in and not the bits to host.c).
    
    Here's a diff that fixes it.

Thu May 22 02:10:02 1997 Marc Fournier <scrappy>

  * innfeed/connection.c (1.5):
    From: Katsuhiro Kondou <kondou@uxd.fc.nec.co.jp>
    
    Fixes a core dump problem in 0.10.1.3

Thu May 22 02:08:18 1997 Marc Fournier <scrappy>

  * innfeed/connection.c (1.4):
    Patch from Katsuhiro Kondou <kondou@uxd.fc.nec.co.jp>
    
    fixes a core dump problem in 0.10.1.3

Mon May 12 02:52:51 1997 Marc Fournier <scrappy>

  * innfeed/msgs.h (1.6):
  * innfeed/host.h (1.4):
  * innfeed/host.c (1.14):
  * innfeed/connection.c (1.3):
  * innfeed/config.h (1.2):
    From: "Alex.Bligh" <amb@xara.net>
    
    Fixes to CHECK/no-CHECK

Mon May 12 02:48:18 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.13):
    From: "Alex.Bligh" <amb@xara.net>
    
    Better patch, IMHO, then my original cludge.
    
    Essentially, this patch checks if lastAPS is < 0, and sets it
    appropriately
    if so

Thu May 01 02:00:53 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.12):
    Set upper limit for checks to be 5minutes

Thu May 01 01:20:51 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.11):
  * innfeed/Makefile (1.4):
    Few errors with ordering in the hostChkCxn() function fixed

Thu May 01 00:19:07 1997 Marc Fournier <scrappy>

  * innfeed/endpoint.c (1.8):
    Hrmmm...doesn't want to commit:
    
    This patch makes Innfeed use a more efficient and reliable method to
    move file descriptors when stdio-fdmax > 0 is used:

Thu May 01 00:05:05 1997 Marc Fournier <scrappy>

  * innfeed/endpoint.c (1.7):
    Per Hedeland's Patch:
    
    This patch makes Innfeed use a more efficient and reliable method to
    move file descriptors when stdio-fdmax > 0 is used:

Thu May 01 00:04:07 1997 Marc Fournier <scrappy>

  * innfeed/main.c (1.3):
    Per Hedeland's Patch:
    
    This patch fixes the problem that the -e option doesn't work (the wrong
    value is used):

Wed Apr 30 23:58:52 1997 Marc Fournier <scrappy>

  * innfeed/main.c (1.2):
    Per Hedeland's Patch:
    
    This patch allows you to specify the pathname for funnel-file mode in
    the config file (using "input-file") - convenient when using multiple
    innfeeds in this mode:

Wed Apr 30 23:57:17 1997 Marc Fournier <scrappy>

  * innfeed/innlistener.c (1.2):
  * innfeed/host.h (1.3):
  * innfeed/endpoint.h (1.3):
  * innfeed/endpoint.c (1.6):
  * innfeed/Makefile (1.3):
    Per Hedeland's patch:
    
    This patch fixes the problem that the combination of using file mode
    and
    having stdio-fdmax set > 0 in the config file doesn't work (Innfeed
    reads from the wrong file descriptor):

Wed Apr 30 21:10:14 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.10):
    remove the cxnNuke(?) message that was going to syslog...

Wed Apr 30 20:57:08 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.9):
    Modify hostChkCxn() so that its calculations on APS are slightly more
    current then over the life of the process
    
    Change the nextCxnTimeChk so that it increases to 4min between checks,
    but
    never decreases...only the first 15 or so minutes should have much
    major
    changes in the numbers, so why check too frequently...

Wed Apr 30 19:57:04 1997 Marc Fournier <scrappy>

  * innfeed/Makefile (1.2):
  * innfeed/msgs.h (1.5):
  * innfeed/host.c (1.8):
    Merge in DYNAMIC_CONNECTIONS patch so that, by default, it is #ifdef'd
    out
    
    Makefile documents the option
    
    NOTICE:
    If anyone is totally against seeing this commit message sent to the
    list,
    please let me know, and I will remove it...the purpose of sending it to
    the
    list is that ppl will actually see patches applied...

Wed Apr 30 19:18:30 1997 Marc Fournier <scrappy>

  * innfeed/tape.c (1.2):
    Don Lewis' Patch:
    
    I haven't tested this one.	I'd change the #define that controls
    it to FTELL_IS_SLOW, and #define it in sysconfig.h for SunOS 4.x,
    Solaris 2.x and other flavors of stdio that don't optimize the
    lseek() out of ftell() when they can.  On other platforms, ftell()
    is likely to be faster than the strlen() calls.

Wed Apr 30 19:09:26 1997 Marc Fournier <scrappy>

  * innfeed/msgs.h (1.4):
  * innfeed/misc.h (1.2):
  * innfeed/endpoint.h (1.2):
  * innfeed/endpoint.c (1.5):
  * innfeed/connection.c (1.2):
    Don Lewis' Patch
    
    This (somewhat experimental) patch fixes the connection articleReceipt
    and responseTimeout timers and adds a write timeout.  The
    articleReceipt
    timeout still needs to be renamed to idleTimeout or something like
    that,
    configuration hooks need to be added to to set the write timeout, and
    the documentation needs to be updated.

Wed Apr 30 19:00:46 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.7):
    Don Lewis' Patch:
    
    This patch fixes the the problem with the connection counts being
    trashed when the max-connections is reduced in the config file:

Wed Apr 30 18:59:41 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.6):
    Don Lewis' Patch:
    
    This is the bugfix for host.c (important!):

Wed Apr 30 18:56:56 1997 Marc Fournier <scrappy>

  * innfeed/msgs.h (1.3):
  * innfeed/host.c (1.5):
    Don Lewis' Patch:
    
    An update to enhance logging:

Wed Apr 30 18:55:12 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.4):
  * innfeed/endpoint.c (1.4):
  * innfeed/buffer.c (1.2):
  * innfeed/article.c (1.2):
    Don Lewis' Patch:
    
    This patches reduce the amount of CPU time consumed by optimizing
    the conversion to wire format, the article hash lookup, endpoint
    priority sorting, and faster allocation of certain frequently
    allocated structures, but there is a deadly *bug* in host.c:

Wed Apr 30 18:53:29 1997 Marc Fournier <scrappy>

  * innfeed/host.c (1.3):
    Don Lewis' Patch:
    
    This patch causes the host's queues to be flushed to tape when all
    its connections close and it starts spooling everything:

Wed Apr 30 18:52:02 1997 Marc Fournier <scrappy>

  * innfeed/msgs.h (1.2):
  * innfeed/host.h (1.2):
  * innfeed/host.c (1.2):
  * innfeed/endpoint.c (1.3):
    Don Lewis' Patch:
    
    This patch attempts to reduce unnecessary spooling and adds more
    logging
    of the host queue status and spooling:

Wed Apr 30 18:50:28 1997 Marc Fournier <scrappy>

  * innfeed/sysconfig.h (1.3):
  * innfeed/configfile.y (1.3):
    Don Lewis' Patch:
    
    This patch fixes a couple portability problems to SunOS 4.1.x:

Wed Apr 30 18:47:27 1997 Marc Fournier <scrappy>

  * innfeed/configfile.y (1.2):
  * innfeed/configfile.l (1.2):
    Don Lewis Patch:
    
    This patch fixes a bug that bites if you enable USE_INN_INCLUDES in
    the Makefile:

Wed Apr 30 18:45:54 1997 Marc Fournier <scrappy>

  * innfeed/sysconfig.h (1.2):
  * innfeed/endpoint.c (1.2):
    Don Lewis Patch:
    
    These two patches fix a usage problem in some of the signal system
    calls
    and change the default to POSIX signals:

  * innfeed/ChangeLog (1.1):
  * innfeed/makedepend.sh (1.1):
  * innfeed/malloc.c (1.1):
  * innfeed/startinnfeed.c (1.1):
    Initial revision

Tue Apr 29 16:13:34 1997 Marc Fournier <scrappy>

  * innfeed/ChangeLog (1.1.1.1):
  * innfeed/makedepend.sh (1.1.1.1):
  * innfeed/malloc.c (1.1.1.1):
  * innfeed/startinnfeed.c (1.1.1.1):
    Innfeed Source Tree

  * innfeed/config_l.c (1.1):
  * innfeed/configfile.l (1.1):
  * innfeed/configfile.y (1.1):
  * innfeed/inet_addr.c (1.1):
  * innfeed/uio_maxiov.c (1.1):
    Initial revision

Tue Apr 29 16:13:33 1997 Marc Fournier <scrappy>

  * innfeed/config_l.c (1.1.1.1):
  * innfeed/configfile.l (1.1.1.1):
  * innfeed/configfile.y (1.1.1.1):
  * innfeed/inet_addr.c (1.1.1.1):
  * innfeed/uio_maxiov.c (1.1.1.1):
    Innfeed Source Tree

  * innfeed/INSTALL (1.1):
  * innfeed/Makefile (1.1):
  * innfeed/README (1.1):
  * innfeed/endpoint.h (1.1):
  * innfeed/host.h (1.1):
  * innfeed/innlistener.h (1.1):
  * innfeed/misc.h (1.1):
  * innfeed/msgs.h (1.1):
  * innfeed/sysconfig.h (1.1):
  * innfeed/tape.h (1.1):
  * innfeed/testListener.pl (1.1):
    Initial revision

Tue Apr 29 16:13:32 1997 Marc Fournier <scrappy>

  * innfeed/INSTALL (1.1.1.1):
  * innfeed/Makefile (1.1.1.1):
  * innfeed/README (1.1.1.1):
  * innfeed/endpoint.h (1.1.1.1):
  * innfeed/host.h (1.1.1.1):
  * innfeed/innlistener.h (1.1.1.1):
  * innfeed/misc.h (1.1.1.1):
  * innfeed/msgs.h (1.1.1.1):
  * innfeed/sysconfig.h (1.1.1.1):
  * innfeed/tape.h (1.1.1.1):
  * innfeed/testListener.pl (1.1.1.1):
    Innfeed Source Tree

  * innfeed/article.h (1.1):
  * innfeed/buffer.h (1.1):
  * innfeed/config.h (1.1):
  * innfeed/configfile.h (1.1):
  * innfeed/connection.h (1.1):
  * innfeed/main.c (1.1):
  * innfeed/misc.c (1.1):
  * innfeed/tape.c (1.1):
    Initial revision

Tue Apr 29 16:13:31 1997 Marc Fournier <scrappy>

  * innfeed/article.h (1.1.1.1):
  * innfeed/buffer.h (1.1.1.1):
  * innfeed/config.h (1.1.1.1):
  * innfeed/configfile.h (1.1.1.1):
  * innfeed/connection.h (1.1.1.1):
  * innfeed/main.c (1.1.1.1):
  * innfeed/misc.c (1.1.1.1):
  * innfeed/tape.c (1.1.1.1):
    Innfeed Source Tree

  * innfeed/buffer.c (1.1):
  * innfeed/connection.c (1.1):
  * innfeed/endpoint.c (1.1):
  * innfeed/host.c (1.1):
  * innfeed/innlistener.c (1.1):
    Initial revision

Tue Apr 29 16:13:30 1997 Marc Fournier <scrappy>

  * innfeed/buffer.c (1.1.1.1):
  * innfeed/connection.c (1.1.1.1):
  * innfeed/endpoint.c (1.1.1.1):
  * innfeed/host.c (1.1.1.1):
  * innfeed/innlistener.c (1.1.1.1):
    Innfeed Source Tree

  * innfeed/article.c (1.1):
    Initial revision

